id,issueId,commentId,commentAuthor,commentTime,commentHTML,commentText,issue
1,55128,Description,Manoj,"2013-06-22 15:44:22","Created <span class=""""><a href=""attachment.cgi?id=30472"" name=""attach_30472"" title=""stress_run_detials"">attachment 30472</a> <a href=""attachment.cgi?id=30472&amp;action=edit"" title=""stress_run_detials"">[details]</a></span>
stress_run_detials

Login page should not allow the user if he enters wrong credentials","Created attachment 30472 [details]
stress_run_detials

Login page should not allow the user if he enters wrong credentials",1
2,55128,"Comment 1","dev1","2013-06-22 16:03:44","The screenshot obviously isn't related to anything that has to do with Ant - and likely not related to anything close to your error description.  The .NET Antlib doesn't have any login page.

Are you trying to be funny or using our bugzilla to learn?  In either case, please stop it.","The screenshot obviously isn't related to anything that has to do with Ant - and likely not related to anything close to your error description.  The .NET Antlib doesn't have any login page.

Are you trying to be funny or using our bugzilla to learn?  In either case, please stop it.",1
3,53946,Description,swetha,"2012-09-29 16:34:19",dfdsfs,dfdsfs,2
4,53390,Description,Srikanth,"2012-06-09 07:36:41","Created <span class=""""><a href=""attachment.cgi?id=28908"" name=""attach_28908"" title=""vaidation issue"">attachment 28908</a> <a href=""attachment.cgi?id=28908&amp;action=edit"" title=""vaidation issue"">[details]</a></span>
vaidation issue

Please check the validation for the log in page","Created attachment 28908 [details]
vaidation issue

Please check the validation for the log in page",3
5,53390,"Comment 1","dev1","2012-06-09 19:44:08","stop abusing this bugzilla instamce","stop abusing this bugzilla instamce",3
6,53386,Description,Srikanth,"2012-06-08 12:49:53","Created <span class=""""><a href=""attachment.cgi?id=28904"" name=""attach_28904"" title=""look and feel issue"">attachment 28904</a> <a href=""attachment.cgi?id=28904&amp;action=edit"" title=""look and feel issue"">[details]</a></span>
look and feel issue

image is looking bluer","Created attachment 28904 [details]
look and feel issue

image is looking bluer",4
7,53385,Description,Srikanth,"2012-06-08 12:45:33",sample,sample,5
8,52437,Description,saravanan,"2012-01-07 01:54:18",,,6
9,51970,Description,"Jonathan Shore","2011-10-05 23:25:43","The mono gmcs compiler does not support later version of the C# standard (such as C# 4.0).  &lt;csc&gt; should now call the dmcs compiler which embodies C# 2.0 - 4.0 standards.

I was unable to build C# v4.0 source code or use v4.0 libraries with the current implementation.  I made a local adjustment to the CSharp.java class to use dmcs instead of gmcs, and all is fine.

Please consider for the next release.","The mono gmcs compiler does not support later version of the C# standard (such as C# 4.0).  <csc> should now call the dmcs compiler which embodies C# 2.0 - 4.0 standards.

I was unable to build C# v4.0 source code or use v4.0 libraries with the current implementation.  I made a local adjustment to the CSharp.java class to use dmcs instead of gmcs, and all is fine.

Please consider for the next release.",7
10,51970,"Comment 1","dev1","2011-10-07 06:10:40","On my Ubuntu 10.4 box with the default Mono installed (2.6) there is no dmcs.  Yes I know this is not exactly the latest version of Mono.

In either case we'd either need to autodetect whether dmcs is there or let the user chose explicitly using a new attribute.  The later actually already is there, you should be able to set the executable attribute.

I'd be willing to change the default for Mono to dmcs in the next release.","On my Ubuntu 10.4 box with the default Mono installed (2.6) there is no dmcs.  Yes I know this is not exactly the latest version of Mono.

In either case we'd either need to autodetect whether dmcs is there or let the user chose explicitly using a new attribute.  The later actually already is there, you should be able to set the executable attribute.

I'd be willing to change the default for Mono to dmcs in the next release.",7
11,51970,"Comment 2","Jonathan Shore","2011-10-07 14:46:42","Thanks I did not realize that there was a tag for executable as could not find the docs for csc on the web (though now can see in the source distribution).   Is csc deprecated?   Is the idea with apache-ant-dotnet to delegate to nant where possible?   Hope that csc remains with the project, as prefer to use ant over nant.","Thanks I did not realize that there was a tag for executable as could not find the docs for csc on the web (though now can see in the source distribution).   Is csc deprecated?   Is the idea with apache-ant-dotnet to delegate to nant where possible?   Hope that csc remains with the project, as prefer to use ant over nant.",7
12,51970,"Comment 3","dev1","2011-10-07 16:03:32","We have decided to move the .NEt tasks out of the main distribution into a separate jar that can have an independent release cycle long ago.

The .NET Antlib contains csc and other tasks and isn't going away anytime soon - even though it is very light on development as not many people use Ant for .NET stuff.","We have decided to move the .NEt tasks out of the main distribution into a separate jar that can have an independent release cycle long ago.

The .NET Antlib contains csc and other tasks and isn't going away anytime soon - even though it is very light on development as not many people use Ant for .NET stuff.",7
13,51023,Description,"Peder Refsnes","2011-04-05 13:34:04","Created <span class=""""><a href=""attachment.cgi?id=26857"" name=""attach_26857"" title=""adds a boolean attribute x86 to file NUnitTask.java"">attachment 26857</a> <a href=""attachment.cgi?id=26857&amp;action=edit"" title=""adds a boolean attribute x86 to file NUnitTask.java"">[details]</a></span>
adds a boolean attribute x86 to file NUnitTask.java

When running test assemblies targeting x86 in a 64bit windows os, the file nunit-console-x86.exe has to be used instead of nunit-console.exe. 

Currently, there is no way to toggle this in the nunit task. The attached patch implements a a boolean attribute that when set to true will use nunit-console-x86.exe. 

Could you please apply this patch to trunk?

Regards
Peder Refsnes","Created attachment 26857 [details]
adds a boolean attribute x86 to file NUnitTask.java

When running test assemblies targeting x86 in a 64bit windows os, the file nunit-console-x86.exe has to be used instead of nunit-console.exe. 

Currently, there is no way to toggle this in the nunit task. The attached patch implements a a boolean attribute that when set to true will use nunit-console-x86.exe. 

Could you please apply this patch to trunk?

Regards
Peder Refsnes",8
14,51023,"Comment 1","John Deer","2011-07-10 06:52:13","Spam comment deleted by system admin","Spam comment deleted by system admin",8
15,51433,Description,bharadhan,"2011-06-25 07:46:20","<a href=""mailto:t.bharadhan@yahoo.com"">t.bharadhan@yahoo.com</a>",t.bharadhan@yahoo.com,9
16,51157,Description,Elango,"2011-05-06 08:15:40",d,d,10
17,47254,Description,zhihengz,"2009-05-22 16:43:15","Created <span class=""""><a href=""attachment.cgi?id=23707"" name=""attach_23707"" title=""Patched WixTask java source file"">attachment 23707</a> <a href=""attachment.cgi?id=23707&amp;action=edit"" title=""Patched WixTask java source file"">[details]</a></span>
Patched WixTask java source file

When customizing the wix ui library, lit.exe instead of light.exe are used to produce a wix library instead of a msi binary. for example:

candle.exe MyWixUI_InstallDir.wxs ....
lit.exe -out MyWixUI_InstallDir.wixlib MyWixUI_InstallDir.wixobj ...

lit is almost same as light except it used to produce library, not msi final binary.

There is no need to write a task for lit only since very likely it used in same way as light, so here is the proposal to have a lit attribute in wix task, by default it is false, means light.exe will be invoked, when set to true, it will invoke lit instead.

&lt;dn:wix target=&quot;MyWixUI_InstallDir.wixlib&quot;
	    lit=&quot;true&quot;
	    wixhome=&quot;${wix.home}&quot;&gt;
      &lt;sources dir=&quot;src&quot; includes=&quot;*.wxs&quot;/&gt;
&lt;/dn:wix&gt;

a patched version of WixTask is attached for reference.","Created attachment 23707 [details]
Patched WixTask java source file

When customizing the wix ui library, lit.exe instead of light.exe are used to produce a wix library instead of a msi binary. for example:

candle.exe MyWixUI_InstallDir.wxs ....
lit.exe -out MyWixUI_InstallDir.wixlib MyWixUI_InstallDir.wixobj ...

lit is almost same as light except it used to produce library, not msi final binary.

There is no need to write a task for lit only since very likely it used in same way as light, so here is the proposal to have a lit attribute in wix task, by default it is false, means light.exe will be invoked, when set to true, it will invoke lit instead.

<dn:wix target=""MyWixUI_InstallDir.wixlib""
	    lit=""true""
	    wixhome=""${wix.home}"">
      <sources dir=""src"" includes=""*.wxs""/>
</dn:wix>

a patched version of WixTask is attached for reference.",11
18,47254,"Comment 1",zhihengz,"2009-07-01 22:35:31","Want to know is there any progress on this improvement ?","Want to know is there any progress on this improvement ?",11
19,47254,"Comment 2","dev1","2011-01-21 12:53:39","Sorry, for some reason I simply overlooked this enhancement.

Slightly modified version committed as svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1061898"">revision 1061898</a>","Sorry, for some reason I simply overlooked this enhancement.

Slightly modified version committed as svn revision 1061898",11
20,50611,Description,"Luke Torjussen","2011-01-18 15:40:32","The command line for NUnit to include/exclude tests of certain categories is specified as a comma separated string.
e.g. if I want to include test categories ATests, BTests and CTests I do:
&quot;/include:ATests,BTests,CTests&quot;
But using the nunit task produces &quot;/include:,ATests,BTests,CTests&quot;","The command line for NUnit to include/exclude tests of certain categories is specified as a comma separated string.
e.g. if I want to include test categories ATests, BTests and CTests I do:
""/include:ATests,BTests,CTests""
But using the nunit task produces ""/include:,ATests,BTests,CTests""",12
21,50611,"Comment 1","Luke Torjussen","2011-01-18 16:05:34","Created <span class=""""><a href=""attachment.cgi?id=26512&amp;action=diff"" name=""attach_26512"" title=""java patch"">attachment 26512</a> <a href=""attachment.cgi?id=26512&amp;action=edit"" title=""java patch"">[details]</a></span>
java patch

moved repeated code for creating comma separated string into separate method as well as fixing bug","Created attachment 26512 [details]
java patch

moved repeated code for creating comma separated string into separate method as well as fixing bug",12
22,50611,"Comment 2","dev1","2011-01-21 12:35:03","This has actually already been fixed in svn with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=752525"">revision 752525</a> 
but I took your patch as inspiration to factor out the redundant code
a little.  svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1061884"">revision 1061884</a>

Given the fix for this embarrasing bug has been in svn for almost two years
it may finally be time to think about a new release.","This has actually already been fixed in svn with svn revision 752525 
but I took your patch as inspiration to factor out the redundant code
a little.  svn revision 1061884

Given the fix for this embarrasing bug has been in svn for almost two years
it may finally be time to think about a new release.",12
23,50102,Description,luigi87,"2010-10-16 05:57:07","test test","test test",13
24,50102,"Comment 1","J.M. (Martijn) Kruithof","2010-10-17 05:10:44","Please do not use this system to perform your tests.","Please do not use this system to perform your tests.",13
25,50101,Description,luigi87,"2010-10-16 05:55:51",test,test,14
26,50101,"Comment 1","J.M. (Martijn) Kruithof","2010-10-17 05:10:10","Please do not use this system to perform your tests.","Please do not use this system to perform your tests.",14
27,47789,Description,"Michael Callahan","2009-09-04 15:43:22","When compiling C# programs with &lt;csc&gt; task, targeting newer frameworks (&gt; 1.1), a fatal error is raised.  This is because the &quot;/incremental&quot; flag is now obsolete.


Forgive me for not including a patch, as I don't now the proper format.  My idea for a fix:

Modify CSharp.getIncrementalParameter() to return nothing, unless a supporting framework is being used.

To figure out whether a supporting framework is being used, I'd personally just add a &quot;FrameworkVersion&quot; property to the task.  (There are other options, but none are very clean.)","When compiling C# programs with <csc> task, targeting newer frameworks (> 1.1), a fatal error is raised.  This is because the ""/incremental"" flag is now obsolete.


Forgive me for not including a patch, as I don't now the proper format.  My idea for a fix:

Modify CSharp.getIncrementalParameter() to return nothing, unless a supporting framework is being used.

To figure out whether a supporting framework is being used, I'd personally just add a ""FrameworkVersion"" property to the task.  (There are other options, but none are very clean.)",15
28,47789,"Comment 1","dev1","2009-09-05 10:22:51","fixed in svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=677879"">revision 677879</a>

The approach taken is to only use a /incremental when the attribute is true, document that CSC of .NET 3.5 doesn't like the flag and leave the rest to the
user.","fixed in svn revision 677879

The approach taken is to only use a /incremental when the attribute is true, document that CSC of .NET 3.5 doesn't like the flag and leave the rest to the
user.",15
29,47078,Description,zhihengz,"2009-04-22 10:24:31","Created <span class=""""><a href=""attachment.cgi?id=23530"" name=""attach_23530"" title=""TallowTask source code"">attachment 23530</a> <a href=""attachment.cgi?id=23530&amp;action=edit"" title=""TallowTask source code"">[details]</a></span>
TallowTask source code

We need tallow task to generate a template wxs from a binary distribution to easy the burden to create wxs from hand. Such as

&lt;dn:tallow target=&quot;product.wxs&quot; source=&quot;product&quot;/&gt;

Based on WixTask.java, I created TallowTask.java to add this extra bit, I have tested it on my own project, the source code and html file are attached.","Created attachment 23530 [details]
TallowTask source code

We need tallow task to generate a template wxs from a binary distribution to easy the burden to create wxs from hand. Such as

<dn:tallow target=""product.wxs"" source=""product""/>

Based on WixTask.java, I created TallowTask.java to add this extra bit, I have tested it on my own project, the source code and html file are attached.",16
30,47078,"Comment 1",zhihengz,"2009-04-22 10:25:29","Created <span class=""""><a href=""attachment.cgi?id=23531"" name=""attach_23531"" title=""tallow task html help file"">attachment 23531</a> <a href=""attachment.cgi?id=23531&amp;action=edit"" title=""tallow task html help file"">[details]</a></span>
tallow task html help file","Created attachment 23531 [details]
tallow task html help file",16
31,47078,"Comment 2","dev1","2009-05-05 09:29:06","Added as svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=771741"">revision 771741</a>

Thanks!

I'd love to add you as a contributor but would need your name ;-)","Added as svn revision 771741

Thanks!

I'd love to add you as a contributor but would need your name ;-)",16
32,47078,"Comment 3",zhihengz,"2009-05-05 12:23:59","Thanks!

I sent my info to your apache email account with subject of &quot;On regarding wix ant task&quot;","Thanks!

I sent my info to your apache email account with subject of ""On regarding wix ant task""",16
33,47078,"Comment 4",zhihengz,"2009-05-06 11:02:02","One minor issue, need add following task definition in
/src/main/org/apache/ant/dotnet/antlib.xml

&lt;taskdef name=&quot;tallow&quot; classname=&quot;org.apache.ant.dotnet.wix.WixTask&quot;/&gt;

so we can refer it as 
&lt;dn:tallow/&gt;","One minor issue, need add following task definition in
/src/main/org/apache/ant/dotnet/antlib.xml

<taskdef name=""tallow"" classname=""org.apache.ant.dotnet.wix.WixTask""/>

so we can refer it as 
<dn:tallow/>",16
34,47078,"Comment 5",zhihengz,"2009-05-06 11:03:15","sorry, typo in #4 comments, shall be 
&lt;taskdef name=&quot;tallow&quot; classname=&quot;org.apache.ant.dotnet.wix.TallowTask&quot;/&gt;","sorry, typo in #4 comments, shall be 
<taskdef name=""tallow"" classname=""org.apache.ant.dotnet.wix.TallowTask""/>",16
35,47078,"Comment 6","dev1","2009-05-07 02:59:13","fixed with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=772535"">revision 772535</a> - thanks!","fixed with svn revision 772535 - thanks!",16
36,46968,Description,zhihengz,"2009-04-03 22:01:03","current wix task cannot add extra arguments for light processing, for example we need link wixca library when doing light, current wix task only accept extra candle parameters, but not extra light arguments such as:

#light sample.wixobj ${wix.home}\wixui.wixlib -loc ${wix.home}\wixUI_en-us.wxl

A proposal is to add 

&lt;extraLightArg value=&quot;-loc&quot;/&gt;
&lt;extraLightArg pathValue=&quot;${wix.home}/wixUI_en-us.wxl&quot;/&gt;

inside &lt;wix&gt;","current wix task cannot add extra arguments for light processing, for example we need link wixca library when doing light, current wix task only accept extra candle parameters, but not extra light arguments such as:

#light sample.wixobj ${wix.home}\wixui.wixlib -loc ${wix.home}\wixUI_en-us.wxl

A proposal is to add 

<extraLightArg value=""-loc""/>
<extraLightArg pathValue=""${wix.home}/wixUI_en-us.wxl""/>

inside <wix>",17
37,46968,"Comment 1",zhihengz,"2009-04-03 22:02:35","Created <span class=""""><a href=""attachment.cgi?id=23441"" name=""attach_23441"" title=""A patched WixTask.java to accept additional nested element extraLightArg"">attachment 23441</a> <a href=""attachment.cgi?id=23441&amp;action=edit"" title=""A patched WixTask.java to accept additional nested element extraLightArg"">[details]</a></span>
A patched WixTask.java to accept additional nested element extraLightArg","Created attachment 23441 [details]
A patched WixTask.java to accept additional nested element extraLightArg",17
38,46968,"Comment 2","dev1","2009-04-09 08:35:09","I've taken an approach that reuses more of the existing Ant infrastructure than your patch.

fixed with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=763647"">revision 763647</a>","I've taken an approach that reuses more of the existing Ant infrastructure than your patch.

fixed with svn revision 763647",17
39,46968,"Comment 3",zhihengz,"2009-04-17 17:38:29","sure, I have tested it and looks good

Thanks //Jason","sure, I have tested it and looks good

Thanks //Jason",17
40,40886,Description,"Mark Modrall","2006-11-03 06:37:57","Here's a simple stylesheet that does a decent job translating nunit-style xml 
output to junit format.  This is useful when ant is used in conjunction with 
CruiseControl and CC is trying to merge outputs for a status determination.  CC 
already knows how to read junit output but not nunit","Here's a simple stylesheet that does a decent job translating nunit-style xml 
output to junit format.  This is useful when ant is used in conjunction with 
CruiseControl and CC is trying to merge outputs for a status determination.  CC 
already knows how to read junit output but not nunit",18
41,40886,"Comment 1","Mark Modrall","2006-11-03 06:39:18","Created <span class=""""><a href=""attachment.cgi?id=19083"" name=""attach_19083"" title=""xsl transform"">attachment 19083</a> <a href=""attachment.cgi?id=19083&amp;action=edit"" title=""xsl transform"">[details]</a></span>
xsl transform","Created attachment 19083 [details]
xsl transform",18
42,40886,"Comment 2","dev1","2008-04-24 06:18:25","Mark, this may be a silly question (and it may be even more silly to sit on it for eighteen months): you intend to contribute this stylesheet for us to distribute it under the terms of the Apache License, right?","Mark, this may be a silly question (and it may be even more silly to sit on it for eighteen months): you intend to contribute this stylesheet for us to distribute it under the terms of the Apache License, right?",18
43,40886,"Comment 3","dev1","2008-12-03 07:46:36","CANTFIX without the right to distribute it.","CANTFIX without the right to distribute it.",18
44,34992,Description,"Chris Nagy","2005-05-20 21:37:46","I've been trying to compile a compact framework library with the csc task. To do
this I need to pass the '/noconfig' option. Unfortunately, MS .NET 1.1 csc
compiler ignores the option when it is stored in the response file and the
compile fails:

 [csc] warning CS2023: Ignoring /noconfig option because it was specified in a
response file

I've modified two files (I'll attach the diffs):

- 'org.apache.tools.ant.taskdefs.optional.dotnet.DotNetCommand'
  There is another list whose elements will always be on the command line ( and
not in the resource file )

- 'org.apache.tools.ant.taskdefs.optional.dotnet.CSharp'
  The '/noconfig' option is added to the new list property and will always be on
the command line

I haven't tested this out with other compiles (ie. mcs)","I've been trying to compile a compact framework library with the csc task. To do
this I need to pass the '/noconfig' option. Unfortunately, MS .NET 1.1 csc
compiler ignores the option when it is stored in the response file and the
compile fails:

 [csc] warning CS2023: Ignoring /noconfig option because it was specified in a
response file

I've modified two files (I'll attach the diffs):

- 'org.apache.tools.ant.taskdefs.optional.dotnet.DotNetCommand'
  There is another list whose elements will always be on the command line ( and
not in the resource file )

- 'org.apache.tools.ant.taskdefs.optional.dotnet.CSharp'
  The '/noconfig' option is added to the new list property and will always be on
the command line

I haven't tested this out with other compiles (ie. mcs)",19
45,34992,"Comment 1","Chris Nagy","2005-05-20 21:39:10","Created <span class=""""><a href=""attachment.cgi?id=15093&amp;action=diff"" name=""attach_15093"" title=""Patch to CSharp.java to make sure /noconfig is on command line"">attachment 15093</a> <a href=""attachment.cgi?id=15093&amp;action=edit"" title=""Patch to CSharp.java to make sure /noconfig is on command line"">[details]</a></span>
Patch to CSharp.java to make sure /noconfig is on command line","Created attachment 15093 [details]
Patch to CSharp.java to make sure /noconfig is on command line",19
46,34992,"Comment 2","Chris Nagy","2005-05-20 21:40:06","Created <span class=""""><a href=""attachment.cgi?id=15094&amp;action=diff"" name=""attach_15094"" title=""Patch to NetCommand to add arguments that always appear on command line"">attachment 15094</a> <a href=""attachment.cgi?id=15094&amp;action=edit"" title=""Patch to NetCommand to add arguments that always appear on command line"">[details]</a></span>
Patch to NetCommand to add arguments that always appear on command line","Created attachment 15094 [details]
Patch to NetCommand to add arguments that always appear on command line",19
47,34992,"Comment 3","dev1","2008-07-18 06:52:49","fixed in svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=677883"">revision 677883</a> of the .NET Antlib","fixed in svn revision 677883 of the .NET Antlib",19
48,42170,Description,Manjunath,"2007-04-19 06:21:58","bug0 07","bug0 07",20
49,42170,"Comment 1","dev11","2007-04-19 06:28:41","Manjunath. 
What are you trying to do here. Stop it. if you want to play with bugzilla,
install your own copy. if you want to learn how to deal with bugs, get on the
ant dev list and ask for help.","Manjunath. 
What are you trying to do here. Stop it. if you want to play with bugzilla,
install your own copy. if you want to learn how to deal with bugs, get on the
ant dev list and ask for help.",20
50,41387,Description,"dev1","2007-01-16 21:45:01","See description in the referenced mail to user@ant","See description in the referenced mail to user@ant",21
51,41387,"Comment 1","dev77","2007-01-17 02:18:36","Is this not the same or similar as <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - jsharpc fails when run from directory with space in the path"" href=""show_bug.cgi?id=36565"">bug  36565</a>?","Is this not the same or similar as bug  36565?",21
52,41387,"Comment 2","dev1","2007-01-17 04:29:12","I wasn't aware of that report, yes, seems to be the same problem.

The discussion in 36565 indicates that just quoting the entire argument wouln't
help.  We'll see once I've coded up an AntUnit test, I guess.","I wasn't aware of that report, yes, seems to be the same problem.

The discussion in 36565 indicates that just quoting the entire argument wouln't
help.  We'll see once I've coded up an AntUnit test, I guess.",21
53,41387,"Comment 3","dev1","2007-01-17 04:31:05","*** <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - jsharpc fails when run from directory with space in the path"" href=""show_bug.cgi?id=36565"">Bug 36565</a> has been marked as a duplicate of this bug. ***","*** Bug 36565 has been marked as a duplicate of this bug. ***",21
54,41387,"Comment 4","dev1","2007-01-23 02:25:29","I think this is fixed in SVN by now, at least my AntUnit tests failed before my
patch (only when forcing the tasks to use a response file) and pass now.

See <a href=""http://svn.apache.org/viewvc?view=rev&amp;revision=498915"">http://svn.apache.org/viewvc?view=rev&amp;revision=498915</a>","I think this is fixed in SVN by now, at least my AntUnit tests failed before my
patch (only when forcing the tasks to use a response file) and pass now.

See http://svn.apache.org/viewvc?view=rev&revision=498915",21
55,42167,Description,Manjunath,"2007-04-19 00:14:19",description,description,22
56,42155,Description,Manjunath,"2007-04-18 05:38:13","<a href=""http://issues.apache.org/bugzilla/enter_bug.cgi?product=Ant"">http://issues.apache.org/bugzilla/enter_bug.cgi?product=Ant</a>",http://issues.apache.org/bugzilla/enter_bug.cgi?product=Ant,23
57,42154,Description,Manjunath,"2007-04-18 05:36:15","<a href=""http://issues.apache.org/bugzilla/enter_bug.cgi?product=Ant"">http://issues.apache.org/bugzilla/enter_bug.cgi?product=Ant</a>",http://issues.apache.org/bugzilla/enter_bug.cgi?product=Ant,24
58,42154,"Comment 1",manj,"2007-04-18 05:37:58","I need some more info...","I need some more info...",24
59,40553,Description,"dev1","2006-09-20 05:50:26",,,25
60,40553,"Comment 1","dev1","2006-09-21 21:08:28","implemented

<a href=""http://svn.apache.org/viewvc?view=rev&amp;revision=448637"">http://svn.apache.org/viewvc?view=rev&amp;revision=448637</a>","implemented

http://svn.apache.org/viewvc?view=rev&revision=448637",25
61,40552,Description,"dev1","2006-09-20 05:47:27","<span class=""quote"">&gt; If you set failOnerror and nunit fails, it just stops, meaning the
&gt; &lt;xslt&gt; doesn't get done.  You can't get &lt;nunit&gt; to *tell* you it
&gt; failed without failonerror.</span>","> If you set failOnerror and nunit fails, it just stops, meaning the
> <xslt> doesn't get done.  You can't get <nunit> to *tell* you it
> failed without failonerror.",26
62,40552,"Comment 1","dev1","2006-09-21 21:06:37","it's called errorproperty

<a href=""http://svn.apache.org/viewvc?view=rev&amp;revision=448635"">http://svn.apache.org/viewvc?view=rev&amp;revision=448635</a>","it's called errorproperty

http://svn.apache.org/viewvc?view=rev&revision=448635",26
63,38392,Description,"Brian Watson","2006-01-26 01:02:27","The MSBuild task (DotNet 1.6.2 compatible) fails to properly delimit targets and 
properties when multiple targets or properties are specified.

Example
&lt;msbuild&gt;
        &lt;property name=&quot;Prop1&quot; value=&quot;abc&quot;/&gt;
        &lt;property name=&quot;Prop2&quot; value=&quot;xyz&quot;/&gt;
&lt;/msbuild&gt;

results in -p:Prop1=abcProp2=xyz.  Note the missing semicolon between the Prop1 
and Prop2 name-value pairs.  Patch follows:

Index: MSBuildTask.java
===================================================================
--- MSBuildTask.java    (<a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=372335"">revision 372335</a>)
+++ MSBuildTask.java    (working copy)
@@ -64,6 +64,9 @@
                 if (!first) {
                     sb.append(&quot;;&quot;);
                 }
+                else {
+                    first = false;
+                }
                 sb.append(t.getName());
             }
             return new String[]{sb.toString()};
@@ -83,6 +86,9 @@
                 if (!first) {
                     sb.append(&quot;;&quot;);
                 }
+                else {
+                    first=false;
+                }
                 sb.append(p.getName()).append(&quot;=&quot;).append(p.getValue());
             }
             return new String[]{sb.toString()};
~","The MSBuild task (DotNet 1.6.2 compatible) fails to properly delimit targets and 
properties when multiple targets or properties are specified.

Example
<msbuild>
        <property name=""Prop1"" value=""abc""/>
        <property name=""Prop2"" value=""xyz""/>
</msbuild>

results in -p:Prop1=abcProp2=xyz.  Note the missing semicolon between the Prop1 
and Prop2 name-value pairs.  Patch follows:

Index: MSBuildTask.java
===================================================================
--- MSBuildTask.java    (revision 372335)
+++ MSBuildTask.java    (working copy)
@@ -64,6 +64,9 @@
                 if (!first) {
                     sb.append("";"");
                 }
+                else {
+                    first = false;
+                }
                 sb.append(t.getName());
             }
             return new String[]{sb.toString()};
@@ -83,6 +86,9 @@
                 if (!first) {
                     sb.append("";"");
                 }
+                else {
+                    first=false;
+                }
                 sb.append(p.getName()).append(""="").append(p.getValue());
             }
             return new String[]{sb.toString()};
~",27
64,38392,"Comment 1","Brian Watson","2006-01-26 01:04:25","Created <span class=""""><a href=""attachment.cgi?id=17504&amp;action=diff"" name=""attach_17504"" title=""Proposed patch - fixes the delimiter problem"">attachment 17504</a> <a href=""attachment.cgi?id=17504&amp;action=edit"" title=""Proposed patch - fixes the delimiter problem"">[details]</a></span>
Proposed patch - fixes the delimiter problem

This is the first time I've ever submitted a bug/patch so I'm sorry if I didn't
adhere to the correct process.","Created attachment 17504 [details]
Proposed patch - fixes the delimiter problem

This is the first time I've ever submitted a bug/patch so I'm sorry if I didn't
adhere to the correct process.",27
65,38392,"Comment 2","dev1","2006-01-26 07:14:06","I've just created new components for the three new antlibs.

Will take care of the bug.","I've just created new components for the three new antlibs.

Will take care of the bug.",27
66,38392,"Comment 3","dev1","2006-01-26 07:35:01","fixed in svn:

<a href=""http://svn.apache.org/viewcvs?rev=372448&amp;view=rev"">http://svn.apache.org/viewcvs?rev=372448&amp;view=rev</a>
<a href=""http://svn.apache.org/viewcvs?rev=372450&amp;view=rev"">http://svn.apache.org/viewcvs?rev=372450&amp;view=rev</a>","fixed in svn:

http://svn.apache.org/viewcvs?rev=372448&view=rev
http://svn.apache.org/viewcvs?rev=372450&view=rev",27
67,55911,Description,Sudheer,"2013-12-19 13:45:13","Hi how to fix this issue in service-now","Hi how to fix this issue in service-now",28
68,55911,"Comment 1","dev9","2013-12-19 15:39:51","Please do not use the public ASF Bugzilla instance for testing, but instead download and install your own (free!) copy of Bugzilla.","Please do not use the public ASF Bugzilla instance for testing, but instead download and install your own (free!) copy of Bugzilla.",28
69,53260,Description,nitin,"2012-05-18 14:14:52",gfdggggggggg,gfdggggggggg,29
70,51449,Description,swagat,"2011-06-29 12:27:38",asd,asd,30
71,51449,"Comment 1","dev1","2011-06-29 13:14:52","if you are trying to get yourself banned from this bugzilla instance, your approach is correct","if you are trying to get yourself banned from this bugzilla instance, your approach is correct",30
72,50103,Description,luigi87,"2010-10-16 06:03:52","test uniba so","test uniba so",31
73,50103,"Comment 1","J.M. (Martijn) Kruithof","2010-10-17 05:11:11","Please do not use this system to perform your tests.","Please do not use this system to perform your tests.",31
74,47818,Description,saurabh,"2009-09-10 19:24:13",saxcsa,saxcsa,32
75,46836,Description,hjgfjhfhg,"2009-03-11 09:17:01","&lt;img src=&quot;1.jpg&quot; onerror=&quot;location.href='<a href=""http://ya.ru"">http://ya.ru</a>'&quot; /&gt;

&lt;img src=&quot;<a href=""http://ya.ru/logo.gif"">http://ya.ru/logo.gif</a>&quot; onload=&quot;location.href='<a href=""http://ya.ru"">http://ya.ru</a>'&quot; /&gt;

&lt;p onMouseOver=&quot;location.href='<a href=""http://ya.ru"">http://ya.ru</a>'&quot;&gt;&lt;strong&gt;preved&lt;/strong&gt;&lt;/p&gt;

&lt;a href=&quot;<a href=""http://yandex.ru"">http://yandex.ru</a>&quot; onMouseOver=&quot;location.href='<a href=""http://ya.ru"">http://ya.ru</a>'&quot;&gt;preved&lt;/a&gt;","<img src=""1.jpg"" onerror=""location.href='http://ya.ru'"" />

<img src=""http://ya.ru/logo.gif"" onload=""location.href='http://ya.ru'"" />

<p onMouseOver=""location.href='http://ya.ru'""><strong>preved</strong></p>

<a href=""http://yandex.ru"" onMouseOver=""location.href='http://ya.ru'"">preved</a>",33
76,44909,Description,Desai,"2008-04-30 07:26:59",,,34
77,44909,"Comment 1",Desai,"2008-04-30 07:52:38","Have ficed it.
And now it should work ...... this way.
Can you please retest it and confirm me.
Chirag","Have ficed it.
And now it should work ...... this way.
Can you please retest it and confirm me.
Chirag",34
78,44909,"Comment 2",Desai,"2008-04-30 07:54:11","(In reply to <a href=""show_bug.cgi?id=44909#c0"">comment #0</a>)
<span class=""quote"">&gt; </span>

Thanks for working on this.
I could see some still problem with same area.
Can you rested.

- Regards,
User","(In reply to comment #0)
> 

Thanks for working on this.
I could see some still problem with same area.
Can you rested.

- Regards,
User",34
79,44909,"Comment 3",Desai,"2008-04-30 07:55:19","Sorry some changes i couldnt deploy.
Now its ready to test.

Regards
Chirag","Sorry some changes i couldnt deploy.
Now its ready to test.

Regards
Chirag",34
80,44909,"Comment 4",Desai,"2008-04-30 07:57:04","Thanks its working fine.

Regards
User","Thanks its working fine.

Regards
User",34
81,44909,"Comment 5",Desai,"2008-04-30 08:00:18","Created <span class=""""><a href=""attachment.cgi?id=21887"" name=""attach_21887"" title=""This is Task screen rule"">attachment 21887</a> <a href=""attachment.cgi?id=21887&amp;action=edit"" title=""This is Task screen rule"">[details]</a></span>
This is Task screen rule

Please read it and see if it is useful to you.

Chirag","Created attachment 21887 [details]
This is Task screen rule

Please read it and see if it is useful to you.

Chirag",34
82,44909,"Comment 6",Desai,"2008-04-30 08:10:13","(In reply to <a href=""show_bug.cgi?id=44909#c5"">comment #5</a>)
<span class=""quote"">&gt; Created an attachment (id=21887) [details]
&gt; This is Task screen rule
&gt; Please read it and see if it is useful to you.
&gt; Chirag</span>

This is very useful doc.

Thanks
User","(In reply to comment #5)
> Created an attachment (id=21887) [details]
> This is Task screen rule
> Please read it and see if it is useful to you.
> Chirag

This is very useful doc.

Thanks
User",34
83,44884,Description,maen,"2008-04-27 17:21:49",fdfvfgedgvrt,fdfvfgedgvrt,35
84,42176,Description,Manjunath,"2007-04-20 00:35:54","new bug","new bug",36
85,3748,Description,"Rolf Ley","2001-09-20 08:49:26","build.xml:2: You must specify value, location or refid with the name attribute.

I use a the example CMTNX from Oracle for the 9AS application server.

Where can I find an error-listing and how can I find the line that provocates 
this error.

Thanks. Rolf","build.xml:2: You must specify value, location or refid with the name attribute.

I use a the example CMTNX from Oracle for the 9AS application server.

Where can I find an error-listing and how can I find the line that provocates 
this error.

Thanks. Rolf",37
86,3748,"Comment 1","dev75","2001-09-20 22:18:06","It would be easier for us if you send your build.xml too.  But anyway, I guess, 
you haven't defined a property as defined in Ant's documentation.  Please visit 
<a href=""http://jakarta.apache.org/ant/manual/index.html"">http://jakarta.apache.org/ant/manual/index.html</a>, Select Built-in tasks, move 
down and click on Property.  Check if the rules specified here are being met in 
your build.xml.  Please note that there is a mailing list for ant users:

        <a href=""mailto:ant-user@jakarta.apache.org"">ant-user@jakarta.apache.org</a>

Sending your queries here will fetch you faster responses.  The problem with 
your build.xml is that exactly what the error you got :-)  you have defined a 
name for your property, but failed to define a value, location or refid along 
with it.

Please let us know if indeed this was the problem so that we can close this 
case.  Otherwise, please post your build.xml file so that we can take a peek.

Thanks,
Magesh","It would be easier for us if you send your build.xml too.  But anyway, I guess, 
you haven't defined a property as defined in Ant's documentation.  Please visit 
http://jakarta.apache.org/ant/manual/index.html, Select Built-in tasks, move 
down and click on Property.  Check if the rules specified here are being met in 
your build.xml.  Please note that there is a mailing list for ant users:

        ant-user@jakarta.apache.org

Sending your queries here will fetch you faster responses.  The problem with 
your build.xml is that exactly what the error you got :-)  you have defined a 
name for your property, but failed to define a value, location or refid along 
with it.

Please let us know if indeed this was the problem so that we can close this 
case.  Otherwise, please post your build.xml file so that we can take a peek.

Thanks,
Magesh",37
87,3748,"Comment 2","Rolf Ley","2001-09-21 01:00:43","Created <span class=""""><a href=""attachment.cgi?id=588"" name=""attach_588"" title=""build.xml"">attachment 588</a> <a href=""attachment.cgi?id=588&amp;action=edit"" title=""build.xml"">[details]</a></span>
build.xml","Created attachment 588 [details]
build.xml",37
88,3748,"Comment 3","dev75","2001-09-21 08:19:15","Please supply the file common.xml also.
Magesh","Please supply the file common.xml also.
Magesh",37
89,3748,"Comment 4","Rolf Ley","2001-09-24 03:02:14","Created <span class=""""><a href=""attachment.cgi?id=597&amp;action=diff"" name=""attach_597"" title=""Oracle build.xml example"">attachment 597</a> <a href=""attachment.cgi?id=597&amp;action=edit"" title=""Oracle build.xml example"">[details]</a></span>
Oracle build.xml example","Created attachment 597 [details]
Oracle build.xml example",37
90,3748,"Comment 5","Rolf Ley","2001-09-24 03:07:10","Hello Diane, Hello Magesch

I thought, that I send the common.xml-file too. However, I sent it again. 

But didn't Diane say, that the error occurs in line 2? Or could the common.xml-
file causes ant to give the wrong line-number?

Thanks for your help.

Regards Rolf","Hello Diane, Hello Magesch

I thought, that I send the common.xml-file too. However, I sent it again. 

But didn't Diane say, that the error occurs in line 2? Or could the common.xml-
file causes ant to give the wrong line-number?

Thanks for your help.

Regards Rolf",37
91,3748,"Comment 6","Rolf Ley","2001-09-24 03:22:44","Hello Diane, hello Magesh

thanks for your help. After putting in line 2 in common.xm. a blank-value it 
works. Now I recieve some other errors, but I think that I can manage this.

Anyway, we can close this case.

Thanks Rolf","Hello Diane, hello Magesh

thanks for your help. After putting in line 2 in common.xm. a blank-value it 
works. Now I recieve some other errors, but I think that I can manage this.

Anyway, we can close this case.

Thanks Rolf",37
92,4761,Description,Arulmanikandan,"2001-11-08 23:17:58","I downloaded the file jakarta-ant-1.4.1-bin.zip from the site 
<a href=""http://jakarta.apache.org/builds/ant/release/v1.4.1/bin/"">http://jakarta.apache.org/builds/ant/release/v1.4.1/bin/</a>
 ant i ran ant.bat it reported the following error

Buildfile: build.xml does not exist!
Build failed

The extracted files from the zip not contains build.xml.Could anyone tell me 
where shuld i download
the xml file.And also to install Ant Application they specified the foolowing 
files are downloaded from 
different sites for single jar files.Could anyone tell me where i can download 
all the specified jar
files in a single site.


Jar Name Needed For Available At An XSL transformer like Xalan or XSL:P style 
task <a href=""http://xml.apache.org/xalan-j/index.html"">http://xml.apache.org/xalan-j/index.html</a> or <a href=""http://www.clc"">http://www.clc</a>-
marketing.com/xslp/ 
jakarta-regexp-1.2.jar regexp type with mappers jakarta.apache.org/regexp/ 
jakarta-oro-2.0.1.jar regexp type with mappers and the perforce tasks 
jakarta.apache.org/oro/ 
junit.jar junit tasks www.junit.org 
stylebook.jar stylebook task CVS repository of xml.apache.org 
testlet.jar test task java.apache.org/framework 
antlr.jar antlr task www.antlr.org 
bsf.jar script task oss.software.ibm.com/developerworks/projects/bsf 
netrexx.jar netrexx task www2.hursley.ibm.com/netrexx 
rhino.jar javascript with script task www.mozilla.org 
jpython.jar python with script task www.jpython.org 
netcomponents.jar ftp and telnet tasks www.savarese.org/oro/downloads","I downloaded the file jakarta-ant-1.4.1-bin.zip from the site 
http://jakarta.apache.org/builds/ant/release/v1.4.1/bin/
 ant i ran ant.bat it reported the following error

Buildfile: build.xml does not exist!
Build failed

The extracted files from the zip not contains build.xml.Could anyone tell me 
where shuld i download
the xml file.And also to install Ant Application they specified the foolowing 
files are downloaded from 
different sites for single jar files.Could anyone tell me where i can download 
all the specified jar
files in a single site.


Jar Name Needed For Available At An XSL transformer like Xalan or XSL:P style 
task http://xml.apache.org/xalan-j/index.html or http://www.clc-
marketing.com/xslp/ 
jakarta-regexp-1.2.jar regexp type with mappers jakarta.apache.org/regexp/ 
jakarta-oro-2.0.1.jar regexp type with mappers and the perforce tasks 
jakarta.apache.org/oro/ 
junit.jar junit tasks www.junit.org 
stylebook.jar stylebook task CVS repository of xml.apache.org 
testlet.jar test task java.apache.org/framework 
antlr.jar antlr task www.antlr.org 
bsf.jar script task oss.software.ibm.com/developerworks/projects/bsf 
netrexx.jar netrexx task www2.hursley.ibm.com/netrexx 
rhino.jar javascript with script task www.mozilla.org 
jpython.jar python with script task www.jpython.org 
netcomponents.jar ftp and telnet tasks www.savarese.org/oro/downloads",38
93,4761,"Comment 1",Arulmanikandan,"2001-11-08 23:53:12","I downloaded the file jakarta-ant-1.4.1-bin.zip from the site 
<a href=""http://jakarta.apache.org/builds/ant/release/v1.4.1/bin/"">http://jakarta.apache.org/builds/ant/release/v1.4.1/bin/</a>
 ant i ran ant.bat it reported the following error

Buildfile: build.xml does not exist!
Build failed

The extracted files from the zip not contains build.xml.Could anyone 
tell me 
where shuld i download
the xml file.And also to install Ant Application they specified the 
foolowing 
files are downloaded from 
different sites for single jar files.Could anyone tell me where i can 
download 
all the specified jar
files in a single site.


Jar Name Needed For Available At An XSL transformer like Xalan or XSL:P 
style 
task <a href=""http://xml.apache.org/xalan-j/index.html"">http://xml.apache.org/xalan-j/index.html</a> or <a href=""http://www.clc"">http://www.clc</a>-
marketing.com/xslp/ 
jakarta-regexp-1.2.jar regexp type with mappers 
jakarta.apache.org/regexp/ 
jakarta-oro-2.0.1.jar regexp type with mappers and the perforce tasks 
jakarta.apache.org/oro/ 
junit.jar junit tasks www.junit.org 
stylebook.jar stylebook task CVS repository of xml.apache.org 
testlet.jar test task java.apache.org/framework 
antlr.jar antlr task www.antlr.org 
bsf.jar script task oss.software.ibm.com/developerworks/projects/bsf 
netrexx.jar netrexx task www2.hursley.ibm.com/netrexx 
rhino.jar javascript with script task www.mozilla.org 
jpython.jar python with script task www.jpython.org 
netcomponents.jar ftp and telnet tasks www.savarese.org/oro/downloads","I downloaded the file jakarta-ant-1.4.1-bin.zip from the site 
http://jakarta.apache.org/builds/ant/release/v1.4.1/bin/
 ant i ran ant.bat it reported the following error

Buildfile: build.xml does not exist!
Build failed

The extracted files from the zip not contains build.xml.Could anyone 
tell me 
where shuld i download
the xml file.And also to install Ant Application they specified the 
foolowing 
files are downloaded from 
different sites for single jar files.Could anyone tell me where i can 
download 
all the specified jar
files in a single site.


Jar Name Needed For Available At An XSL transformer like Xalan or XSL:P 
style 
task http://xml.apache.org/xalan-j/index.html or http://www.clc-
marketing.com/xslp/ 
jakarta-regexp-1.2.jar regexp type with mappers 
jakarta.apache.org/regexp/ 
jakarta-oro-2.0.1.jar regexp type with mappers and the perforce tasks 
jakarta.apache.org/oro/ 
junit.jar junit tasks www.junit.org 
stylebook.jar stylebook task CVS repository of xml.apache.org 
testlet.jar test task java.apache.org/framework 
antlr.jar antlr task www.antlr.org 
bsf.jar script task oss.software.ibm.com/developerworks/projects/bsf 
netrexx.jar netrexx task www2.hursley.ibm.com/netrexx 
rhino.jar javascript with script task www.mozilla.org 
jpython.jar python with script task www.jpython.org 
netcomponents.jar ftp and telnet tasks www.savarese.org/oro/downloads",38
94,4761,"Comment 2","dev75","2001-11-11 11:57:58","A good first step would be for you to read the documentation instead of 
running ant.bat as soon as downloading Ant.  Look under the topic 'Running Ant'.
There is no site that I am aware of that distributes all the supporting jar 
files.  Realistically, you wouldn't need them all, anyway.  You have to download
only those that you really need - based on the tasks that you execute.","A good first step would be for you to read the documentation instead of 
running ant.bat as soon as downloading Ant.  Look under the topic 'Running Ant'.
There is no site that I am aware of that distributes all the supporting jar 
files.  Realistically, you wouldn't need them all, anyway.  You have to download
only those that you really need - based on the tasks that you execute.",38
95,14138,Description,"Craig Campbell","2002-10-31 17:31:57","1) Application/User properties - This controls the placement of the 
application frame on the desktop, 
the splitpane divider locations, open projects, last visited directory when 
opening or saving, text 
fonts and colors for console pane and source viewer, etc...

2) Preference Manager - Allows the creation of editors for preferences for 
each module if desired.

3) New property editor - The new property editor is created by Introspecting 
the selected task creating
appropriate field for the getter/setter bean property.  Since Ant tends to not 
have getters a middle
piece was created to port the setters to properties thus giving read/write 
capability to an otherwise
write only property.

4) New visual look for the editors - Follows a lot like the eclipse editor for 
their xml pieces (I don't
know how better to explain it, it's a must see addition).

5) Property Helper - Much like a code completion piece in an IDE except this 
only helps with the property
selection.  If a user types a $ and then nothing for predetermined time up 
pops a property chooser with 
a list of already defined properties.

6) Source Viewer - Shows the document that is being created.  No editing 
capability.  Color coding
(preference editor does not currently work).

7) Cut/Paste/Copy - Functionality allows the user to Cut/Paste or Copy/Paste 
any tree node 
(Type/Task/Property/Target) in the navigator and across projects.

8) Help - This is the JavaHelp system, but currently is not functioning.  
Plans to change to a web browser
launcher if we move to a Java WebStart deployment plan.  The only way to keep 
the JavaHelp system is to
Jar all the documentation that is produced for Ant.

9) Wizard - The wizard is now accessible from a menu within the running 
application.  Needs work!","1) Application/User properties - This controls the placement of the 
application frame on the desktop, 
the splitpane divider locations, open projects, last visited directory when 
opening or saving, text 
fonts and colors for console pane and source viewer, etc...

2) Preference Manager - Allows the creation of editors for preferences for 
each module if desired.

3) New property editor - The new property editor is created by Introspecting 
the selected task creating
appropriate field for the getter/setter bean property.  Since Ant tends to not 
have getters a middle
piece was created to port the setters to properties thus giving read/write 
capability to an otherwise
write only property.

4) New visual look for the editors - Follows a lot like the eclipse editor for 
their xml pieces (I don't
know how better to explain it, it's a must see addition).

5) Property Helper - Much like a code completion piece in an IDE except this 
only helps with the property
selection.  If a user types a $ and then nothing for predetermined time up 
pops a property chooser with 
a list of already defined properties.

6) Source Viewer - Shows the document that is being created.  No editing 
capability.  Color coding
(preference editor does not currently work).

7) Cut/Paste/Copy - Functionality allows the user to Cut/Paste or Copy/Paste 
any tree node 
(Type/Task/Property/Target) in the navigator and across projects.

8) Help - This is the JavaHelp system, but currently is not functioning.  
Plans to change to a web browser
launcher if we move to a Java WebStart deployment plan.  The only way to keep 
the JavaHelp system is to
Jar all the documentation that is produced for Ant.

9) Wizard - The wizard is now accessible from a menu within the running 
application.  Needs work!",39
96,14138,"Comment 1","Craig Campbell","2002-10-31 18:00:48","Created <span class=""""><a href=""attachment.cgi?id=3685"" name=""attach_3685"" title=""Source for the proposed enhancement to Antidote"">attachment 3685</a> <a href=""attachment.cgi?id=3685&amp;action=edit"" title=""Source for the proposed enhancement to Antidote"">[details]</a></span>
Source for the proposed enhancement to Antidote","Created attachment 3685 [details]
Source for the proposed enhancement to Antidote",39
97,14138,"Comment 2","dev1","2005-04-05 12:26:34","The Antidote project is no longer supported.","The Antidote project is no longer supported.",39
98,16510,Description,"Craig Campbell","2003-01-28 21:34:04","Index: ./src/java/org/apache/tools/ant/gui/acs/ACSFactory.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/acs/ACSFactory.java,v
retrieving <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1"">revision 1</a>.4
diff -r1.4 ACSFactory.java
85c85
&lt;  * @author Simeon Fitch, Christoph Wilhelms&lt;a 
href=&quot;<a href=""mailto:christoph.wilhelms@t-online.de"">mailto:christoph.wilhelms@t-online.de</a>&quot;&gt;<a href=""mailto:christoph.wilhelms@t-online.de"">christoph.wilhelms@t-online.de</a>&lt;/a&gt;
---
<span class=""quote"">&gt;  * @author Simeon Fitch, Christoph Wilhelms&lt;a </span>
href=&quot;<a href=""mailto:christoph.wilhelms@t-online.de"">mailto:christoph.wilhelms@t-online.de</a>&quot;&gt;christoph.wilhelms@t-
online.de&lt;/a&gt;, Craig Campbell
187,188c187,188
&lt; //                    info._attributes.put(name, type);  // for debug 
purpose only
&lt;                     info._attributes.put(name, &quot;&quot;);
---
<span class=""quote"">&gt;                     info._attributes.put(name, type);  // type is now needed </span>
for associating attribute name with a custom editor
<span class=""quote"">&gt; //                    info._attributes.put(name, &quot;&quot;);</span>
402a403,409
<span class=""quote"">&gt; 
&gt; /*
&gt; Change log:
&gt; 
&gt; 1/28/2003 (CC) -  added the type value to the attributes so that we can </span>
later use that type
<span class=""quote"">&gt;         to create a customized editor.
&gt; */</span>
Index: ./src/java/org/apache/tools/ant/gui/customizer/FilePropertyEditor.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/customizer/FilePropertyEditor.java,v
retrieving <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1"">revision 1</a>.1
diff -r1.1 FilePropertyEditor.java
70c70
&lt;  * @author Simeon Fitch 
---
<span class=""quote"">&gt;  * @author Simeon Fitch, Craig Campbell</span>
93c93,94
&lt;         JButton b = new JButton(&quot;Browse...&quot;);
---
<span class=""quote"">&gt;         JButton b = new JButton(&quot;...&quot;);
&gt;         b.setBorder(BorderFactory.createEtchedBorder());</span>
213a215,222
<span class=""quote"">&gt; 
&gt; /*
&gt; Change log:
&gt; 1/28/2003 (CC) - changed the text on the button from &quot;Browse&quot; to an elipse </span>
(...) and changed
<span class=""quote"">&gt;         the border around the button to etched to create make it less </span>
intrusive. As well as
<span class=""quote"">&gt;         made it so there does not have to any translation for this component </span>
to work outside
<span class=""quote"">&gt;         english speaking countries.
&gt; */</span>
Index: ./src/java/org/apache/tools/ant/gui/modules/edit/AttributePropertyEditor
.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/modules/edit/AttributePropertyEditor
.java,v
retrieving <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1"">revision 1</a>.1
diff -r1.1 AttributePropertyEditor.java
61,63d60
&lt; import java.awt.event.ActionEvent;
&lt; import java.awt.event.ActionListener;
&lt; 
76a74,76
<span class=""quote"">&gt; import java.beans.PropertyChangeEvent;
&gt; import java.beans.PropertyChangeListener;
&gt; </span>
77a78
<span class=""quote"">&gt; import org.apache.tools.ant.gui.customizer.DynamicTableCellEditor;</span>
84c85
&lt;  * @author Christoph Wilhelms&lt;a href=&quot;mailto:christoph.wilhelms@t-
online.de&quot;&gt;Christoph Wilhelms&lt;/a&gt;
---
<span class=""quote"">&gt;  * @author Christoph Wilhelms&lt;a href=&quot;mailto:christoph.wilhelms@t-</span>
online.de&quot;&gt;Christoph Wilhelms&lt;/a&gt;, Craig Campbell
176,186c177,197
&lt;         // When the combo box is updated, update the table.
&lt;         /*
&lt;         _combo.addActionListener(new ActionListener() {
&lt;             public void actionPerformed(ActionEvent e) {
&lt;                 JComboBox cb = (JComboBox)e.getSource();
&lt;                 String newSelection = (String)cb.getSelectedItem();
&lt; 
&lt;                 // Should we update the table?
&lt;                 if (newSelection != null &amp;&amp; _table.getEditingRow() &gt; 0) {
&lt;                     _table.getModel().setValueAt(newSelection,
&lt;                         _table.getEditingRow(), _table.getEditingColumn() );
---
<span class=""quote"">&gt;         // Set the second column to use a DynamicEditor
&gt;         TableColumn secondCol = _table.getColumnModel().getColumn(1);
&gt;         final DynamicTableCellEditor cellEditor = new DynamicTableCellEditor</span>
();
<span class=""quote"">&gt;         secondCol.setCellEditor(cellEditor);
&gt; 
&gt;         // Listen for property changes to update the cell editor with
&gt;         // registered types for editing.
&gt;         _table.addPropertyChangeListener(new PropertyChangeListener() {
&gt;             public void propertyChange(PropertyChangeEvent e) {
&gt;                 String selection = (String)_table.getModel().getValueAt(
&gt;                                 _table.getSelectedRow(), 0);
&gt; 
&gt;                 if(selection != null &amp;&amp; !selection.equals(&quot;&quot;)) {
&gt; 
&gt;                     Class type = null;
&gt;                     try {
&gt;                         type = _attributes.getType(selection);
&gt;                         cellEditor.register(selection, type);
&gt;                     } catch (ClassNotFoundException exp) {
&gt;                         exp.printStackTrace();
&gt;                     }</span>
190d200
&lt;          */
319c329
&lt;             if(row &lt; _attributes.size()) {
---
<span class=""quote"">&gt;             if(((row &lt; _attributes.size())  &amp;&amp; (row &lt; _keys.size())) &amp;&amp; row 
&gt; -1) {</span>
394a405,415
<span class=""quote"">&gt; 
&gt; /*
&gt; Change log:
&gt; 
&gt; 1/28/2003 (CC) - Added to the second column of the table a dynmaic table </span>
cell editor.  This
<span class=""quote"">&gt;         editor will examine the type of attribute the user selects and find </span>
the appropriate
<span class=""quote"">&gt;         editor (StringPropertyEditor, FilePropertyEditor, </span>
BooleanPropertyEditor...).  Added
<span class=""quote"">&gt;         as well a property listener to catch the changes made in the table </span>
so the attributes
<span class=""quote"">&gt;         will have editors if they exist.
&gt; 
&gt; */</span>
Index: ./src/java/org/apache/tools/ant/gui/xml/DOMAttributes.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/xml/DOMAttributes.java,v
retrieving <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1"">revision 1</a>.1
diff -r1.1 DOMAttributes.java
57,58d56
&lt; import java.io.IOException;
&lt; 
60d57
&lt; import java.util.Enumeration;
68c65
&lt;  * @author Christoph Wilhelms&lt;a href=&quot;mailto:christoph.wilhelms@t-
online.de&quot;&gt;<a href=""mailto:christoph.wilhelms@t-online.de"">christoph.wilhelms@t-online.de</a>&lt;/a&gt;
---
<span class=""quote"">&gt;  * @author Christoph Wilhelms&lt;a href=&quot;mailto:christoph.wilhelms@t-</span>
online.de&quot;&gt;<a href=""mailto:christoph.wilhelms@t-online.de"">christoph.wilhelms@t-online.de</a>&lt;/a&gt;, Craig Campbell
71a69
<span class=""quote"">&gt;     private Map _mapElements = null;</span>
84c82
&lt;      * @param element provides information about possible attributes.
---
<span class=""quote"">&gt;      * @param elements provides information about possible attributes.</span>
95a94,95
<span class=""quote"">&gt;             
&gt;             _mapElements = elements; // save for searching for type.</span>
114a115,135
<span class=""quote"">&gt;     
&gt;     /**
&gt;      * Allow the searching of type for individual attributes
&gt;      *
&gt;      * @param name attribute name
&gt;      * @return Class - associated type.
&gt;      */
&gt;     public Class getType(String name) throws ClassNotFoundException   {
&gt;         if(name == null)
&gt;             return null;
&gt; 
&gt;         String typeName = (String)_mapElements.get(name);
&gt;         if(typeName.equals(&quot;boolean&quot;))
&gt;             return boolean.class;
&gt;         else if(typeName.equals(&quot;int&quot;))
&gt;             return double.class;
&gt;         else if(typeName.equals(&quot;double&quot;))
&gt;             return int.class;
&gt;         else
&gt;             return Class.forName(typeName);
&gt;     }</span>
115a137,142
<span class=""quote"">&gt; 
&gt; /*
&gt; Change log:
&gt; 1/28/2003 (CC) - added getType method to object to return the type of class </span>
the
<span class=""quote"">&gt;         attribute is associated with.
&gt; */</span>","Index: ./src/java/org/apache/tools/ant/gui/acs/ACSFactory.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/acs/ACSFactory.java,v
retrieving revision 1.4
diff -r1.4 ACSFactory.java
85c85
<  * @author Simeon Fitch, Christoph Wilhelms<a 
href=""mailto:christoph.wilhelms@t-online.de"">christoph.wilhelms@t-online.de</a>
---
>  * @author Simeon Fitch, Christoph Wilhelms<a 
href=""mailto:christoph.wilhelms@t-online.de"">christoph.wilhelms@t-
online.de</a>, Craig Campbell
187,188c187,188
< //                    info._attributes.put(name, type);  // for debug 
purpose only
<                     info._attributes.put(name, """");
---
>                     info._attributes.put(name, type);  // type is now needed 
for associating attribute name with a custom editor
> //                    info._attributes.put(name, """");
402a403,409
> 
> /*
> Change log:
> 
> 1/28/2003 (CC) -  added the type value to the attributes so that we can 
later use that type
>         to create a customized editor.
> */
Index: ./src/java/org/apache/tools/ant/gui/customizer/FilePropertyEditor.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/customizer/FilePropertyEditor.java,v
retrieving revision 1.1
diff -r1.1 FilePropertyEditor.java
70c70
<  * @author Simeon Fitch 
---
>  * @author Simeon Fitch, Craig Campbell
93c93,94
<         JButton b = new JButton(""Browse..."");
---
>         JButton b = new JButton(""..."");
>         b.setBorder(BorderFactory.createEtchedBorder());
213a215,222
> 
> /*
> Change log:
> 1/28/2003 (CC) - changed the text on the button from ""Browse"" to an elipse 
(...) and changed
>         the border around the button to etched to create make it less 
intrusive. As well as
>         made it so there does not have to any translation for this component 
to work outside
>         english speaking countries.
> */
Index: ./src/java/org/apache/tools/ant/gui/modules/edit/AttributePropertyEditor
.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/modules/edit/AttributePropertyEditor
.java,v
retrieving revision 1.1
diff -r1.1 AttributePropertyEditor.java
61,63d60
< import java.awt.event.ActionEvent;
< import java.awt.event.ActionListener;
< 
76a74,76
> import java.beans.PropertyChangeEvent;
> import java.beans.PropertyChangeListener;
> 
77a78
> import org.apache.tools.ant.gui.customizer.DynamicTableCellEditor;
84c85
<  * @author Christoph Wilhelms<a href=""mailto:christoph.wilhelms@t-
online.de"">Christoph Wilhelms</a>
---
>  * @author Christoph Wilhelms<a href=""mailto:christoph.wilhelms@t-
online.de"">Christoph Wilhelms</a>, Craig Campbell
176,186c177,197
<         // When the combo box is updated, update the table.
<         /*
<         _combo.addActionListener(new ActionListener() {
<             public void actionPerformed(ActionEvent e) {
<                 JComboBox cb = (JComboBox)e.getSource();
<                 String newSelection = (String)cb.getSelectedItem();
< 
<                 // Should we update the table?
<                 if (newSelection != null && _table.getEditingRow() > 0) {
<                     _table.getModel().setValueAt(newSelection,
<                         _table.getEditingRow(), _table.getEditingColumn() );
---
>         // Set the second column to use a DynamicEditor
>         TableColumn secondCol = _table.getColumnModel().getColumn(1);
>         final DynamicTableCellEditor cellEditor = new DynamicTableCellEditor
();
>         secondCol.setCellEditor(cellEditor);
> 
>         // Listen for property changes to update the cell editor with
>         // registered types for editing.
>         _table.addPropertyChangeListener(new PropertyChangeListener() {
>             public void propertyChange(PropertyChangeEvent e) {
>                 String selection = (String)_table.getModel().getValueAt(
>                                 _table.getSelectedRow(), 0);
> 
>                 if(selection != null && !selection.equals("""")) {
> 
>                     Class type = null;
>                     try {
>                         type = _attributes.getType(selection);
>                         cellEditor.register(selection, type);
>                     } catch (ClassNotFoundException exp) {
>                         exp.printStackTrace();
>                     }
190d200
<          */
319c329
<             if(row < _attributes.size()) {
---
>             if(((row < _attributes.size())  && (row < _keys.size())) && row 
> -1) {
394a405,415
> 
> /*
> Change log:
> 
> 1/28/2003 (CC) - Added to the second column of the table a dynmaic table 
cell editor.  This
>         editor will examine the type of attribute the user selects and find 
the appropriate
>         editor (StringPropertyEditor, FilePropertyEditor, 
BooleanPropertyEditor...).  Added
>         as well a property listener to catch the changes made in the table 
so the attributes
>         will have editors if they exist.
> 
> */
Index: ./src/java/org/apache/tools/ant/gui/xml/DOMAttributes.java
===================================================================
RCS file: /home/cvspublic/jakarta-ant-
antidote/src/java/org/apache/tools/ant/gui/xml/DOMAttributes.java,v
retrieving revision 1.1
diff -r1.1 DOMAttributes.java
57,58d56
< import java.io.IOException;
< 
60d57
< import java.util.Enumeration;
68c65
<  * @author Christoph Wilhelms<a href=""mailto:christoph.wilhelms@t-
online.de"">christoph.wilhelms@t-online.de</a>
---
>  * @author Christoph Wilhelms<a href=""mailto:christoph.wilhelms@t-
online.de"">christoph.wilhelms@t-online.de</a>, Craig Campbell
71a69
>     private Map _mapElements = null;
84c82
<      * @param element provides information about possible attributes.
---
>      * @param elements provides information about possible attributes.
95a94,95
>             
>             _mapElements = elements; // save for searching for type.
114a115,135
>     
>     /**
>      * Allow the searching of type for individual attributes
>      *
>      * @param name attribute name
>      * @return Class - associated type.
>      */
>     public Class getType(String name) throws ClassNotFoundException   {
>         if(name == null)
>             return null;
> 
>         String typeName = (String)_mapElements.get(name);
>         if(typeName.equals(""boolean""))
>             return boolean.class;
>         else if(typeName.equals(""int""))
>             return double.class;
>         else if(typeName.equals(""double""))
>             return int.class;
>         else
>             return Class.forName(typeName);
>     }
115a137,142
> 
> /*
> Change log:
> 1/28/2003 (CC) - added getType method to object to return the type of class 
the
>         attribute is associated with.
> */",40
99,16510,"Comment 1","Craig Campbell","2003-01-28 21:36:39","Created <span class=""""><a href=""attachment.cgi?id=4602"" name=""attach_4602"" title=""zipped source for editor patches"">attachment 4602</a> <a href=""attachment.cgi?id=4602&amp;action=edit"" title=""zipped source for editor patches"">[details]</a></span>
zipped source for editor patches","Created attachment 4602 [details]
zipped source for editor patches",40
100,16510,"Comment 2","Christoph Wilhelms","2003-01-28 23:06:50","Applied Craigs Fix with some manual fixes...","Applied Craigs Fix with some manual fixes...",40
101,17437,Description,"Ralf Mieke","2003-02-26 16:55:15","Building antidote 0.2alpha (Build date 26.02.2003) with Ant 1.5, and starting 
it with antidote I encountered the error
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: CICS

It seems some part of the classpath could not be read correctly. Observing 
antidote.bat I added quotes around %LOCALCLASSPATH% in LINE 23, so it becomes
%JAVACMD% -classpath ..\lib\antidote.jar;..\lib\crimson.jar;&quot;%LOCALCLASSPATH%&quot; -
Dant.home=&quot;%ANT_HOME%&quot; org.apache.tools.ant.gui.Main %ANT_CMD_LINE_ARGS%

This is of course only a problem if some whitespaces in classpath directory 
exists.","Building antidote 0.2alpha (Build date 26.02.2003) with Ant 1.5, and starting 
it with antidote I encountered the error
Exception in thread ""main"" java.lang.NoClassDefFoundError: CICS

It seems some part of the classpath could not be read correctly. Observing 
antidote.bat I added quotes around %LOCALCLASSPATH% in LINE 23, so it becomes
%JAVACMD% -classpath ..\lib\antidote.jar;..\lib\crimson.jar;""%LOCALCLASSPATH%"" -
Dant.home=""%ANT_HOME%"" org.apache.tools.ant.gui.Main %ANT_CMD_LINE_ARGS%

This is of course only a problem if some whitespaces in classpath directory 
exists.",41
102,17437,"Comment 1","Christoph Wilhelms","2003-03-31 16:38:55","I'd like to consolidate the Antidote batches anyways to math the current ant
batches. I think that'll fix this issue.","I'd like to consolidate the Antidote batches anyways to math the current ant
batches. I think that'll fix this issue.",41
103,17437,"Comment 2","dev1","2005-04-05 12:27:15","The Antidote project is no longer supported.","The Antidote project is no longer supported.",41
104,21861,Description,"Norbert Beckers","2003-07-24 19:32:04","java version 1.4.2
antidote version: 0.20 alpha
used snapshot of antidote: ant-antidote_20030723102209.tar.gz
example:
&lt;project name=&quot;MyApp&quot; =&quot;MY APP&quot; =&quot;build&quot; =&quot;.&quot;/&gt;
                     ^^        ^^       ^^
This was the result of the following steps:
1. Choose menu File-&gt;New Project
2. entering the data about the new project(e.g: name, description and basedir) 
by using the form.
3. saving thew project as build.xml.","java version 1.4.2
antidote version: 0.20 alpha
used snapshot of antidote: ant-antidote_20030723102209.tar.gz
example:
<project name=""MyApp"" =""MY APP"" =""build"" ="".""/>
                     ^^        ^^       ^^
This was the result of the following steps:
1. Choose menu File->New Project
2. entering the data about the new project(e.g: name, description and basedir) 
by using the form.
3. saving thew project as build.xml.",42
105,21861,"Comment 1","dev10","2003-07-24 19:58:08","I can reproduce your bug.","I can reproduce your bug.",42
106,21861,"Comment 2","dev10","2003-07-24 22:33:49","I have fixed this problem in CVS by changing NamedDOMNodeMap.java
I am not sure whether my change was done at the best place, but it works.","I have fixed this problem in CVS by changing NamedDOMNodeMap.java
I am not sure whether my change was done at the best place, but it works.",42
107,42159,Description,Manjunath,"2007-04-18 06:49:49",descripton,descripton,43
108,42159,"Comment 1",Manjunath,"2007-04-18 07:35:51",asdfasdfasd,asdfasdfasd,43
109,21888,Description,"Norbert Beckers","2003-07-25 17:16:50","java_version: 1.4.2
ant-antidote_version: 0.2Aplha
snapshot_antidote: ant-antidote_20030725102109.tar.gz

when using Ant-Antidote to create targets or tasks tags the tagname is not 
written to the file, attribute names are ok.
There is one exception to this symptomes of this bug: the project tag. This is 
written to the file as it should be.

I hope someone can squash this bug!","java_version: 1.4.2
ant-antidote_version: 0.2Aplha
snapshot_antidote: ant-antidote_20030725102109.tar.gz

when using Ant-Antidote to create targets or tasks tags the tagname is not 
written to the file, attribute names are ok.
There is one exception to this symptomes of this bug: the project tag. This is 
written to the file as it should be.

I hope someone can squash this bug!",44
110,21888,"Comment 1","dev10","2003-07-26 16:20:43","I have fixed this bug in CVS (file 
src/java/org/apache/tools/ant/gui/xml/NamedDOMNodeMap.java)
I hope I did it right, this was my first change in antidote.","I have fixed this bug in CVS (file 
src/java/org/apache/tools/ant/gui/xml/NamedDOMNodeMap.java)
I hope I did it right, this was my first change in antidote.",44
111,21888,"Comment 2","Norbert Beckers","2003-07-27 12:40:47","this what the bug still produces e.g.:
&lt; name=&quot;build&quot;/&gt;
 ^
here should been the tagname: target","this what the bug still produces e.g.:
< name=""build""/>
 ^
here should been the tagname: target",44
112,21888,"Comment 3","dev10","2003-07-27 16:34:59","My apologies, I confused this report with <a href=""http://nagoya.apache"">http://nagoya.apache</a>.
org/bugzilla/show_bug.cgi?id=21861 (Missing atributenames in &lt;project&gt; tag of 
build file )
Antoine","My apologies, I confused this report with http://nagoya.apache.
org/bugzilla/show_bug.cgi?id=21861 (Missing atributenames in <project> tag of 
build file )
Antoine",44
113,21888,"Comment 4","dev10","2003-07-27 17:18:30","fixed in CVS, will be available in the next nightly build.","fixed in CVS, will be available in the next nightly build.",44
114,10467,Description,"amr refaat","2002-07-04 09:56:46","bug bub","bug bub",45
115,13679,Description,"Bernd Koester","2002-10-16 09:19:34","I am using ant and have installed the version 2.2.0 of xerces
build.xml:
...
&lt;!DOCTYPE project PUBLIC &quot;-//ANT//DTD project//EN&quot; &quot;project.dtd&quot; [
  &lt;!ENTITY includePaths SYSTEM &quot;paths.xml&quot;&gt;
]&gt;
...

Both paths.xml and build.xml are in the same directory. If this directory
contains a blank, xerces fails. With no white space everything works fine.","I am using ant and have installed the version 2.2.0 of xerces
build.xml:
...
<!DOCTYPE project PUBLIC ""-//ANT//DTD project//EN"" ""project.dtd"" [
  <!ENTITY includePaths SYSTEM ""paths.xml"">
]>
...

Both paths.xml and build.xml are in the same directory. If this directory
contains a blank, xerces fails. With no white space everything works fine.",46
116,13679,"Comment 1",sandygao,"2002-10-17 19:11:35","It's more an Ant's bug than Xerces'. Transferring it to Ant.

When Ant calls the parser to parse build.xml, it stores a FileInputStream in 
the InputSource. It also sets a system ID for absolutizing relative URI's 
appearing in build.xml. But in the parse() method of the class 
org.apache.tools.ant.helper.ProjectHelperImpl, the file path is not fully 
converted to a URI. The result is, if the folder has a space ' ' in it, an 
invalid URI is passed to the parser, and the parser can't use it to abosolutize 
the references to project.dtd or paths.xml.

Xerces recently fixed a similar bug in the JAXP code. You can refer to the 
class javax.xml.parsers.ConvertToURI for further detail.

An alternative is to look at the getUserDir() method of class 
org.apache.xerces.xni.parser.XMLInputSource.XMLEntityManager.","It's more an Ant's bug than Xerces'. Transferring it to Ant.

When Ant calls the parser to parse build.xml, it stores a FileInputStream in 
the InputSource. It also sets a system ID for absolutizing relative URI's 
appearing in build.xml. But in the parse() method of the class 
org.apache.tools.ant.helper.ProjectHelperImpl, the file path is not fully 
converted to a URI. The result is, if the folder has a space ' ' in it, an 
invalid URI is passed to the parser, and the parser can't use it to abosolutize 
the references to project.dtd or paths.xml.

Xerces recently fixed a similar bug in the JAXP code. You can refer to the 
class javax.xml.parsers.ConvertToURI for further detail.

An alternative is to look at the getUserDir() method of class 
org.apache.xerces.xni.parser.XMLInputSource.XMLEntityManager.",46
117,13679,"Comment 2",sandygao,"2002-10-17 23:55:00","Sorry, the last class name should be
&quot;org.apache.xerces.impl.XMLEntityManager&quot;.","Sorry, the last class name should be
""org.apache.xerces.impl.XMLEntityManager"".",46
118,13679,"Comment 3",sandygao,"2002-10-18 00:00:03","And reassign it to ant-dev.","And reassign it to ant-dev.",46
119,13679,"Comment 4","dev1","2002-11-15 13:40:10","Where do I find ConvertToURI?  Didn't see it in xml-commons.","Where do I find ConvertToURI?  Didn't see it in xml-commons.",46
120,13679,"Comment 5",sandygao,"2002-11-15 16:00:57","Hi. The JAXP code had the same problem before (the file path from File objects 
were not converted to valid URI's). Xerces fixed this problem in its own copy 
of the JAXP code. You can look at the following file for how filepath-to-uri 
works. (We've moved from ConvertToURI to FilePathToURI, which uses a different 
algorithm for escaping illegal URI characters, and can also handle non-ascii 
characters correctly.) We are working on merging the fix to the JAXP code in 
xml-commons. Cheers.

<a href=""http://cvs.apache.org/viewcvs.cgi/xml"">http://cvs.apache.org/viewcvs.cgi/xml</a>-
xerces/java/src/javax/xml/parsers/FilePathToURI.java?rev=1.2&amp;content-
type=text/vnd.viewcvs-markup","Hi. The JAXP code had the same problem before (the file path from File objects 
were not converted to valid URI's). Xerces fixed this problem in its own copy 
of the JAXP code. You can look at the following file for how filepath-to-uri 
works. (We've moved from ConvertToURI to FilePathToURI, which uses a different 
algorithm for escaping illegal URI characters, and can also handle non-ascii 
characters correctly.) We are working on merging the fix to the JAXP code in 
xml-commons. Cheers.

http://cvs.apache.org/viewcvs.cgi/xml-
xerces/java/src/javax/xml/parsers/FilePathToURI.java?rev=1.2&content-
type=text/vnd.viewcvs-markup",46
121,13679,"Comment 6","dev1","2002-11-18 09:07:37","I haven't been aware that the Xerces team was using a different JAXP version that
xml-commons, thanks.  I'll look into your code.

Would File.toURI.toURL.toExternalForm work for JDK 1.4 (trading reflection costs
for converting it ourselves might be worth it when on 1.4).","I haven't been aware that the Xerces team was using a different JAXP version that
xml-commons, thanks.  I'll look into your code.

Would File.toURI.toURL.toExternalForm work for JDK 1.4 (trading reflection costs
for converting it ourselves might be worth it when on 1.4).",46
122,13679,"Comment 7","dev1","2002-11-18 15:35:23","CVS HEAD should now deal with spaces in the path.  I have simplified the Xerces
code by not dealing with non-ASCII for now, but this may change.

Leaving it open to remind myself to look into it again for a potential 1.5.2
Ant release.","CVS HEAD should now deal with spaces in the path.  I have simplified the Xerces
code by not dealing with non-ASCII for now, but this may change.

Leaving it open to remind myself to look into it again for a potential 1.5.2
Ant release.",46
123,13679,"Comment 8","dev11","2003-03-11 08:15:16","*** <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - Referring to external XML entity in build.xml laying in path with spaces results in error."" href=""show_bug.cgi?id=17163"">Bug 17163</a> has been marked as a duplicate of this bug. ***","*** Bug 17163 has been marked as a duplicate of this bug. ***",46
124,13679,"Comment 9","dev1","2003-03-28 15:09:49","Won't fix in the 1.5 branch, it is fixed in 1.6, so there is no reason to keep
it open any longer.","Won't fix in the 1.5 branch, it is fixed in 1.6, so there is no reason to keep
it open any longer.",46
125,56674,Description,Devang,"2014-06-26 11:00:46","TestNG , Ant ,Selenium -- Generating failure Report


I am using TestNG with Selenium to generate test report

But problem is when I execute script using Ant if execution stop in between (for example: in if block or can't find any element) I can't get report of script which are executed.

How can I get test report even if execution stop in between in Ant?

Is there any way to do that?","TestNG , Ant ,Selenium -- Generating failure Report


I am using TestNG with Selenium to generate test report

But problem is when I execute script using Ant if execution stop in between (for example: in if block or can't find any element) I can't get report of script which are executed.

How can I get test report even if execution stop in between in Ant?

Is there any way to do that?",47
126,56674,"Comment 1","Jan Mat","2014-06-26 11:37:30","This question should be asked on the user list.","This question should be asked on the user list.",47
127,56470,Description,"Chris Holman","2014-04-29 12:19:35","Created <span class=""""><a href=""attachment.cgi?id=31569"" name=""attach_31569"" title=""Patch file for LogCapturer.java"">attachment 31569</a> <a href=""attachment.cgi?id=31569&amp;action=edit"" title=""Patch file for LogCapturer.java"">[details]</a></span>
Patch file for LogCapturer.java

The logcontent task outputs the log on one single line.

Using the following in the AntUnit test:

&lt;project&gt; 
...
	&lt;target name=&quot;tearDown&quot;&gt;
		&lt;echo&gt;This line has no EOL character appended...&lt;/echo&gt;
		&lt;echo&gt;So this is on the same line in the log file&lt;/echo&gt;
		&lt;!-- Write to logfile --&gt;
		&lt;concat destfile=&quot;${logfile}&quot; fixlastline=&quot;yes&quot;&gt;
			&lt;au:logcontent/&gt;
		&lt;/concat&gt;		
	&lt;/target&gt;
&lt;/project&gt;

This can be easily fixed in: org.apache.ant.antunit.LogCapturer

There is a SVN patch attached that adds a LINE_SEPARATOR to the end of each log entry in the LogCapturer.messageLogged method.","Created attachment 31569 [details]
Patch file for LogCapturer.java

The logcontent task outputs the log on one single line.

Using the following in the AntUnit test:

<project> 
...
	<target name=""tearDown"">
		<echo>This line has no EOL character appended...</echo>
		<echo>So this is on the same line in the log file</echo>
		<!-- Write to logfile -->
		<concat destfile=""${logfile}"" fixlastline=""yes"">
			<au:logcontent/>
		</concat>		
	</target>
</project>

This can be easily fixed in: org.apache.ant.antunit.LogCapturer

There is a SVN patch attached that adds a LINE_SEPARATOR to the end of each log entry in the LogCapturer.messageLogged method.",48
128,56470,"Comment 1","dev1","2014-05-02 18:54:35","changes similar to your patch have been committed as svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1591972"">revision 1591972</a>

I'd like to wait for the Gump run to determine whether an option to insert line breaks is needed.","changes similar to your patch have been committed as svn revision 1591972

I'd like to wait for the Gump run to determine whether an option to insert line breaks is needed.",48
129,56470,"Comment 2","dev1","2014-05-04 06:57:11","One test inside Ant's own testsuite fails, this is because it tests the order of two adjacent log messages - something you cannot do with separate assertLogContains assertions. [1]

I'd add an attribute to assertLogContains and the logcontent resource - mergeLines with default true? - and modify LogCapturer to provide logs with and without merged lines.

[1] testRedirector14 in src/tests/antunit/taskdefs/exec/apply-test.xml","One test inside Ant's own testsuite fails, this is because it tests the order of two adjacent log messages - something you cannot do with separate assertLogContains assertions. [1]

I'd add an attribute to assertLogContains and the logcontent resource - mergeLines with default true? - and modify LogCapturer to provide logs with and without merged lines.

[1] testRedirector14 in src/tests/antunit/taskdefs/exec/apply-test.xml",48
130,56470,"Comment 3","dev1","2014-05-07 06:07:36","added mergeLines in several places and retained backwards compatibility.","added mergeLines in several places and retained backwards compatibility.",48
131,43582,Description,"David Jackman","2007-10-09 16:10:41","It is often difficult to see what's going on when running a test because the
output from the test isn't visible anywhere.  This enhancement is to have
AntUnit write the log messages from the test to the log of the AntUnit task. 
Since one does not normally want this output, I propose that all messages are
written as verbose-level messages, except for debug which are written as
debug-level.","It is often difficult to see what's going on when running a test because the
output from the test isn't visible anywhere.  This enhancement is to have
AntUnit write the log messages from the test to the log of the AntUnit task. 
Since one does not normally want this output, I propose that all messages are
written as verbose-level messages, except for debug which are written as
debug-level.",49
132,43582,"Comment 1","David Jackman","2007-10-09 16:12:07","Created <span class=""""><a href=""attachment.cgi?id=20948&amp;action=diff"" name=""attach_20948"" title=""Patch to implement this feature"">attachment 20948</a> <a href=""attachment.cgi?id=20948&amp;action=edit"" title=""Patch to implement this feature"">[details]</a></span>
Patch to implement this feature","Created attachment 20948 [details]
Patch to implement this feature",49
133,43582,"Comment 2","dev11","2007-10-10 03:48:49","Makes sense. I normally just run the targets on their own to see the output, but
of course, that doesn't work if things behave differently under antunit

An extension for this would be to log everything at info on a test
failure...this could be good for builds under cruise control and gump, as you
get better remote diagnostics","Makes sense. I normally just run the targets on their own to see the output, but
of course, that doesn't work if things behave differently under antunit

An extension for this would be to log everything at info on a test
failure...this could be good for builds under cruise control and gump, as you
get better remote diagnostics",49
134,43582,"Comment 3","David Jackman","2007-10-11 16:02:20","(In reply to <a href=""show_bug.cgi?id=43582#c2"">comment #2</a>)
<span class=""quote"">&gt; An extension for this would be to log everything at info on a test
&gt; failure...this could be good for builds under cruise control and gump, as you
&gt; get better remote diagnostics</span>

For this sort of thing, it would be better for the reports generated by the
plain and XML listener to include the log output as well.  I've written this up
as <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Plain and XML listeners should add log output from the tests to the test report"" href=""show_bug.cgi?id=43604"">bug 43604</a>.","(In reply to comment #2)
> An extension for this would be to log everything at info on a test
> failure...this could be good for builds under cruise control and gump, as you
> get better remote diagnostics

For this sort of thing, it would be better for the reports generated by the
plain and XML listener to include the log output as well.  I've written this up
as bug 43604.",49
135,43582,"Comment 4","dev1","2007-12-05 09:49:29","I've faced the use case of somehow getting access to the log output of the
project under test before - see
<a href=""http://mail-archives.apache.org/mod_mbox/ant-dev/200708.mbox/%3cy1ufy2u15ao.fsf@v30161.1blu.de%3e"">http://mail-archives.apache.org/mod_mbox/ant-dev/200708.mbox/%3cy1ufy2u15ao.fsf@v30161.1blu.de%3e</a>

I don't really want to modify the AntUnitListener interface, but I can
understand if we want to include it in the generated reports (since &lt;junit&gt; does
so) on the other hand.  Before we go into patch details, can we go back to the
dev list and agree on where we want the feature to go?","I've faced the use case of somehow getting access to the log output of the
project under test before - see
http://mail-archives.apache.org/mod_mbox/ant-dev/200708.mbox/%3cy1ufy2u15ao.fsf@v30161.1blu.de%3e

I don't really want to modify the AntUnitListener interface, but I can
understand if we want to include it in the generated reports (since <junit> does
so) on the other hand.  Before we go into patch details, can we go back to the
dev list and agree on where we want the feature to go?",49
136,43582,"Comment 5","dev1","2008-04-08 05:44:37","Do you feel this is still required when the listener capture the log output?","Do you feel this is still required when the listener capture the log output?",49
137,43582,"Comment 6","David Jackman","2008-04-08 10:53:41","(In reply to <a href=""show_bug.cgi?id=43582#c5"">comment #5</a>)
<span class=""quote"">&gt; Do you feel this is still required when the listener capture the log output?</span>

This has been helpful for us when running the tests manually (to see what's happening in the test as it's happening).  Having the listener capture the log output is helpful when the tests are run by an automated process.","(In reply to comment #5)
> Do you feel this is still required when the listener capture the log output?

This has been helpful for us when running the tests manually (to see what's happening in the test as it's happening).  Having the listener capture the log output is helpful when the tests are run by an automated process.",49
138,43582,"Comment 7","dev1","2008-04-24 06:20:10","But you could simply attach a plainListener and have it log to to Ant's logging system.  I feel I must be missing something.","But you could simply attach a plainListener and have it log to to Ant's logging system.  I feel I must be missing something.",49
139,43582,"Comment 8","David Jackman","2008-04-24 11:23:23","(In reply to <a href=""show_bug.cgi?id=43582#c7"">comment #7</a>)
<span class=""quote"">&gt; But you could simply attach a plainListener and have it log to to Ant's logging
&gt; system.  I feel I must be missing something.
&gt; </span>

With the plainListener I can see the output from the tests after all the tests are run.  This change makes it possible for the person running the tests from the command line to see the output of the tests *while they are running*.  As you can see from the patch, it writes log messages from the test to the verbose level, so you would only see this output if you add the -verbose option to the command line.  (In practice, it would be better to allow some other command line option to specify whether AntUnit writes the log messages from the tests to the Ant log (not on verbose level) because adding the -verbose option always add so much other stuff to the log.)","(In reply to comment #7)
> But you could simply attach a plainListener and have it log to to Ant's logging
> system.  I feel I must be missing something.
> 

With the plainListener I can see the output from the tests after all the tests are run.  This change makes it possible for the person running the tests from the command line to see the output of the tests *while they are running*.  As you can see from the patch, it writes log messages from the test to the verbose level, so you would only see this output if you add the -verbose option to the command line.  (In practice, it would be better to allow some other command line option to specify whether AntUnit writes the log messages from the tests to the Ant log (not on verbose level) because adding the -verbose option always add so much other stuff to the log.)",49
140,43582,"Comment 9","dev1","2008-06-17 04:41:42","I must admit I still feel this would be too much in the light of plainlistener, maybe we can do a poll or something like this.","I must admit I still feel this would be too much in the light of plainlistener, maybe we can do a poll or something like this.",49
141,43582,"Comment 10","dev1","2014-05-02 18:41:25","AntUnit 1.3 will ship with a new listener named logforwarder which forwards the log from the project under test to the one running th test.

svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1591967"">revision 1591967</a>","AntUnit 1.3 will ship with a new listener named logforwarder which forwards the log from the project under test to the one running th test.

svn revision 1591967",49
142,53383,Description,pascal.schumacher,"2012-06-08 09:47:04","Using assertResourceExists does not work for URLs:

&quot;&lt;au:assertResourceExists resource=&quot;<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>&quot;/&gt;

BUILD FAILED
D:\development\eclipse-projects\AntUnitTest\build.xml:6: Expected 
resource '<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>' to exist&quot;

According to the AntUnit 1.2 documentation;

&quot;assertResourceExists
Asserts that a given resource exists. This is a generalization of 
assertFileExists and allows to test for arbitrary resources.&quot;

this should be possible.","Using assertResourceExists does not work for URLs:

""<au:assertResourceExists resource=""http://ant.apache.org/index.html""/>

BUILD FAILED
D:\development\eclipse-projects\AntUnitTest\build.xml:6: Expected 
resource 'http://ant.apache.org/index.html' to exist""

According to the AntUnit 1.2 documentation;

""assertResourceExists
Asserts that a given resource exists. This is a generalization of 
assertFileExists and allows to test for arbitrary resources.""

this should be possible.",50
143,53383,"Comment 1","dev1","2012-06-17 08:30:04","This workaround should work

      &lt;au:assertTrue&gt;
      &lt;cond:resourceexists xmlns:cond=&quot;antlib:org.apache.tools.ant.types.conditions&quot;&gt;
        &lt;url url=&quot;<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>&quot;/&gt;
      &lt;/cond:resourceexists&gt;
    &lt;/au:assertTrue&gt;","This workaround should work

      <au:assertTrue>
      <cond:resourceexists xmlns:cond=""antlib:org.apache.tools.ant.types.conditions"">
        <url url=""http://ant.apache.org/index.html""/>
      </cond:resourceexists>
    </au:assertTrue>",50
144,53383,"Comment 2","dev1","2012-06-17 09:03:05","This is really ugly, I should have written assertResourceExists using a nested element rather than an attibute.

Ant's Resource-valued attributes only work in conjunction with property expanders that return Resources - they don't work if you use a plain String.  So this here works

    &lt;url url=&quot;<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>&quot; id=&quot;antsite&quot;/&gt;
    &lt;au:assertTrue&gt;
      &lt;au:resourceExists resource=&quot;${ant.refid:antsite}&quot;/&gt;
    &lt;/au:assertTrue&gt;

but this doesn't

    &lt;au:assertTrue&gt;
      &lt;au:resourceExists resource=&quot;<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>&quot;/&gt;
    &lt;/au:assertTrue&gt;

To make things worse the nested macrodef construction of assertResourceExists will evaluate the property to a string before it reaches resourceExists so even 

    &lt;url url=&quot;<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>&quot; id=&quot;antsite&quot;/&gt;
    &lt;au:assertResourceExists resource=&quot;${ant.refid:antsite}&quot;/&gt;
 
will not work.

See my previous comment for a workaround, assertResourceExists as it stands will not work for anything other than a file at all.","This is really ugly, I should have written assertResourceExists using a nested element rather than an attibute.

Ant's Resource-valued attributes only work in conjunction with property expanders that return Resources - they don't work if you use a plain String.  So this here works

    <url url=""http://ant.apache.org/index.html"" id=""antsite""/>
    <au:assertTrue>
      <au:resourceExists resource=""${ant.refid:antsite}""/>
    </au:assertTrue>

but this doesn't

    <au:assertTrue>
      <au:resourceExists resource=""http://ant.apache.org/index.html""/>
    </au:assertTrue>

To make things worse the nested macrodef construction of assertResourceExists will evaluate the property to a string before it reaches resourceExists so even 

    <url url=""http://ant.apache.org/index.html"" id=""antsite""/>
    <au:assertResourceExists resource=""${ant.refid:antsite}""/>
 
will not work.

See my previous comment for a workaround, assertResourceExists as it stands will not work for anything other than a file at all.",50
145,53383,"Comment 3","dev1","2012-06-17 09:08:06","this should work for older versions of Ant that don't have the built-in resourcexists condition as well:

    &lt;au:assertTrue&gt;
      &lt;au:resourceExists&gt;
        &lt;url url=&quot;<a href=""http://ant.apache.org/index.html"">http://ant.apache.org/index.html</a>&quot;/&gt;
      &lt;/au:resourceExists&gt;
    &lt;/au:assertTrue&gt;","this should work for older versions of Ant that don't have the built-in resourcexists condition as well:

    <au:assertTrue>
      <au:resourceExists>
        <url url=""http://ant.apache.org/index.html""/>
      </au:resourceExists>
    </au:assertTrue>",50
146,53383,"Comment 4","dev1","2014-05-01 11:58:35","I added a bunch of new assertions in AntUnit 1.3 with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1591586"">revision 1591586</a> that really work for non-file resources.","I added a bunch of new assertions in AntUnit 1.3 with svn revision 1591586 that really work for non-file resources.",50
147,49168,Description,tormp,"2010-04-22 00:19:59","Created <span class=""""><a href=""attachment.cgi?id=25330"" name=""attach_25330"" title=""patch with code, doc, test"">attachment 25330</a> <a href=""attachment.cgi?id=25330&amp;action=edit"" title=""patch with code, doc, test"">[details]</a></span>
patch with code, doc, test

This is useful for test cases to share filesets, Ivy configuration, or other bootstrapping code, and for testing of scripts that are designed to be included in larger builds.

The idea was discussed briefly on ant-dev:
<a href=""http://marc.info/?l=ant-dev&amp;m=127052620705611&amp;w=2"">http://marc.info/?l=ant-dev&amp;m=127052620705611&amp;w=2</a>

The attached patch tries to mimic the behavior of &lt;propertySet&gt;:

* support single reference inheritance
* support for multiple reference inheritance with regex, &lt;referenceSet&gt; grouping
* support for prefixing or transforming reference names with a &lt;mapper&gt;

&lt;ant&gt;&lt;reference/&gt;&lt;/ant&gt; tries to clone the reference value in the sub-build.  I preserved that behavior for consistency, even though it seemed a little strange.","Created attachment 25330 [details]
patch with code, doc, test

This is useful for test cases to share filesets, Ivy configuration, or other bootstrapping code, and for testing of scripts that are designed to be included in larger builds.

The idea was discussed briefly on ant-dev:
http://marc.info/?l=ant-dev&m=127052620705611&w=2

The attached patch tries to mimic the behavior of <propertySet>:

* support single reference inheritance
* support for multiple reference inheritance with regex, <referenceSet> grouping
* support for prefixing or transforming reference names with a <mapper>

<ant><reference/></ant> tries to clone the reference value in the sub-build.  I preserved that behavior for consistency, even though it seemed a little strange.",51
148,49168,"Comment 1","dev1","2010-04-30 02:28:38","added a modified version with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=939555"">revision 939555</a>, thanks!

It may be worth to look into extracting the common logic of your changes and the &lt;ant&gt; task into a helper in Ant's core that could be used by both tasks - but then AntUnit's next release couldn't be released without a new release of Ant.","added a modified version with svn revision 939555, thanks!

It may be worth to look into extracting the common logic of your changes and the <ant> task into a helper in Ant's core that could be used by both tasks - but then AntUnit's next release couldn't be released without a new release of Ant.",51
149,49168,"Comment 2",tormp,"2010-05-01 00:07:19","awesome, thanks for including this.","awesome, thanks for including this.",51
150,49168,"Comment 3","BASANT KUMAR","2014-03-04 02:14:43","Comment on <span class=""""><a href=""attachment.cgi?id=25330"" name=""attach_25330"" title=""patch with code, doc, test"">attachment 25330</a> <a href=""attachment.cgi?id=25330&amp;action=edit"" title=""patch with code, doc, test"">[details]</a></span>
patch with code, doc, test

hello,bugzill is my show page no create,please help,how to make this my bug page?","Comment on attachment 25330 [details]
patch with code, doc, test

hello,bugzill is my show page no create,please help,how to make this my bug page?",51
151,56122,Description,sami,"2014-02-08 17:05:46","<a href=""https://www.youtube.com/watch?v=vzPMaU0rFOQ&amp;feature=youtu.be"">https://www.youtube.com/watch?v=vzPMaU0rFOQ&amp;feature=youtu.be</a>",https://www.youtube.com/watch?v=vzPMaU0rFOQ&feature=youtu.be,52
152,56122,"Comment 1","J.M. (Martijn) Kruithof","2014-02-08 22:01:36","Please don't play with our bug reporting system.","Please don't play with our bug reporting system.",52
153,53384,Description,Srikanth,"2012-06-08 12:36:23",sample,sample,53
154,53293,Description,akira,"2012-05-25 09:38:28","[junitreport] Processing C:\eclipse\workspace\J02\report\html\TESTS-TestSuites.xml to C:\Users\bihu\AppData\Local\Temp\null120740111
[junitreport] Loading stylesheet jar:file:/C:/eclipse/plugins/org.apache.ant_1.8.2.v20120109-1030/lib/ant-junit.jar!/org/apache/tools/ant/taskdefs/optional/junit/xsl/junit-frames.xsl
[junitreport] : Error! Use of the extension element 'redirect' is not allowed when the secure processing feature is set to true.
[junitreport] Failed to process C:\eclipse\workspace\J02\report\html\TESTS-TestSuites.xml

I tried to build the ant build.xml in Eclipse,but it failed.(it's ok to build the same build.xml outside IDE)

java version: 1.7.0_03
ant version:1.8.4
Eclipse SDK Version: 3.7.2

pls help.


Thanks","[junitreport] Processing C:\eclipse\workspace\J02\report\html\TESTS-TestSuites.xml to C:\Users\bihu\AppData\Local\Temp\null120740111
[junitreport] Loading stylesheet jar:file:/C:/eclipse/plugins/org.apache.ant_1.8.2.v20120109-1030/lib/ant-junit.jar!/org/apache/tools/ant/taskdefs/optional/junit/xsl/junit-frames.xsl
[junitreport] : Error! Use of the extension element 'redirect' is not allowed when the secure processing feature is set to true.
[junitreport] Failed to process C:\eclipse\workspace\J02\report\html\TESTS-TestSuites.xml

I tried to build the ant build.xml in Eclipse,but it failed.(it's ok to build the same build.xml outside IDE)

java version: 1.7.0_03
ant version:1.8.4
Eclipse SDK Version: 3.7.2

pls help.


Thanks",54
155,53293,"Comment 1","dev79","2012-05-25 18:14:13","There was a JDK 7-related bug fixed in 1.8.3, but you are apparently using 1.8.2.","There was a JDK 7-related bug fixed in 1.8.3, but you are apparently using 1.8.2.",54
156,53293,"Comment 2",akira,"2012-05-29 02:16:21","(In reply to <a href=""show_bug.cgi?id=53293#c1"">comment #1</a>)
<span class=""quote"">&gt; There was a JDK 7-related bug fixed in 1.8.3, but you are apparently using
&gt; 1.8.2.</span>

thanks,I noticed this ^-^","(In reply to comment #1)
> There was a JDK 7-related bug fixed in 1.8.3, but you are apparently using
> 1.8.2.

thanks,I noticed this ^-^",54
157,51907,Description,sasikumar,"2011-09-28 11:38:10","I have used jmeter 2.5 and ANT 1.8.2 and jdk 1.6. Also, I have used
latest .xsl file path in build.xml.

Issue is iam getting NaN value for Min, Max in html reports.

Please let me know any solutions.","I have used jmeter 2.5 and ANT 1.8.2 and jdk 1.6. Also, I have used
latest .xsl file path in build.xml.

Issue is iam getting NaN value for Min, Max in html reports.

Please let me know any solutions.",55
158,51907,"Comment 1","dev1","2011-12-29 07:27:30","Where exactly do you use AntUnit?","Where exactly do you use AntUnit?",55
159,51907,"Comment 2",Milamber,"2012-03-13 12:28:06","Hello,

This is a JMeter Ant Task[1] extras XSL in JMeter / Ant issue.

The NaN min/max values are a issue with xalan/serializer jars (from Ant and JMeter).

Currently works for me (no NaN):
JMeter 2.5 or 2.6
ANT 1.8.2 or 1.8.3
Sun JDK 1.6.26 or OpenJDK 1.6.18

Not Works for me (have NaN for Min and Max):
JMeter 2.5 or 2.6
ANT 1.8.1
Sun JDK 1.6.26 or OpenJDK 1.6.18

Please double-check Ant version.

If your issue don't disappear, please move to JMeter user list[2].

Milamber

[1] <a href=""http://www.programmerplanet.org/pages/projects/jmeter-ant-task.php"">http://www.programmerplanet.org/pages/projects/jmeter-ant-task.php</a>

[2] <a href=""http://jmeter.apache.org/mail2.html"">http://jmeter.apache.org/mail2.html</a>","Hello,

This is a JMeter Ant Task[1] extras XSL in JMeter / Ant issue.

The NaN min/max values are a issue with xalan/serializer jars (from Ant and JMeter).

Currently works for me (no NaN):
JMeter 2.5 or 2.6
ANT 1.8.2 or 1.8.3
Sun JDK 1.6.26 or OpenJDK 1.6.18

Not Works for me (have NaN for Min and Max):
JMeter 2.5 or 2.6
ANT 1.8.1
Sun JDK 1.6.26 or OpenJDK 1.6.18

Please double-check Ant version.

If your issue don't disappear, please move to JMeter user list[2].

Milamber

[1] http://www.programmerplanet.org/pages/projects/jmeter-ant-task.php

[2] http://jmeter.apache.org/mail2.html",55
160,52332,Description,James.Poli,"2011-12-14 16:49:04","Created <span class=""""><a href=""attachment.cgi?id=28071"" name=""attach_28071"" title=""Ant Unit test"">attachment 28071</a> <a href=""attachment.cgi?id=28071&amp;action=edit"" title=""Ant Unit test"">[details]</a></span>
Ant Unit test

Hello,
We recently moved to AntUnit 1.2 using Ant 1.7.1, and an AntUnit test that used to work is failing:
...
[au:antunit] ------------- ---------------- ---------------
[au:antunit] Target: test-assertions  FAILED
[au:antunit]    at line 178, column 56
[au:antunit]    Message: Expected resource 'test.properties' to exist
[au:antunit]    took 0.016 sec
...

In fact you can use the example in the AntUnit documentation with Ant 1.7.1 and it will fail:

----------------------------------------------------------------------------
assertResourceExists
Since AntUnit 1.2

Asserts that a given resource exists. This is a generalization of assertFileExists and allows to test for arbitrary resources.

Attribute Description Required 
resource Location of the resource. Yes 
message Message for the exception if the condition doesn't hold true. Defaults to &quot;Expected resource 'resource' to exist&quot;. No. 

Examples
Make the build fail if the resource ${ant.home}/lib/ant.jar doesn't exist:

      &lt;assertResourceExists resource=&quot;${ant.home}/lib/ant.jar&quot;/&gt;
    
----------------------------------------------------------------------------","Created attachment 28071 [details]
Ant Unit test

Hello,
We recently moved to AntUnit 1.2 using Ant 1.7.1, and an AntUnit test that used to work is failing:
...
[au:antunit] ------------- ---------------- ---------------
[au:antunit] Target: test-assertions  FAILED
[au:antunit]    at line 178, column 56
[au:antunit]    Message: Expected resource 'test.properties' to exist
[au:antunit]    took 0.016 sec
...

In fact you can use the example in the AntUnit documentation with Ant 1.7.1 and it will fail:

----------------------------------------------------------------------------
assertResourceExists
Since AntUnit 1.2

Asserts that a given resource exists. This is a generalization of assertFileExists and allows to test for arbitrary resources.

Attribute Description Required 
resource Location of the resource. Yes 
message Message for the exception if the condition doesn't hold true. Defaults to ""Expected resource 'resource' to exist"". No. 

Examples
Make the build fail if the resource ${ant.home}/lib/ant.jar doesn't exist:

      <assertResourceExists resource=""${ant.home}/lib/ant.jar""/>
    
----------------------------------------------------------------------------",56
161,52332,"Comment 1","dev1","2011-12-29 07:26:33","You are correct, the assertion relies on changes to IntrospectionHelper made to Ant in 1.8.0 for the resource attribute.

This one will work with 1.7.1 as well

        &lt;au:assertTrue message=&quot;Expected resource '${ant.home}/lib/ant.jar' to exist&quot;&gt;
          &lt;au:resourceExists&gt;
            &lt;file file=&quot;${ant.home}/lib/ant.jar&quot;/&gt;
          &lt;/au:resourceExists&gt;
        &lt;/au:assertTrue&gt;

I've noted this in the documentation with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1225447"">revision 1225447</a>","You are correct, the assertion relies on changes to IntrospectionHelper made to Ant in 1.8.0 for the resource attribute.

This one will work with 1.7.1 as well

        <au:assertTrue message=""Expected resource '${ant.home}/lib/ant.jar' to exist"">
          <au:resourceExists>
            <file file=""${ant.home}/lib/ant.jar""/>
          </au:resourceExists>
        </au:assertTrue>

I've noted this in the documentation with svn revision 1225447",56
162,50971,Description,prajwala,"2011-03-25 08:07:15","Steps to reproduce : 
            
1. Go to home page
2. Find user name
3. Given blank space

Actual result : should not accept","Steps to reproduce : 
            
1. Go to home page
2. Find user name
3. Given blank space

Actual result : should not accept",57
163,50969,Description,prajwala,"2011-03-25 03:46:44",,,58
164,50969,"Comment 1","dev1","2011-03-25 08:31:12","please play somewhere else","please play somewhere else",58
165,40566,Description,"dev11","2006-09-21 11:11:47","Extending/ch18_extras/embed which is is own ant runner.

One of my book examples runs ant via a new entry point, which works as a manual
invoked task (testExec) but not from Antunit:

<a href=""http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/embed/build.xml?view=markup"">http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/embed/build.xml?view=markup</a>

antunit:
[au:antunit] Build File:
/home/slo/Projects/sfantbook/examples/sections/extending/ch18_extras/embed/build.xml
[au:antunit] Tests run: 0, Failures: 0, Errors: 1, Time elapsed: 0.273 sec
[au:antunit]  caused an ERROR
[au:antunit]    at line 69, column 19
[au:antunit]    Message: Java returned: 1
[au:antunit]    took 1,158,676,430.541 sec

And look how long it took...

if you go &quot;ant testExec&quot; on the command line the test works.","Extending/ch18_extras/embed which is is own ant runner.

One of my book examples runs ant via a new entry point, which works as a manual
invoked task (testExec) but not from Antunit:

http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/embed/build.xml?view=markup

antunit:
[au:antunit] Build File:
/home/slo/Projects/sfantbook/examples/sections/extending/ch18_extras/embed/build.xml
[au:antunit] Tests run: 0, Failures: 0, Errors: 1, Time elapsed: 0.273 sec
[au:antunit]  caused an ERROR
[au:antunit]    at line 69, column 19
[au:antunit]    Message: Java returned: 1
[au:antunit]    took 1,158,676,430.541 sec

And look how long it took...

if you go ""ant testExec"" on the command line the test works.",59
166,40566,"Comment 1","Gilles Scokart","2009-08-29 09:49:47","I could not reproduce this, even with the ant and antunit sources of the 2006-09-21.

I tried on cygwin, with Sun JVM 1.6.0_12 and 1.5.0_17.","I could not reproduce this, even with the ant and antunit sources of the 2006-09-21.

I tried on cygwin, with Sun JVM 1.6.0_12 and 1.5.0_17.",59
167,50506,Description,"Nagaraja Yallapu","2010-12-21 09:29:11","I had a windows batch file and it contains :
build.bat :
  cls
  ant -f build.xml


test.xml :

&lt;project name=&quot;test&quot; default=&quot;run&quot;&gt;
&lt;target name=&quot;run&quot;&gt;
        &lt;exec executable=&quot;cmd.exe&quot; failonerror=&quot;true&quot; osfamily=&quot;windows&quot; &gt;
                &lt;arg line=&quot;/c build.bat&quot; /&gt;
        &lt;/exec&gt;
        &lt;echo message=&quot;test&quot; /&gt;
&lt;/target&gt;
&lt;/project&gt;

the below is the output, when I run ant -f test.xml :

Buildfile: E:\Test\test.xml

run:
     [exec]
     [exec] E:\Test&gt;cls
     [exec] ?
     [exec] E:\Test&gt;ant -f build.xml
     [exec] Buildfile: E:\Test\build.xml
     [exec]
     [exec] init:
     [exec]
     [exec] clean_all:
     [exec]    [delete] Deleting directory E:\Test\target
     [exec]     [mkdir] Created dir: E:\Test\target
     [exec]
     [exec] prepareTobuild:
     [exec]     [mkdir] Created dir: E:\Test\target\lib
     [exec]     [mkdir] Created dir: E:\Test\target\classes
     [exec]     [mkdir] Created dir: E:\Test\target\classes\resources
     [exec]     [mkdir] Created dir: E:\Test\target\samples
     [exec]     [mkdir] Created dir: E:\Test\target\samples\src
     [exec]     [mkdir] Created dir: E:\Test\target\samples\data
     [exec]
     [exec] out_genjaxb:
     [exec]      [echo] Compiling the schema...
     [exec]       [xjc] Compiling file:/E:/Test/build/test.xsd
     [exec]
     [exec] BUILD FAILED
     [exec] E:\Test\build.xml:1
84: java.lang.NoClassDefFoundError: javax.xml.bind.Element
     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.DefaultClassBinder.clas
s$(DefaultClassBinder.java:112)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.DefaultClassBinder.elem
entDecl(DefaultClassBinder.java:112)
     [exec]     at com.sun.xml.xsom.impl.ElementDecl.apply(ElementDecl.java:182)

     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.ClassSelector._bindToCl
ass(ClassSelector.java:219)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.ClassSelector.bindToTyp
e(ClassSelector.java:184)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.populate(BGMBui
lder.java:264)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.buildContents(B
GMBuilder.java:231)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder._build(BGMBuild
er.java:120)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.build(BGMBuilde
r.java:84)
     [exec]     at com.sun.tools.xjc.GrammarLoader.annotateXMLSchema(GrammarLoad
er.java:408)
     [exec]     at com.sun.tools.xjc.GrammarLoader.load(GrammarLoader.java:127)
     [exec]     at com.sun.tools.xjc.GrammarLoader.load(GrammarLoader.java:76)
     [exec]     at com.sun.tools.xjc.XJCTask._doXJC(XJCTask.java:356)
     [exec]     at com.sun.tools.xjc.XJCTask.doXJC(XJCTask.java:305)
     [exec]     at com.sun.tools.xjc.XJCTask.execute(XJCTask.java:245)
     [exec]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.ja
va:291)
     [exec]     at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
     [exec]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMet
hodAccessorImpl.java:25)
     [exec]     at java.lang.reflect.Method.invoke(Method.java:585)
     [exec]     at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchU
tils.java:106)
     [exec]     at org.apache.tools.ant.Task.perform(Task.java:348)
     [exec]     at org.apache.tools.ant.Target.execute(Target.java:390)
     [exec]     at org.apache.tools.ant.Target.performTasks(Target.java:411)
     [exec]     at org.apache.tools.ant.Project.executeSortedTargets(Project.jav
a:1397)
     [exec]     at org.apache.tools.ant.Project.executeTarget(Project.java:1366)

     [exec]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(De
faultExecutor.java:41)
     [exec]     at org.apache.tools.ant.Project.executeTargets(Project.java:1249
)
     [exec]     at org.apache.tools.ant.Main.runBuild(Main.java:801)
     [exec]     at org.apache.tools.ant.Main.startAnt(Main.java:218)
     [exec]     at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
     [exec]     at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)
     [exec]
     [exec] Total time: 1 second
     [exec]
     [echo] test

BUILD SUCCESSFUL
Total time: 1 second

The exec task and build has to fail since the build.bat execution fails.
But, the same is not happening, instead build and exec task is passing.","I had a windows batch file and it contains :
build.bat :
  cls
  ant -f build.xml


test.xml :

<project name=""test"" default=""run"">
<target name=""run"">
        <exec executable=""cmd.exe"" failonerror=""true"" osfamily=""windows"" >
                <arg line=""/c build.bat"" />
        </exec>
        <echo message=""test"" />
</target>
</project>

the below is the output, when I run ant -f test.xml :

Buildfile: E:\Test\test.xml

run:
     [exec]
     [exec] E:\Test>cls
     [exec] ?
     [exec] E:\Test>ant -f build.xml
     [exec] Buildfile: E:\Test\build.xml
     [exec]
     [exec] init:
     [exec]
     [exec] clean_all:
     [exec]    [delete] Deleting directory E:\Test\target
     [exec]     [mkdir] Created dir: E:\Test\target
     [exec]
     [exec] prepareTobuild:
     [exec]     [mkdir] Created dir: E:\Test\target\lib
     [exec]     [mkdir] Created dir: E:\Test\target\classes
     [exec]     [mkdir] Created dir: E:\Test\target\classes\resources
     [exec]     [mkdir] Created dir: E:\Test\target\samples
     [exec]     [mkdir] Created dir: E:\Test\target\samples\src
     [exec]     [mkdir] Created dir: E:\Test\target\samples\data
     [exec]
     [exec] out_genjaxb:
     [exec]      [echo] Compiling the schema...
     [exec]       [xjc] Compiling file:/E:/Test/build/test.xsd
     [exec]
     [exec] BUILD FAILED
     [exec] E:\Test\build.xml:1
84: java.lang.NoClassDefFoundError: javax.xml.bind.Element
     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.DefaultClassBinder.clas
s$(DefaultClassBinder.java:112)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.DefaultClassBinder.elem
entDecl(DefaultClassBinder.java:112)
     [exec]     at com.sun.xml.xsom.impl.ElementDecl.apply(ElementDecl.java:182)

     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.ClassSelector._bindToCl
ass(ClassSelector.java:219)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.cs.ClassSelector.bindToTyp
e(ClassSelector.java:184)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.populate(BGMBui
lder.java:264)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.buildContents(B
GMBuilder.java:231)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder._build(BGMBuild
er.java:120)
     [exec]     at com.sun.tools.xjc.reader.xmlschema.BGMBuilder.build(BGMBuilde
r.java:84)
     [exec]     at com.sun.tools.xjc.GrammarLoader.annotateXMLSchema(GrammarLoad
er.java:408)
     [exec]     at com.sun.tools.xjc.GrammarLoader.load(GrammarLoader.java:127)
     [exec]     at com.sun.tools.xjc.GrammarLoader.load(GrammarLoader.java:76)
     [exec]     at com.sun.tools.xjc.XJCTask._doXJC(XJCTask.java:356)
     [exec]     at com.sun.tools.xjc.XJCTask.doXJC(XJCTask.java:305)
     [exec]     at com.sun.tools.xjc.XJCTask.execute(XJCTask.java:245)
     [exec]     at org.apache.tools.ant.UnknownElement.execute(UnknownElement.ja
va:291)
     [exec]     at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
     [exec]     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMet
hodAccessorImpl.java:25)
     [exec]     at java.lang.reflect.Method.invoke(Method.java:585)
     [exec]     at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchU
tils.java:106)
     [exec]     at org.apache.tools.ant.Task.perform(Task.java:348)
     [exec]     at org.apache.tools.ant.Target.execute(Target.java:390)
     [exec]     at org.apache.tools.ant.Target.performTasks(Target.java:411)
     [exec]     at org.apache.tools.ant.Project.executeSortedTargets(Project.jav
a:1397)
     [exec]     at org.apache.tools.ant.Project.executeTarget(Project.java:1366)

     [exec]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(De
faultExecutor.java:41)
     [exec]     at org.apache.tools.ant.Project.executeTargets(Project.java:1249
)
     [exec]     at org.apache.tools.ant.Main.runBuild(Main.java:801)
     [exec]     at org.apache.tools.ant.Main.startAnt(Main.java:218)
     [exec]     at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
     [exec]     at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)
     [exec]
     [exec] Total time: 1 second
     [exec]
     [echo] test

BUILD SUCCESSFUL
Total time: 1 second

The exec task and build has to fail since the build.bat execution fails.
But, the same is not happening, instead build and exec task is passing.",60
168,50506,"Comment 1","dev10","2010-12-21 15:23:11","Most likely you should change build.bat to do this

call ant -f build.xml

instead of just

ant -f build.xml

with the keyword call your build.bat will wait until ant.bat has finished and capture its error level.

If this does not work just right on your version of Windows you can add another line right after

call ant -f build.xml
exit /B %errorlevel%","Most likely you should change build.bat to do this

call ant -f build.xml

instead of just

ant -f build.xml

with the keyword call your build.bat will wait until ant.bat has finished and capture its error level.

If this does not work just right on your version of Windows you can add another line right after

call ant -f build.xml
exit /B %errorlevel%",60
169,50506,"Comment 2","dev10","2010-12-21 15:23:36","Most likely you should change build.bat to do this

call ant -f build.xml

instead of just

ant -f build.xml

with the keyword call your build.bat will wait until ant.bat has finished and capture its error level.

If this does not work just right on your version of Windows you can add another line right after

call ant -f build.xml
exit /B %errorlevel%","Most likely you should change build.bat to do this

call ant -f build.xml

instead of just

ant -f build.xml

with the keyword call your build.bat will wait until ant.bat has finished and capture its error level.

If this does not work just right on your version of Windows you can add another line right after

call ant -f build.xml
exit /B %errorlevel%",60
170,40567,Description,"dev11","2006-09-21 11:18:44","I have a resource that generates random numbers: 
<a href=""http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/src/org/antbook/resources/RandomResource.java?view=markup"">http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/src/org/antbook/resources/RandomResource.java?view=markup</a>

and a build file that compiles and tests it in one go:

<a href=""http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/build.xml?view=markup"">http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/build.xml?view=markup</a>

One attribute is to set the generator's seed, so that it regenerates the same
random stream as before, which is something I test for 

 &lt;target name=&quot;testSeed&quot;
   xmlns:res=&quot;antlib:org.antbook.resources&quot;
   depends=&quot;define&quot;&gt;
   &lt;loadresource property=&quot;set1&quot;&gt;
     &lt;res:random size=&quot;10&quot; seed=&quot;1&quot;/&gt;
   &lt;/loadresource&gt;
   &lt;loadresource property=&quot;set2&quot;&gt;
     &lt;res:random size=&quot;10&quot; seed=&quot;1&quot;/&gt;
   &lt;/loadresource&gt;
   &lt;au:assertPropertySet name=&quot;set1&quot;/&gt;
   &lt;au:assertPropertyEquals name=&quot;set1&quot; value=&quot;${set2}&quot;/&gt;
 &lt;/target&gt;

This test works on the command line, but under antunit it fails

[au:antunit] Target: testSeed  FAILED
[au:antunit]    at line 137, column 59
[au:antunit]    Message: Expected property 'set1' to have value
'keqegnwrkf' but was 'pkvryxjfnf'
[au:antunit]    took 0.008 sec

I dont know what is going on here, because the unexpected value is consistent on
every run. It isnt random either, just either off a different seed, or the
generator isnt resetting itself properly between runs, even though I create a
new one every time.

Maybe I could add some more logging to determine internal state.","I have a resource that generates random numbers: 
http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/src/org/antbook/resources/RandomResource.java?view=markup

and a build file that compiles and tests it in one go:

http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/build.xml?view=markup

One attribute is to set the generator's seed, so that it regenerates the same
random stream as before, which is something I test for 

 <target name=""testSeed""
   xmlns:res=""antlib:org.antbook.resources""
   depends=""define"">
   <loadresource property=""set1"">
     <res:random size=""10"" seed=""1""/>
   </loadresource>
   <loadresource property=""set2"">
     <res:random size=""10"" seed=""1""/>
   </loadresource>
   <au:assertPropertySet name=""set1""/>
   <au:assertPropertyEquals name=""set1"" value=""${set2}""/>
 </target>

This test works on the command line, but under antunit it fails

[au:antunit] Target: testSeed  FAILED
[au:antunit]    at line 137, column 59
[au:antunit]    Message: Expected property 'set1' to have value
'keqegnwrkf' but was 'pkvryxjfnf'
[au:antunit]    took 0.008 sec

I dont know what is going on here, because the unexpected value is consistent on
every run. It isnt random either, just either off a different seed, or the
generator isnt resetting itself properly between runs, even though I create a
new one every time.

Maybe I could add some more logging to determine internal state.",61
171,40567,"Comment 1","Gilles Scokart","2009-08-29 11:27:53","I reproduced this with the sources of 2006, but it appears to be fixed with the trunk.

(Note that testCreateFileNoName of <a href=""http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/build.xml?view=markup"">http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/build.xml?view=markup</a>
is failing, as described in <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - NPE when trying to &lt;copy&gt; a custom resource"" href=""show_bug.cgi?id=39960"">bug #39960</a> , but that has nothing to do with this bug)","I reproduced this with the sources of 2006, but it appears to be fixed with the trunk.

(Note that testCreateFileNoName of http://antbook.cvs.sourceforge.net/antbook/examples/sections/extending/ch18_extras/resources/build.xml?view=markup
is failing, as described in bug #39960 , but that has nothing to do with this bug)",61
172,47546,Description,div_b,"2009-07-17 02:45:56","I am implementing example code of JMunit v1.2 for my j2me applications unit tetsing, in which when i try to run build.xml i dont get &lt;classTest&gt;.xml and ALLTest.xml files in target folders.

by the patch:-

&lt;target name=&quot;jmunit_task&quot; depends=&quot;compile&quot;&gt;
      &lt;jmunit haltonerror=&quot;false&quot; haltonfailure=&quot;false&quot; failureproperty=&quot;testfailure&quot;&gt;
         
         &lt;classpath&gt;
            &lt;path path=&quot;classes&quot; /&gt;
         &lt;/classpath&gt;                  
         
         &lt;test name=&quot;com.foo.BarTest&quot; todir=&quot;test_results_jmunit&quot; /&gt;
         &lt;test name=&quot;com.foo.FooTest&quot; todir=&quot;test_results_jmunit&quot; /&gt;
      &lt;/jmunit&gt;
   &lt;/target&gt;

AND

 &lt;target name=&quot;packagetests&quot; depends=&quot;jmunit_task&quot;&gt;
      &lt;wtkjad jadfile=&quot;dist/alltests.jad&quot; jarfile=&quot;dist/alltests.jar&quot; name=&quot;AllTests&quot; vendor=&quot;CAM&quot; version=&quot;1.0.0&quot;&gt;
         &lt;midlet name=&quot;AllTests&quot; class=&quot;com.foo.SuiteRunner&quot; /&gt;
      &lt;/wtkjad&gt;
      &lt;wtkpackage jarfile=&quot;dist/alltests.jar&quot; jadfile=&quot;dist/alltests.jad&quot; preverify=&quot;true&quot; obfuscate=&quot;false&quot;&gt;
         &lt;libclasspath&gt;
            &lt;path path=&quot;lib/jmunit4cldc10-${version}.jar&quot; /&gt;
         &lt;/libclasspath&gt;
         &lt;fileset dir=&quot;classes&quot;/&gt;
      &lt;/wtkpackage&gt;
   &lt;/target&gt;


So from the above patches of build.xml, i am not able to get files in destination folders, please let me knwo why??

Apart from this, when i try to run target &quot;jmunit_task&quot; with JUNit and not by JMUnit than i able to get &lt;classText&gt;.xml but with errors {java.lang.NoClassDefFoundError: jmunit/framework/cldc10/TestCase }
The patch is :-
&lt;target name=&quot;jmunit_task&quot; depends=&quot;compile&quot;&gt;
   &lt;junit printsummary=&quot;yes&quot; haltonerror=&quot;false&quot; haltonfailure=&quot;false&quot; failureproperty=&quot;testfailure&quot;&gt;               
          
       &lt;classpath&gt;
            &lt;path path=&quot;classes&quot; /&gt;
         &lt;/classpath&gt;             

  &lt;test name=&quot;com.foo.BarTest&quot; todir=&quot;test_results_jmunit&quot;&gt;  
    &lt;formatter type=&quot;xml&quot;/&gt;
  &lt;/test&gt;      
&lt;/junit&gt;
 &lt;/target&gt;


Please help me why I am getting errors though i set all the required paths in build.xml and also in Classpath of teh system.

Attached is a build.xml with this page.","I am implementing example code of JMunit v1.2 for my j2me applications unit tetsing, in which when i try to run build.xml i dont get <classTest>.xml and ALLTest.xml files in target folders.

by the patch:-

<target name=""jmunit_task"" depends=""compile"">
      <jmunit haltonerror=""false"" haltonfailure=""false"" failureproperty=""testfailure"">
         
         <classpath>
            <path path=""classes"" />
         </classpath>                  
         
         <test name=""com.foo.BarTest"" todir=""test_results_jmunit"" />
         <test name=""com.foo.FooTest"" todir=""test_results_jmunit"" />
      </jmunit>
   </target>

AND

 <target name=""packagetests"" depends=""jmunit_task"">
      <wtkjad jadfile=""dist/alltests.jad"" jarfile=""dist/alltests.jar"" name=""AllTests"" vendor=""CAM"" version=""1.0.0"">
         <midlet name=""AllTests"" class=""com.foo.SuiteRunner"" />
      </wtkjad>
      <wtkpackage jarfile=""dist/alltests.jar"" jadfile=""dist/alltests.jad"" preverify=""true"" obfuscate=""false"">
         <libclasspath>
            <path path=""lib/jmunit4cldc10-${version}.jar"" />
         </libclasspath>
         <fileset dir=""classes""/>
      </wtkpackage>
   </target>


So from the above patches of build.xml, i am not able to get files in destination folders, please let me knwo why??

Apart from this, when i try to run target ""jmunit_task"" with JUNit and not by JMUnit than i able to get <classText>.xml but with errors {java.lang.NoClassDefFoundError: jmunit/framework/cldc10/TestCase }
The patch is :-
<target name=""jmunit_task"" depends=""compile"">
   <junit printsummary=""yes"" haltonerror=""false"" haltonfailure=""false"" failureproperty=""testfailure"">               
          
       <classpath>
            <path path=""classes"" />
         </classpath>             

  <test name=""com.foo.BarTest"" todir=""test_results_jmunit"">  
    <formatter type=""xml""/>
  </test>      
</junit>
 </target>


Please help me why I am getting errors though i set all the required paths in build.xml and also in Classpath of teh system.

Attached is a build.xml with this page.",62
173,47546,"Comment 1",div_b,"2009-07-20 01:03:45","Created <span class=""""><a href=""attachment.cgi?id=24007&amp;action=diff"" name=""attach_24007"" title=""build.xml"">attachment 24007</a> <a href=""attachment.cgi?id=24007&amp;action=edit"" title=""build.xml"">[details]</a></span>
build.xml","Created attachment 24007 [details]
build.xml",62
174,47546,"Comment 2","dev1","2009-07-20 09:39:49","div_b, I'm sorry but I don't know either of the jmunit, wtkjad not wtkpackage tasks you are using.  They are not created or maintained by the Ant team.

In particular, there doesn't seem to be any relation to AntUnit.

Please report the bug with the authors of said tasks.","div_b, I'm sorry but I don't know either of the jmunit, wtkjad not wtkpackage tasks you are using.  They are not created or maintained by the Ant team.

In particular, there doesn't seem to be any relation to AntUnit.

Please report the bug with the authors of said tasks.",62
175,43614,Description,"David Jackman","2007-10-12 11:13:06","It would be good if the XML report from running AntUnit also included the
properties and their values from Ant.  This would allow someone to reproduce the
environment in which the tests were run when researching a test failure, for
example.","It would be good if the XML report from running AntUnit also included the
properties and their values from Ant.  This would allow someone to reproduce the
environment in which the tests were run when researching a test failure, for
example.",63
176,43614,"Comment 1","David Jackman","2007-10-12 11:13:58","Created <span class=""""><a href=""attachment.cgi?id=20971&amp;action=diff"" name=""attach_20971"" title=""Patch to implement this feature"">attachment 20971</a> <a href=""attachment.cgi?id=20971&amp;action=edit"" title=""Patch to implement this feature"">[details]</a></span>
Patch to implement this feature","Created attachment 20971 [details]
Patch to implement this feature",63
177,43614,"Comment 2","dev1","2008-04-08 08:11:30","patch applied, thanks!","patch applied, thanks!",63
178,43475,Description,"David Jackman","2007-09-25 14:07:02","Sometimes the tests in a single test script will require some relatively
expensive set up before they can be run.  This enhancement is to add the
capability for a target to run before all the tests in the script are run, and
another to run after all the tests in the script have run.  This is similar to
the BeforeClass and AfterClass annotations in JUnit 4.","Sometimes the tests in a single test script will require some relatively
expensive set up before they can be run.  This enhancement is to add the
capability for a target to run before all the tests in the script are run, and
another to run after all the tests in the script have run.  This is similar to
the BeforeClass and AfterClass annotations in JUnit 4.",64
179,43475,"Comment 1","David Jackman","2007-09-25 17:01:39","Created <span class=""bz_obsolete""><a href=""attachment.cgi?id=20880&amp;action=diff"" name=""attach_20880"" title=""Provides a patch for the code to add this enhancement, including tests"">attachment 20880</a> <a href=""attachment.cgi?id=20880&amp;action=edit"" title=""Provides a patch for the code to add this enhancement, including tests"">[details]</a></span>
Provides a patch for the code to add this enhancement, including tests

Note that this patch also includes the patch for <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Failure in tearDown does not result in a failed test run"" href=""show_bug.cgi?id=43466"">bug 43466</a>.","Created attachment 20880 [details]
Provides a patch for the code to add this enhancement, including tests

Note that this patch also includes the patch for bug 43466.",64
180,43475,"Comment 2","David Jackman","2007-10-08 10:23:59","Created <span class=""bz_obsolete""><a href=""attachment.cgi?id=20945&amp;action=diff"" name=""attach_20945"" title=""Better patch to add this feature"">attachment 20945</a> <a href=""attachment.cgi?id=20945&amp;action=edit"" title=""Better patch to add this feature"">[details]</a></span>
Better patch to add this feature

The previous patch had a problem--all the files in the new directory were added
twice (I think this is bug in TortoiseSVN).  This patch should have the files
added only once.","Created attachment 20945 [details]
Better patch to add this feature

The previous patch had a problem--all the files in the new directory were added
twice (I think this is bug in TortoiseSVN).  This patch should have the files
added only once.",64
181,43475,"Comment 3","David Jackman","2007-10-09 16:56:16","Created <span class=""""><a href=""attachment.cgi?id=20949&amp;action=diff"" name=""attach_20949"" title=""New patch based on latest revision (583310)"">attachment 20949</a> <a href=""attachment.cgi?id=20949&amp;action=edit"" title=""New patch based on latest revision (583310)"">[details]</a></span>
New patch based on latest revision (583310)

This patch contains changes for this enhancement on the latest revision of the
code (583310)","Created attachment 20949 [details]
New patch based on latest revision (583310)

This patch contains changes for this enhancement on the latest revision of the
code (583310)",64
182,43475,"Comment 4","David Jackman","2007-10-11 15:14:57","Created <span class=""""><a href=""attachment.cgi?id=20961&amp;action=diff"" name=""attach_20961"" title=""Patch to implement this feature that works with bug 43604"">attachment 20961</a> <a href=""attachment.cgi?id=20961&amp;action=edit"" title=""Patch to implement this feature that works with bug 43604"">[details]</a></span>
Patch to implement this feature that works with <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Plain and XML listeners should add log output from the tests to the test report"" href=""show_bug.cgi?id=43604"">bug 43604</a>

This patch also includes a change made necessary by the patch to <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Plain and XML listeners should add log output from the tests to the test report"" href=""show_bug.cgi?id=43604"">bug 43604</a>
(which adds a method to the AntUnitListener interface).","Created attachment 20961 [details]
Patch to implement this feature that works with bug 43604

This patch also includes a change made necessary by the patch to bug 43604
(which adds a method to the AntUnitListener interface).",64
183,43475,"Comment 5","dev1","2008-04-08 07:53:13","Thanks, I committed the patch.","Thanks, I committed the patch.",64
184,43604,Description,"David Jackman","2007-10-11 14:59:40","Test reports should include the output logged by the tests when they run,
similar to the way the JUnit listeners do.  Ideally, one would be able to
configure the level for log messages to include in the report, including the
ability to log no messages.","Test reports should include the output logged by the tests when they run,
similar to the way the JUnit listeners do.  Ideally, one would be able to
configure the level for log messages to include in the report, including the
ability to log no messages.",65
185,43604,"Comment 1","David Jackman","2007-10-11 15:01:51","Created <span class=""""><a href=""attachment.cgi?id=20959&amp;action=diff"" name=""attach_20959"" title=""Patch to implement this feature"">attachment 20959</a> <a href=""attachment.cgi?id=20959&amp;action=edit"" title=""Patch to implement this feature"">[details]</a></span>
Patch to implement this feature","Created attachment 20959 [details]
Patch to implement this feature",65
186,43604,"Comment 2","David Jackman","2007-10-11 15:04:23","Created <span class=""""><a href=""attachment.cgi?id=20960&amp;action=diff"" name=""attach_20960"" title=""Patch to implement this feature that also includes tests covering bug 43475"">attachment 20960</a> <a href=""attachment.cgi?id=20960&amp;action=edit"" title=""Patch to implement this feature that also includes tests covering bug 43475"">[details]</a></span>
Patch to implement this feature that also includes tests covering <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Add support for a setUp and tearDown target to be called before and after the entire set of tests"" href=""show_bug.cgi?id=43475"">bug 43475</a>

This patch includes tests covering messages coming from suiteSetUp and
suiteTearDown (an enhancement logged as <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Add support for a setUp and tearDown target to be called before and after the entire set of tests"" href=""show_bug.cgi?id=43475"">bug 43475</a>)","Created attachment 20960 [details]
Patch to implement this feature that also includes tests covering bug 43475

This patch includes tests covering messages coming from suiteSetUp and
suiteTearDown (an enhancement logged as bug 43475)",65
187,43604,"Comment 3","dev1","2008-04-08 05:43:18","I've committed a modified version.  I renamed showLogLevel to logLevel and made it default to &quot;none&quot;.","I've committed a modified version.  I renamed showLogLevel to logLevel and made it default to ""none"".",65
188,43779,Description,Rohini,"2007-11-02 02:22:29","Hi Friends,
   I faced the problem while running the build .
It tells the problem of the 
init:
deps-module-jar:
deps-ear-jar:
deps-jar:
library-inclusion-in-archive:
library-inclusion-in-manifest:
compile:
compile-jsps:
do-dist:
dist:
debug:
Incrementally deploying <a href=""http://localhost:8084/player"">http://localhost:8084/player</a>
Completed incremental distribution of <a href=""http://localhost:8084/player"">http://localhost:8084/player</a>
Duplicated project name in import. Project zivah-impl defined first in
/home/rohini/test/player/nbproject/ant-deploy.xml and again in
/home/rohini/test/player/nbproject/build-impl.xml
connect-debugger:
Duplicated project name in import. Project player-impl defined first in
/home/rohini/test/player/nbproject/ant-deploy.xml and again in
/home/rohini/test/player/nbproject/build-impl.xml
debug-display-browser:

Browsing: <a href=""http://localhost:8084/player/audioapplet.html"">http://localhost:8084/player/audioapplet.html</a>
BUILD SUCCESSFUL (total time: 0 seconds)

so how to fix this bug how to remove the duplication kindly support me","Hi Friends,
   I faced the problem while running the build .
It tells the problem of the 
init:
deps-module-jar:
deps-ear-jar:
deps-jar:
library-inclusion-in-archive:
library-inclusion-in-manifest:
compile:
compile-jsps:
do-dist:
dist:
debug:
Incrementally deploying http://localhost:8084/player
Completed incremental distribution of http://localhost:8084/player
Duplicated project name in import. Project zivah-impl defined first in
/home/rohini/test/player/nbproject/ant-deploy.xml and again in
/home/rohini/test/player/nbproject/build-impl.xml
connect-debugger:
Duplicated project name in import. Project player-impl defined first in
/home/rohini/test/player/nbproject/ant-deploy.xml and again in
/home/rohini/test/player/nbproject/build-impl.xml
debug-display-browser:

Browsing: http://localhost:8084/player/audioapplet.html
BUILD SUCCESSFUL (total time: 0 seconds)

so how to fix this bug how to remove the duplication kindly support me",66
189,43779,"Comment 1","Jan Mat","2007-11-02 03:24:29","This is not a bug of Ant (as it does not have any ant-deploy.xml), so this is
invalid.

You should ask on the user mailinglist.","This is not a bug of Ant (as it does not have any ant-deploy.xml), so this is
invalid.

You should ask on the user mailinglist.",66
190,43797,Description,"Ybien Ksor","2007-11-05 18:12:54",sertil,sertil,67
191,39025,Description,stars,"2006-03-18 08:25:56","Hello,

I have encountered with the following problem:

I am using the last version of Ant (1.6.5) and having a problem with running it.

After ant.bat excution i get an exception:

java.lang.InstantiationException: org.apache.tools.ant.Main
        at java.lang.Class.newInstance0(Class.java:293)
        at java.lang.Class.newInstance(Class.java:261)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:245)

        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)

My classpath variable value:

CLASSPATH=C:\j2sdk1.4.2_10\lib;C:\Ant\lib;
C:\bea\weblogic81\server\lib\weblogic.jar

Path=C:\j2sdk1.4.2_10\bin;C:\Ant\bin;C:\WINDOWS\system32;
C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\bea\jdk142_08\bin;

I suppose the problem is in C:\bea\weblogic81\server\lib\weblogic.jar because
if this line take out of the classpath then ant working without problems.(
i have tried also to put this string to the beginning of classpath but still
without any positive effect)
But i still can not get the logic why ant behaive like that or what should
i do to use my C:\bea\weblogic81\server\lib\weblogic.jar line in classpath and
still running c:\ant\ant.bat
I will really appricate if you could get me a little hint or explain the nature
of this problem.

With Regards
<a href=""mailto:stars.jkl@mail.ee"">stars.jkl@mail.ee</a>","Hello,

I have encountered with the following problem:

I am using the last version of Ant (1.6.5) and having a problem with running it.

After ant.bat excution i get an exception:

java.lang.InstantiationException: org.apache.tools.ant.Main
        at java.lang.Class.newInstance0(Class.java:293)
        at java.lang.Class.newInstance(Class.java:261)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:245)

        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:67)

My classpath variable value:

CLASSPATH=C:\j2sdk1.4.2_10\lib;C:\Ant\lib;
C:\bea\weblogic81\server\lib\weblogic.jar

Path=C:\j2sdk1.4.2_10\bin;C:\Ant\bin;C:\WINDOWS\system32;
C:\WINDOWS;C:\WINDOWS\System32\Wbem;C:\bea\jdk142_08\bin;

I suppose the problem is in C:\bea\weblogic81\server\lib\weblogic.jar because
if this line take out of the classpath then ant working without problems.(
i have tried also to put this string to the beginning of classpath but still
without any positive effect)
But i still can not get the logic why ant behaive like that or what should
i do to use my C:\bea\weblogic81\server\lib\weblogic.jar line in classpath and
still running c:\ant\ant.bat
I will really appricate if you could get me a little hint or explain the nature
of this problem.

With Regards
stars.jkl@mail.ee",68
192,39025,"Comment 1","dev11","2006-03-19 22:08:05","weblogic includes their own version of ant.bat and probably ant tasks in some jar. 
1 .Make sure weblogic is not on the classpath (better yet, rename their ant.bat). 

2. you shouldnt be putting anything in CLASSPATH, it only causes problems.

3. if you insist, run ant -noclasspath to tell ant to ignore it.","weblogic includes their own version of ant.bat and probably ant tasks in some jar. 
1 .Make sure weblogic is not on the classpath (better yet, rename their ant.bat). 

2. you shouldnt be putting anything in CLASSPATH, it only causes problems.

3. if you insist, run ant -noclasspath to tell ant to ignore it.",68
193,39025,"Comment 2","dev11","2006-03-20 13:29:16","Accidentally resolved this. I dont know what our dispatch should be. I am
however downgrading it to minor.","Accidentally resolved this. I dont know what our dispatch should be. I am
however downgrading it to minor.",68
194,39025,"Comment 3","Jeffrey E. Care","2006-03-20 13:44:57","Sounds like a question for BEA support, not a bug against Ant.","Sounds like a question for BEA support, not a bug against Ant.",68
195,39489,Description,kyshu,"2006-05-05 11:54:00","after an execution of ant from a .bat, the window close so we don't see if it
successfull or failed. and we can't execute an other task

file test.bat

d:\Ant\bin\ant -buildfile d:\livraison\build.xml indus
-Dbranche_oceane=%BRANCHE_OCEANE% -Dbranche_marine=%BRANCHE_MARINE%
-Dversion_oceane=%VERSION_OCEANE% -Dversion_marine=%VERSION_MARINE% -q

echo test fin

Pause

In this example, the command echo and pause never execute.","after an execution of ant from a .bat, the window close so we don't see if it
successfull or failed. and we can't execute an other task

file test.bat

d:\Ant\bin\ant -buildfile d:\livraison\build.xml indus
-Dbranche_oceane=%BRANCHE_OCEANE% -Dbranche_marine=%BRANCHE_MARINE%
-Dversion_oceane=%VERSION_OCEANE% -Dversion_marine=%VERSION_MARINE% -q

echo test fin

Pause

In this example, the command echo and pause never execute.",69
196,39489,"Comment 1","dev11","2006-05-05 12:28:24","Ant.bat is a batch file. In DOS, if you invoke a .bat from another bat file, it
is a goto, not a subroutine.

go 

CALL %ANT_HOME%/bin/ant.bat","Ant.bat is a batch file. In DOS, if you invoke a .bat from another bat file, it
is a goto, not a subroutine.

go 

CALL %ANT_HOME%/bin/ant.bat",69
197,39780,Description,"dev11","2006-06-12 00:09:28","this test works on the command line:

  &lt;target name=&quot;testPath&quot; depends=&quot;define&quot;&gt;
    &lt;book:filesize property=&quot;size&quot;&gt;
      &lt;path path=&quot;${java.class.path}&quot;/&gt;
    &lt;/book:filesize&gt; 
    &lt;echo&gt; classpath size=${size}&lt;/echo&gt;
  &lt;/target&gt;

but when run from antunit, it fails cos java.class.path isnt set.","this test works on the command line:

  <target name=""testPath"" depends=""define"">
    <book:filesize property=""size"">
      <path path=""${java.class.path}""/>
    </book:filesize> 
    <echo> classpath size=${size}</echo>
  </target>

but when run from antunit, it fails cos java.class.path isnt set.",70
198,39780,"Comment 1","dev77","2006-10-06 10:42:32","This was fixed when matt modified antunit.java
&quot;set all properties by calling initProperties().  System props were missing.&quot;","This was fixed when matt modified antunit.java
""set all properties by calling initProperties().  System props were missing.""",70
199,39781,Description,"dev11","2006-06-12 00:10:41","Antunit should support nested properties so that you can run a set of tests in a
project with different options, such as javac compiler options. propertyset
would be useful too, to pass things down.","Antunit should support nested properties so that you can run a set of tests in a
project with different options, such as javac compiler options. propertyset
would be useful too, to pass things down.",71
200,39781,"Comment 1","dev1","2006-11-07 22:20:19","the nested propertyset should do.","the nested propertyset should do.",71
201,42160,Description,Manjunath,"2007-04-18 08:35:24",,,72
202,42160,"Comment 1","Jeffrey E. Care","2007-04-18 08:38:59","STOP PLAYING AROUND WITH BUGZILLA","STOP PLAYING AROUND WITH BUGZILLA",72
203,42745,Description,"Jim Fuller","2007-06-26 12:11:37","antunit/docs/assertions.html

&lt;assertFileExists name=&quot;${ant.home}/lib/ant.jar&quot;/&gt;

should be

&lt;assertFileExists file=&quot;${ant.home}/lib/ant.jar&quot;/&gt;","antunit/docs/assertions.html

<assertFileExists name=""${ant.home}/lib/ant.jar""/>

should be

<assertFileExists file=""${ant.home}/lib/ant.jar""/>",73
204,42745,"Comment 1","J.M. (Martijn) Kruithof","2007-06-30 16:05:54","Thanks, also updated for FileDoesntExists.","Thanks, also updated for FileDoesntExists.",73
205,43466,Description,"David Jackman","2007-09-24 15:33:05","Create a build script like the following:

&lt;project name=&quot;failed-teardown&quot; default=&quot;all&quot;
         xmlns:au=&quot;antlib:org.apache.ant.antunit&quot;&gt;
  &lt;target name=&quot;all&quot;&gt;
    &lt;au:antunit&gt;
      &lt;file file=&quot;${ant.file}&quot; /&gt;
      &lt;au:plainlistener/&gt;
    &lt;/au:antunit&gt;
  &lt;/target&gt;

  &lt;target name=&quot;setUp&quot;&gt;
    &lt;echo&gt;setUp&lt;/echo&gt;
  &lt;/target&gt;

  &lt;target name=&quot;test1&quot;&gt;
    &lt;echo&gt;test1&lt;/echo&gt;
  &lt;/target&gt;

  &lt;target name=&quot;tearDown&quot;&gt;
    &lt;echo&gt;tearDown&lt;/echo&gt;
    &lt;fail message=&quot;Failure in tearDown&quot; /&gt;
  &lt;/target&gt;
&lt;/project&gt;

Running this test should result in a failed test run, but the test run succeeds
and the failure in tearDown is lost.","Create a build script like the following:

<project name=""failed-teardown"" default=""all""
         xmlns:au=""antlib:org.apache.ant.antunit"">
  <target name=""all"">
    <au:antunit>
      <file file=""${ant.file}"" />
      <au:plainlistener/>
    </au:antunit>
  </target>

  <target name=""setUp"">
    <echo>setUp</echo>
  </target>

  <target name=""test1"">
    <echo>test1</echo>
  </target>

  <target name=""tearDown"">
    <echo>tearDown</echo>
    <fail message=""Failure in tearDown"" />
  </target>
</project>

Running this test should result in a failed test run, but the test run succeeds
and the failure in tearDown is lost.",74
206,43466,"Comment 1","David Jackman","2007-09-24 16:21:02","Created <span class=""""><a href=""attachment.cgi?id=20874&amp;action=diff"" name=""attach_20874"" title=""Provides a patch for the code to fix this problem, including tests"">attachment 20874</a> <a href=""attachment.cgi?id=20874&amp;action=edit"" title=""Provides a patch for the code to fix this problem, including tests"">[details]</a></span>
Provides a patch for the code to fix this problem, including tests","Created attachment 20874 [details]
Provides a patch for the code to fix this problem, including tests",74
207,43466,"Comment 2","Kev Jackson","2007-10-03 23:10:48","Patch applied and tested to antunit svn trunk - thanks!","Patch applied and tested to antunit svn trunk - thanks!",74
208,43639,Description,"David Jackman","2007-10-16 15:40:47","The documentation for assertMatches states that the default value for
casesensitive is &quot;true&quot;, but it is really &quot;false&quot;.","The documentation for assertMatches states that the default value for
casesensitive is ""true"", but it is really ""false"".",75
209,43639,"Comment 1","David Jackman","2007-10-16 15:42:30","Created <span class=""""><a href=""attachment.cgi?id=20991&amp;action=diff"" name=""attach_20991"" title=""Patch to implement this feature"">attachment 20991</a> <a href=""attachment.cgi?id=20991&amp;action=edit"" title=""Patch to implement this feature"">[details]</a></span>
Patch to implement this feature

This patch also adds an assertDoesntMatch assertion (with corresponding test
and docs).","Created attachment 20991 [details]
Patch to implement this feature

This patch also adds an assertDoesntMatch assertion (with corresponding test
and docs).",75
210,43639,"Comment 2","dev1","2007-12-05 09:42:05","both parts of the patch ar in trunk now, thanks!","both parts of the patch ar in trunk now, thanks!",75
211,56591,Description,brijesh9aug,"2014-06-05 08:56:50","I am trying to build the JAR(s). My base directory is ${deploy.root}/wwwroot/WEB-INF/classes, now inside this I have package structure like com.mycompname.mod.x, com.mycompname.mod.y....
Source code for generating jar files is:

&lt;jar destfile=&quot;${deploy.root}/wwwroot/WEB-INF/lib/${module.name}.jar&quot; 
			basedir=&quot;${deploy.root}/wwwroot/WEB-INF/classes&quot;
			includes=&quot;com/&lt;&gt;/mod/${module.name}&quot;
			update=&quot;true&quot;&gt;&lt;/jar&gt;

I am assuming at run time it will create a jar with name x.jar in lib directory containing only class that are in
com/&lt;&gt;/mod/x package.

It's not working that way. Sometime it is creating X.jar containing only manifest file. This is console output:

makeCompiledModuleClassesToJarAndCopyToWebRoot:

   [delete] Deleting: D:\&lt;&gt;\&lt;&gt;\&lt;&gt;\trunk\deploy\&lt;&gt;\wwwroot\WEB-INF\lib\X.jar
      [jar] Building MANIFEST-only jar: D:\&lt;&gt;\&lt;&gt;\&lt;&gt;\trunk\deploy\&lt;&gt;\wwwroot\WEB-INF\lib\X.jar



Please help.","I am trying to build the JAR(s). My base directory is ${deploy.root}/wwwroot/WEB-INF/classes, now inside this I have package structure like com.mycompname.mod.x, com.mycompname.mod.y....
Source code for generating jar files is:

<jar destfile=""${deploy.root}/wwwroot/WEB-INF/lib/${module.name}.jar"" 
			basedir=""${deploy.root}/wwwroot/WEB-INF/classes""
			includes=""com/<>/mod/${module.name}""
			update=""true""></jar>

I am assuming at run time it will create a jar with name x.jar in lib directory containing only class that are in
com/<>/mod/x package.

It's not working that way. Sometime it is creating X.jar containing only manifest file. This is console output:

makeCompiledModuleClassesToJarAndCopyToWebRoot:

   [delete] Deleting: D:\<>\<>\<>\trunk\deploy\<>\wwwroot\WEB-INF\lib\X.jar
      [jar] Building MANIFEST-only jar: D:\<>\<>\<>\trunk\deploy\<>\wwwroot\WEB-INF\lib\X.jar



Please help.",76
212,56591,"Comment 1","Jan Mat","2014-06-05 11:55:34","A MANIFEST-only jar is built if there are no files to archive.
Do you delete the WEB-INF/classes directory after jar'ing them?
In that case the 2nd invocation won't find any files.

Also have a look at your includes attribute.
  includes=&quot;com/&lt;&gt;/mod/${module.name}&quot;
This does NOT mean any files under 'x' (e.g. com.mycompany.mod.x.internal.MyClass).
For recursive search use the trailing '/'
  includes=&quot;com/&lt;&gt;/mod/${module.name}/&quot;","A MANIFEST-only jar is built if there are no files to archive.
Do you delete the WEB-INF/classes directory after jar'ing them?
In that case the 2nd invocation won't find any files.

Also have a look at your includes attribute.
  includes=""com/<>/mod/${module.name}""
This does NOT mean any files under 'x' (e.g. com.mycompany.mod.x.internal.MyClass).
For recursive search use the trailing '/'
  includes=""com/<>/mod/${module.name}/""",76
213,56439,Description,"Eric Nelson","2014-04-21 21:12:01","I am trying to get started with ant but have not been able to find the reason for the following error which is also reported by running ant -diagnostics.

Surely this has to be a bug since /usr/lib/jvm/java-6-openjdk/lib is not a directory and could not contain tools.jar. Help!

root@debian:/xant# ant
Unable to locate tools.jar. Expected to find it in /usr/lib/jvm/java-6-openjdk/lib/tools.jar
Buildfile: /xant/build.xml

info:
     [echo] Apache Ant version is Apache Ant version 1.8.0 compiled on March 11 2010 - You are
     [echo] 	at www.tutorialspoint.com 

BUILD SUCCESSFUL
Total time: 0 seconds
root@debian:/xant#","I am trying to get started with ant but have not been able to find the reason for the following error which is also reported by running ant -diagnostics.

Surely this has to be a bug since /usr/lib/jvm/java-6-openjdk/lib is not a directory and could not contain tools.jar. Help!

root@debian:/xant# ant
Unable to locate tools.jar. Expected to find it in /usr/lib/jvm/java-6-openjdk/lib/tools.jar
Buildfile: /xant/build.xml

info:
     [echo] Apache Ant version is Apache Ant version 1.8.0 compiled on March 11 2010 - You are
     [echo] 	at www.tutorialspoint.com 

BUILD SUCCESSFUL
Total time: 0 seconds
root@debian:/xant#",77
214,56439,"Comment 1","Jan Mat","2014-04-21 21:26:37","This is not a bug, this is an information message what could be wrong with your environment. 
Because this is not a bug, I close this issue.

For these kinds of questions, please ask on the user list.

This specific problem is usually because your JAVA_HOME points to a JRE instead of a JDK.","This is not a bug, this is an information message what could be wrong with your environment. 
Because this is not a bug, I close this issue.

For these kinds of questions, please ask on the user list.

This specific problem is usually because your JAVA_HOME points to a JRE instead of a JDK.",77
215,53102,Description,"Roman Dru","2012-04-18 19:19:11","build breaks when is copying file with size 130 MB from one location on C: to another location with message &quot;Map failed&quot;. We are using Ant 1.8.3 and JDK 1.6. Works with small files","build breaks when is copying file with size 130 MB from one location on C: to another location with message ""Map failed"". We are using Ant 1.8.3 and JDK 1.6. Works with small files",78
216,53102,"Comment 1","Roman Dru","2012-04-23 17:08:21","I added copy statement in different parts of the build. Build failed to copy after it ran some time - about 2 hours for me. Doesn't matter which targets it ran before","I added copy statement in different parts of the build. Build failed to copy after it ran some time - about 2 hours for me. Doesn't matter which targets it ran before",78
217,53102,"Comment 2","dev10","2013-04-28 03:07:23","Hello Roman
is this problem still current ?

Does this occur with Java 1.7 ?

Regards,

Antoine","Hello Roman
is this problem still current ?

Does this occur with Java 1.7 ?

Regards,

Antoine",78
218,53102,"Comment 3","dev1","2014-01-11 19:11:25","with svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1557433"">revision 1557433</a> Ant will log a warning and fall back to good old Streams in a situation like this.","with svn revision 1557433 Ant will log a warning and fall back to good old Streams in a situation like this.",78
219,54511,Description,candy.pang.ca,"2013-01-31 20:11:05","Dear Sir or Madam,
I downloaded apache-ant-1.8.4-bin.zip.
When I executed &quot;ant -f fetch.xml -Ddest=system&quot;, I got the following warnings.

jspc:
[artifact:dependencies] Downloading: tomcat/jasper-compiler/4.1.36/jasper-compiler-4.1.36.pom
[artifact:dependencies] [WARNING] Unable to get resource from repository remote
(<a href=""http://repo1.maven.org/maven2/"">http://repo1.maven.org/maven2/</a>)
...
[artifact:dependencies] Downloading: tomcat/jasper-runtime/4.1.36/jasper-runtime-4.1.36.pom
[artifact:dependencies] [WARNING] Unable to get resource from repository remote
(<a href=""http://repo1.maven.org/maven2/"">http://repo1.maven.org/maven2/</a>)
...

I tried the following URLs and files do not exist.
<a href=""http://repo1.maven.org/maven2/tomcat/jasper-compiler/4.1.36/jasper-compiler-4.1.36.pom"">http://repo1.maven.org/maven2/tomcat/jasper-compiler/4.1.36/jasper-compiler-4.1.36.pom</a>
<a href=""http://repo1.maven.org/maven2/tomcat/jasper-compiler/4.1.36/jasper-runtime-4.1.36.pom"">http://repo1.maven.org/maven2/tomcat/jasper-compiler/4.1.36/jasper-runtime-4.1.36.pom</a>

Are 'jasper-compiler-4.1.36.pom' and 'jasper-runtime-4.1.36.pom' needed?
If so, would you please update fetch.xml to the new URLs?  

If they are not needed, it may be bettered to remove them from fetch.xml.

Thank you very much.
Best regards,
Candy","Dear Sir or Madam,
I downloaded apache-ant-1.8.4-bin.zip.
When I executed ""ant -f fetch.xml -Ddest=system"", I got the following warnings.

jspc:
[artifact:dependencies] Downloading: tomcat/jasper-compiler/4.1.36/jasper-compiler-4.1.36.pom
[artifact:dependencies] [WARNING] Unable to get resource from repository remote
(http://repo1.maven.org/maven2/)
...
[artifact:dependencies] Downloading: tomcat/jasper-runtime/4.1.36/jasper-runtime-4.1.36.pom
[artifact:dependencies] [WARNING] Unable to get resource from repository remote
(http://repo1.maven.org/maven2/)
...

I tried the following URLs and files do not exist.
http://repo1.maven.org/maven2/tomcat/jasper-compiler/4.1.36/jasper-compiler-4.1.36.pom
http://repo1.maven.org/maven2/tomcat/jasper-compiler/4.1.36/jasper-runtime-4.1.36.pom

Are 'jasper-compiler-4.1.36.pom' and 'jasper-runtime-4.1.36.pom' needed?
If so, would you please update fetch.xml to the new URLs?  

If they are not needed, it may be bettered to remove them from fetch.xml.

Thank you very much.
Best regards,
Candy",79
220,54511,"Comment 1","dev1","2014-01-02 16:00:22","these are warnings because the (old) Tomcat releases don't come with POMs.

The poms are not needed at all and even the jars would only be needed to run the legacy jspc task.","these are warnings because the (old) Tomcat releases don't come with POMs.

The poms are not needed at all and even the jars would only be needed to run the legacy jspc task.",79
221,54775,Description,d_lincke,"2013-03-30 20:45:19","Definitely something with my installation. Even a trivial build-file leads to this error:

&lt;project name=&quot;test&quot; default=&quot;init&quot; basedir=&quot;.&quot;&gt;

  &lt;target name=&quot;init&quot;&gt;
  &lt;/target&gt;

&lt;/project&gt;

The error occured after I installed eclipse and tried to create a eclipse project from a sbt project. For this a had to install maven, and then I followed basically these steps: <a href=""http://biomunky.wordpress.com/2011/02/03/import-sbt-project-into-eclipse/"">http://biomunky.wordpress.com/2011/02/03/import-sbt-project-into-eclipse/</a>

I think the maven installation killed something ... but even uninstalling maven and reinstalling ant completely didn't help. I don't know if it is really a ant-bug, but it is at least a very missleading error message. 

Thanks,
daniel","Definitely something with my installation. Even a trivial build-file leads to this error:

<project name=""test"" default=""init"" basedir=""."">

  <target name=""init"">
  </target>

</project>

The error occured after I installed eclipse and tried to create a eclipse project from a sbt project. For this a had to install maven, and then I followed basically these steps: http://biomunky.wordpress.com/2011/02/03/import-sbt-project-into-eclipse/

I think the maven installation killed something ... but even uninstalling maven and reinstalling ant completely didn't help. I don't know if it is really a ant-bug, but it is at least a very missleading error message. 

Thanks,
daniel",80
222,54775,"Comment 1","dev1","2013-12-31 16:00:14","I don't have any idea how to help you.  Can you provide some sort of stacktrace?","I don't have any idea how to help you.  Can you provide some sort of stacktrace?",80
223,54775,"Comment 2","Orion Poplawski","2013-12-31 19:11:47","This issue was fixed in Fedora - see <a href=""https://bugzilla.redhat.com/show_bug.cgi?id=838711"">https://bugzilla.redhat.com/show_bug.cgi?id=838711</a>","This issue was fixed in Fedora - see https://bugzilla.redhat.com/show_bug.cgi?id=838711",80
224,54775,"Comment 3","dev1","2014-01-01 10:45:39","OK, thanks.","OK, thanks.",80
225,55140,Description,"Pranay Jha","2013-06-25 10:54:35","Error Id I get with Eclipse- 1761500194-45626 (221894685)
I am using ant-salesforce.jar
While deploying code I get the below error, 

Apache Ant(TM) version 1.9.1 compiled on May 15 2013
Buildfile: C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.xml
parsing buildfile C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.xml with URI = file:/C:/Users/pjha.XACTLYCORP/workspace/Eclipse%20Indigo%203.7/CodeDeploy/build.xml
Project base dir set to: C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy
parsing buildfile jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant.jar!/org/apache/tools/ant/antlib.xml from a zip file
 [property] Loading C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.properties
 [property] Loading Environment env.
Build sequence for target(s) `deploy' is [deploy]
Complete build sequence is [deploy, Dev17April2013Backup, ]
deploy:
parsing buildfile jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant-salesforce.jar!/com/salesforce/antlib.xml with URI = jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant-salesforce.jar!/com/salesforce/antlib.xml from a zip file
[sf:deploy] Request for a deploy submitted successfully.
[sf:deploy] Request Id for the current deploy task: 09Si0000000PeghEAC
[sf:deploy] Waiting for server to finish processing the request...
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: Error

BUILD FAILED
C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.xml:15: Failed to process the request successfully. Cause(UNKNOWN_EXCEPTION): UNKNOWN_EXCEPTION: An unexpected error occurred. Please include this ErrorId if you contact support: 1761500194-45626 (221894685)
	at com.salesforce.ant.SFDCMDAPIAntTaskRunner.runTask(SFDCMDAPIAntTaskRunner.java:89)
	at com.salesforce.ant.DeployTask.execute(DeployTask.java:59)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:435)
	at org.apache.tools.ant.Target.performTasks(Target.java:456)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1364)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.eclipse.ant.internal.launching.remote.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1248)
	at org.eclipse.ant.internal.launching.remote.InternalAntRunner.run(InternalAntRunner.java:424)
	at org.eclipse.ant.internal.launching.remote.InternalAntRunner.main(InternalAntRunner.java:138)

Total time: 2 minutes 22 seconds","Error Id I get with Eclipse- 1761500194-45626 (221894685)
I am using ant-salesforce.jar
While deploying code I get the below error, 

Apache Ant(TM) version 1.9.1 compiled on May 15 2013
Buildfile: C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.xml
parsing buildfile C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.xml with URI = file:/C:/Users/pjha.XACTLYCORP/workspace/Eclipse%20Indigo%203.7/CodeDeploy/build.xml
Project base dir set to: C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy
parsing buildfile jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant.jar!/org/apache/tools/ant/antlib.xml with URI = jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant.jar!/org/apache/tools/ant/antlib.xml from a zip file
 [property] Loading C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.properties
 [property] Loading Environment env.
Build sequence for target(s) `deploy' is [deploy]
Complete build sequence is [deploy, Dev17April2013Backup, ]
deploy:
parsing buildfile jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant-salesforce.jar!/com/salesforce/antlib.xml with URI = jar:file:/C:/Program%20Files/apache-ant-1.9.1/lib/ant-salesforce.jar!/com/salesforce/antlib.xml from a zip file
[sf:deploy] Request for a deploy submitted successfully.
[sf:deploy] Request Id for the current deploy task: 09Si0000000PeghEAC
[sf:deploy] Waiting for server to finish processing the request...
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: InProgress
[sf:deploy] Request Status: Error

BUILD FAILED
C:\Users\pjha.XACTLYCORP\workspace\Eclipse Indigo 3.7\CodeDeploy\build.xml:15: Failed to process the request successfully. Cause(UNKNOWN_EXCEPTION): UNKNOWN_EXCEPTION: An unexpected error occurred. Please include this ErrorId if you contact support: 1761500194-45626 (221894685)
	at com.salesforce.ant.SFDCMDAPIAntTaskRunner.runTask(SFDCMDAPIAntTaskRunner.java:89)
	at com.salesforce.ant.DeployTask.execute(DeployTask.java:59)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:292)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)
	at java.lang.reflect.Method.invoke(Unknown Source)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:435)
	at org.apache.tools.ant.Target.performTasks(Target.java:456)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1393)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1364)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.eclipse.ant.internal.launching.remote.EclipseDefaultExecutor.executeTargets(EclipseDefaultExecutor.java:32)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1248)
	at org.eclipse.ant.internal.launching.remote.InternalAntRunner.run(InternalAntRunner.java:424)
	at org.eclipse.ant.internal.launching.remote.InternalAntRunner.main(InternalAntRunner.java:138)

Total time: 2 minutes 22 seconds",81
226,55140,"Comment 1","Jan Mat","2013-06-25 14:36:32","Because the Salesforce Ant Tasks are not provided by the Apache Ant team, this issue is (here) invalid.

I dont know SF or these tasks, but I find <a href=""https://success.salesforce.com/"">https://success.salesforce.com/</a> - maybe you could post your problem there.

But thanks for posting a bug in general ;)","Because the Salesforce Ant Tasks are not provided by the Apache Ant team, this issue is (here) invalid.

I dont know SF or these tasks, but I find https://success.salesforce.com/ - maybe you could post your problem there.

But thanks for posting a bug in general ;)",81
227,55140,"Comment 2","Pranay Jha","2013-06-25 14:55:52","thanks for replying but I figured out the problem a few minutes ago. It was a problem with SF :)","thanks for replying but I figured out the problem a few minutes ago. It was a problem with SF :)",81
228,50678,Description,ashish.soni@siemens.com,"2011-01-28 03:35:44","Hi,

I have a problem with xercesImpl.jar and xml-apis.jar api jars. 
I have custom ANT Task that is using above mentioned api jars, when i giving it on classpath of task &quot;JDOM&quot; its not picked by the Apache ANT 1.8.2.

&lt;taskdef name=&quot;JDOM&quot; classname=&quot;TestJDOM&quot;&gt;
 &lt;classpath&gt;
  &lt;pathelement location=&quot;${basedir}&quot;/&gt;
  &lt;pathelement location=&quot;D:/apache-ant-1.8.1/sample/lib/jdom/build/jdom.jar&quot;/&gt;
  &lt;pathelement
location=&quot;D:/apache-ant-1.8.1/sample/lib/xerces/xercesImpl.jar&quot;/&gt;
  &lt;pathelement location=&quot;D:/apache-ant-1.8.1/sample/lib/xerces/xml-apis.jar&quot;/&gt;
 &lt;/classpath&gt;
&lt;/taskdef&gt;

Why the above step is not working

but it will work if i will give this lib jars in ant command prompt like:
ant -lib D:/apache-ant-1.8.1/sample/lib/xerces/xercesImpl.jar -lib D:/apache-ant-1.8.1/sample/lib/xerces/xml-apis.jar -f &lt;buildFileName&gt; &lt;targetName&gt;

and remove the jars from classpath of taskdef.

Even i varified that both jars a available in classpath.

Thanks in advance
Ashish Soni","Hi,

I have a problem with xercesImpl.jar and xml-apis.jar api jars. 
I have custom ANT Task that is using above mentioned api jars, when i giving it on classpath of task ""JDOM"" its not picked by the Apache ANT 1.8.2.

<taskdef name=""JDOM"" classname=""TestJDOM"">
 <classpath>
  <pathelement location=""${basedir}""/>
  <pathelement location=""D:/apache-ant-1.8.1/sample/lib/jdom/build/jdom.jar""/>
  <pathelement
location=""D:/apache-ant-1.8.1/sample/lib/xerces/xercesImpl.jar""/>
  <pathelement location=""D:/apache-ant-1.8.1/sample/lib/xerces/xml-apis.jar""/>
 </classpath>
</taskdef>

Why the above step is not working

but it will work if i will give this lib jars in ant command prompt like:
ant -lib D:/apache-ant-1.8.1/sample/lib/xerces/xercesImpl.jar -lib D:/apache-ant-1.8.1/sample/lib/xerces/xml-apis.jar -f <buildFileName> <targetName>

and remove the jars from classpath of taskdef.

Even i varified that both jars a available in classpath.

Thanks in advance
Ashish Soni",82
229,50678,"Comment 1","dev1","2011-01-30 03:07:56","*** <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - Jars information xercesImpl.jar and xml-apis.jar in Apache ANT 1.8.2"" href=""show_bug.cgi?id=50658"">Bug 50658</a> has been marked as a duplicate of this bug. ***","*** Bug 50658 has been marked as a duplicate of this bug. ***",82
230,50678,"Comment 2","dev1","2011-01-30 03:10:12","relevant information from <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - SAX2 driver class org.apache.xerces.parsers.SAXParser not found when using Apache ANT 1.8.2"" href=""show_bug.cgi?id=50652"">bug 50652</a>

[JDOM] START
     [JDOM] Could not load org.apache.xerces.parsers.SAXParser: SAX2 driver
class org.apache.xerces.parsers.SAXParser not foun","relevant information from bug 50652

[JDOM] START
     [JDOM] Could not load org.apache.xerces.parsers.SAXParser: SAX2 driver
class org.apache.xerces.parsers.SAXParser not foun",82
231,50678,"Comment 3","dev1","2011-01-30 03:17:22","The JDOM task is not developed by the Ant developers so we can only guess.

You used to get Xerces as your default SAX parser factory while you now have
the JDK's parser factory as a default.  If your task (I assume you've
written it yourself) really only works when Xerces is used you have to make
sure it either explicitly asks for it or Xerces will be used by the JDK.  The
former can be done by using SAXParserFactory#newInstance with two
argiments and the later by using the endorsed standards override
mechanism of the JDK.

This really is more a user mailing list question rather than a blocking
Ant bug, BTW.","The JDOM task is not developed by the Ant developers so we can only guess.

You used to get Xerces as your default SAX parser factory while you now have
the JDK's parser factory as a default.  If your task (I assume you've
written it yourself) really only works when Xerces is used you have to make
sure it either explicitly asks for it or Xerces will be used by the JDK.  The
former can be done by using SAXParserFactory#newInstance with two
argiments and the later by using the endorsed standards override
mechanism of the JDK.

This really is more a user mailing list question rather than a blocking
Ant bug, BTW.",82
232,50678,"Comment 4","dev10","2011-01-31 17:28:04","Ant's classloaders used by &lt;taskdef/&gt; are not able to add to the startup classpath of Ant or of the JVM, and this limitation is a problem in the case of some JVM factories which do not see children classloaders.

You can use the classloader task documented at <a href=""http://enitsys.sourceforge.net/ant-classloadertask/usage.html"">http://enitsys.sourceforge.net/ant-classloadertask/usage.html</a> to add jars (for instance xercesImpl and xml-apis) to the appropriate classloader.

I am maintaining a build file where we need to put a number of jars on a classloader above the taskdefs classloader. Here is how I do it with the enitsys classloader task :

    &lt;classloadertask classpathRef=&quot;all.https.cp&quot; loader=&quot;thread&quot;/&gt;


I use this task also to put mail.jar/activation.jar on the classpath when I need to send email from a build file using the functionality supplied by these.

I am tempted to close your bug report as WONTFIX but it is one more indication that there are lots of usages in the field for this &lt;classloadertask/&gt; so we should integrate it in Ant if it is technically and procedurally acceptable for the project.","Ant's classloaders used by <taskdef/> are not able to add to the startup classpath of Ant or of the JVM, and this limitation is a problem in the case of some JVM factories which do not see children classloaders.

You can use the classloader task documented at http://enitsys.sourceforge.net/ant-classloadertask/usage.html to add jars (for instance xercesImpl and xml-apis) to the appropriate classloader.

I am maintaining a build file where we need to put a number of jars on a classloader above the taskdefs classloader. Here is how I do it with the enitsys classloader task :

    <classloadertask classpathRef=""all.https.cp"" loader=""thread""/>


I use this task also to put mail.jar/activation.jar on the classpath when I need to send email from a build file using the functionality supplied by these.

I am tempted to close your bug report as WONTFIX but it is one more indication that there are lots of usages in the field for this <classloadertask/> so we should integrate it in Ant if it is technically and procedurally acceptable for the project.",82
233,50678,"Comment 5","dev10","2013-03-18 00:24:46","As you found out yourself, you can put the versions of xercesImpl and xml-apis that you need on the classpath yourself.

There is a need to offer functionality in Ant to add jars to the coreloader at runtime. I am personally using the classloader task from enitsys in some build files at work, for instance I use that to add mail.jar and activation.jar to the classpath of Ant when I want to use the mail task, since I do not want to add mail.jar and activation.jar under $ANT_HOME/lib.

There is an undocumented classloader task inside Ant since 2002, I wonder how easily it can be used in this kind of use case.

I will discuss these issues further on the dev mailing list.","As you found out yourself, you can put the versions of xercesImpl and xml-apis that you need on the classpath yourself.

There is a need to offer functionality in Ant to add jars to the coreloader at runtime. I am personally using the classloader task from enitsys in some build files at work, for instance I use that to add mail.jar and activation.jar to the classpath of Ant when I want to use the mail task, since I do not want to add mail.jar and activation.jar under $ANT_HOME/lib.

There is an undocumented classloader task inside Ant since 2002, I wonder how easily it can be used in this kind of use case.

I will discuss these issues further on the dev mailing list.",82
234,54231,Description,lotusitlab,"2012-12-02 07:08:26",A,A,83
235,53617,Description,"Eric Barboni","2012-07-29 00:25:31","Created <span class=""""><a href=""attachment.cgi?id=29130"" name=""attach_29130"" title=""modified poms"">attachment 29130</a> <a href=""attachment.cgi?id=29130&amp;action=edit"" title=""modified poms"">[details]</a></span>
modified poms

poms located in src\etc\poms subfolders are children of src\etc\poms\pom.xml

As none of the children overide url property their names are aggregated to parent url leading to url like <a href=""http://ant.apache.org/ant"">http://ant.apache.org/ant</a> (non existing link)

Quick fix to make the link for all on <a href=""http://ant.apache.org"">http://ant.apache.org</a>

Regards.

Eric","Created attachment 29130 [details]
modified poms

poms located in src\etc\poms subfolders are children of src\etc\poms\pom.xml

As none of the children overide url property their names are aggregated to parent url leading to url like http://ant.apache.org/ant (non existing link)

Quick fix to make the link for all on http://ant.apache.org

Regards.

Eric",84
236,53617,"Comment 1","dev79","2012-07-30 15:15:57","Committed <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=1367076"">revision 1367076</a>.","Committed revision 1367076.",84
237,1834,Description,liamo,"2001-05-21 05:08:05","I get the folowing error when I compile (with Ant1.3) the Hello World sample 
program from the latest Tomcat download.
    [javac] An exception has occurred in the compiler (1.3.0). Please file a 
bug at the Java Developer Connection (<a href=""http://java.sun.com/cgi"">http://java.sun.com/cgi</a>-
bin/bugreport.cgi).  Include your program and the following diagnostic in your 
report.  Thank you.
    [javac] java.lang.InternalError: jzentry == 0
    [javac] 	at java.util.zip.ZipFile$2.nextElement(Unknown Source)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.openArchive
(ClassReader.java:893)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.list
(ClassReader.java:1095)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.listAll
(ClassReader.java:1180)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.fillIn
(ClassReader.java:1202)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.complete
(ClassReader.java:955)
    [javac] 	at com.sun.tools.javac.v8.code.Symbol.complete(Symbol.java:366)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter._case(Enter.java:424)
    [javac] 	at com.sun.tools.javac.v8.tree.Tree$TopLevel.visit
(Tree.java:349)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:392)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:410)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter.main(Enter.java:540)
    [javac] 	at com.sun.tools.javac.v8.JavaCompiler.compile
(JavaCompiler.java:357)
    [javac] 	at com.sun.tools.javac.v8.Main.compile(Main.java:247)
    [javac] 	at com.sun.tools.javac.Main.compile(Main.java:26)
    [javac] 	at java.lang.reflect.Method.invoke(Native Method)
    [javac] 	at org.apache.tools.ant.taskdefs.Javac.doModernCompile
(Javac.java:514)
    [javac] 	at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:336)
    [javac] 	at org.apache.tools.ant.Target.execute(Target.java:153)
    [javac] 	at org.apache.tools.ant.Project.runTarget(Project.java:819)
    [javac] 	at org.apache.tools.ant.Project.executeTarget(Project.java:533)
    [javac] 	at org.apache.tools.ant.Project.executeTargets(Project.java:507)
    [javac] 	at org.apache.tools.ant.Main.runBuild(Main.java:421)
    [javac] 	at org.apache.tools.ant.Main.main(Main.java:149)

The build file has the following compile instruction:
  &lt;target name=&quot;compile&quot; depends=&quot;prepare&quot;&gt;
    &lt;javac srcdir=&quot;src&quot; destdir=&quot;${deploy.home}/WEB-INF/classes&quot;
 
           debug=&quot;on&quot; optimize=&quot;off&quot; deprecation=&quot;off&quot;/&gt;
    &lt;copy   todir=&quot;${deploy.home}/WEB-INF/classes&quot;&gt;

&lt;fileset dir=&quot;src&quot; includes=&quot;**/*.properties&quot;/&gt;
    &lt;/copy&gt;
  &lt;/target&gt;
I am using the latest JDK and JRE. I have put all the .jar files including the 
servlet and jaxp, ant ones on the classpath.","I get the folowing error when I compile (with Ant1.3) the Hello World sample 
program from the latest Tomcat download.
    [javac] An exception has occurred in the compiler (1.3.0). Please file a 
bug at the Java Developer Connection (http://java.sun.com/cgi-
bin/bugreport.cgi).  Include your program and the following diagnostic in your 
report.  Thank you.
    [javac] java.lang.InternalError: jzentry == 0
    [javac] 	at java.util.zip.ZipFile$2.nextElement(Unknown Source)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.openArchive
(ClassReader.java:893)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.list
(ClassReader.java:1095)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.listAll
(ClassReader.java:1180)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.fillIn
(ClassReader.java:1202)
    [javac] 	at com.sun.tools.javac.v8.code.ClassReader.complete
(ClassReader.java:955)
    [javac] 	at com.sun.tools.javac.v8.code.Symbol.complete(Symbol.java:366)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter._case(Enter.java:424)
    [javac] 	at com.sun.tools.javac.v8.tree.Tree$TopLevel.visit
(Tree.java:349)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:392)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:410)
    [javac] 	at com.sun.tools.javac.v8.comp.Enter.main(Enter.java:540)
    [javac] 	at com.sun.tools.javac.v8.JavaCompiler.compile
(JavaCompiler.java:357)
    [javac] 	at com.sun.tools.javac.v8.Main.compile(Main.java:247)
    [javac] 	at com.sun.tools.javac.Main.compile(Main.java:26)
    [javac] 	at java.lang.reflect.Method.invoke(Native Method)
    [javac] 	at org.apache.tools.ant.taskdefs.Javac.doModernCompile
(Javac.java:514)
    [javac] 	at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:336)
    [javac] 	at org.apache.tools.ant.Target.execute(Target.java:153)
    [javac] 	at org.apache.tools.ant.Project.runTarget(Project.java:819)
    [javac] 	at org.apache.tools.ant.Project.executeTarget(Project.java:533)
    [javac] 	at org.apache.tools.ant.Project.executeTargets(Project.java:507)
    [javac] 	at org.apache.tools.ant.Main.runBuild(Main.java:421)
    [javac] 	at org.apache.tools.ant.Main.main(Main.java:149)

The build file has the following compile instruction:
  <target name=""compile"" depends=""prepare"">
    <javac srcdir=""src"" destdir=""${deploy.home}/WEB-INF/classes""
 
           debug=""on"" optimize=""off"" deprecation=""off""/>
    <copy   todir=""${deploy.home}/WEB-INF/classes"">

<fileset dir=""src"" includes=""**/*.properties""/>
    </copy>
  </target>
I am using the latest JDK and JRE. I have put all the .jar files including the 
servlet and jaxp, ant ones on the classpath.",85
238,1834,"Comment 1","dev1","2001-06-21 09:13:15","This is a bug in the compiler (Java's zip classes), not within Ant.

I've seen such compiler errors if some archives in the CLASSPATH have been
corrupt or contained compressed as well as uncompressed entries.","This is a bug in the compiler (Java's zip classes), not within Ant.

I've seen such compiler errors if some archives in the CLASSPATH have been
corrupt or contained compressed as well as uncompressed entries.",85
239,53213,Description,Niranjan,"2012-05-10 14:48:41","Hi All,

       while iam running the build.xml ,build is executing successfully but the       changes are not reflected on the server , when i check the logs i found the following error...

[antlib:org.apache.tools.ant] Could not load definitions from resource org/apach
e/tools/ant/antlib.xml. It could not be found.

please help...

Thanks &amp; Regards
 Niranjan.K","Hi All,

       while iam running the build.xml ,build is executing successfully but the       changes are not reflected on the server , when i check the logs i found the following error...

[antlib:org.apache.tools.ant] Could not load definitions from resource org/apach
e/tools/ant/antlib.xml. It could not be found.

please help...

Thanks & Regards
 Niranjan.K",86
240,53213,"Comment 1","J.M. (Martijn) Kruithof","2012-05-28 12:55:35","That message is not an error, but an early warning that a XML namespace was encountered but the corresponding resource could not be found. If the build was successful the necessary resource was found.

Regarding the problem that changes are not reflected on the server. Please provide a minimal buildfile that is needed to make the problem surface, and provide the corresponding logs reproducing the problem, then open a new bug report","That message is not an error, but an early warning that a XML namespace was encountered but the corresponding resource could not be found. If the build was successful the necessary resource was found.

Regarding the problem that changes are not reflected on the server. Please provide a minimal buildfile that is needed to make the problem surface, and provide the corresponding logs reproducing the problem, then open a new bug report",86
241,52589,Description,Pooja,"2012-02-02 22:49:45","Issue:-
----------
Using version 1.8.2,when build.xml file is run,compile target gives following warning message:-
 [javac] C:\AntExample\build.xml:20: warning: 'includeantruntime' was not set
defaulting to build.sysclasspath=last; set to false for repeatable builds.

Possible cause:-
Javac expects attribute includeruntime.

Solution:-

This can be solved if we add attribute includeruntime having value false in javac.

 &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${classes.dir}&quot; includeantruntime=&quot;false&quot;/&gt;","Issue:-
----------
Using version 1.8.2,when build.xml file is run,compile target gives following warning message:-
 [javac] C:\AntExample\build.xml:20: warning: 'includeantruntime' was not set
defaulting to build.sysclasspath=last; set to false for repeatable builds.

Possible cause:-
Javac expects attribute includeruntime.

Solution:-

This can be solved if we add attribute includeruntime having value false in javac.

 <javac srcdir=""${src.dir}"" destdir=""${classes.dir}"" includeantruntime=""false""/>",87
242,52589,"Comment 1","dev1","2012-02-03 05:36:15","Your description is correct.

Starting with 1.8.0 Ant warns users about the default settings in javac that cause problems.

What exactly do you want to see changed with this bug report?","Your description is correct.

Starting with 1.8.0 Ant warns users about the default settings in javac that cause problems.

What exactly do you want to see changed with this bug report?",87
243,52589,"Comment 2",Pooja,"2012-02-03 05:43:03","(In reply to <a href=""show_bug.cgi?id=52589#c1"">comment #1</a>)
<span class=""quote"">&gt; Your description is correct.
&gt; 
&gt; Starting with 1.8.0 Ant warns users about the default settings in javac that
&gt; cause problems.
&gt; 
&gt; What exactly do you want to see changed with this bug report?</span>

 Thanks for looking into this.
I was not aware that this setting is done and thought that version 1.8.2 needs parameter declaration in javac.When I declared parameter in javac,this warning message was no more visible.
In that case it is not a issue.You can close this bug.","(In reply to comment #1)
> Your description is correct.
> 
> Starting with 1.8.0 Ant warns users about the default settings in javac that
> cause problems.
> 
> What exactly do you want to see changed with this bug report?

 Thanks for looking into this.
I was not aware that this setting is done and thought that version 1.8.2 needs parameter declaration in javac.When I declared parameter in javac,this warning message was no more visible.
In that case it is not a issue.You can close this bug.",87
244,52456,Description,charley,"2012-01-12 06:04:00","Environment:
Apache Ant version 1.7.1 compiled on June 27 2008
antenna-bin-1.2.1-beta.jar
OS: Ubuntu 1104 amd64
$locale: zh_CN.GBK


Description:
1, There are some GBK constants defined in java source code file.

2, bash shell environment been sets to support GBK encoding:
LANG=zh_CN.GBK

3, Build from shell command line everything is ok. 
for example, if we run command: ant -buildfile buildkjava.xml deploy
the project can be built successful.


4, If we run the same command from a tomcat servlet, it's must be failed.

the source code is:

String cmd = &quot;ant -buildfile buildkjava.xml deploy&quot;
String[] envp = new String[] {&quot;LANG=zh_CN.GBK&quot;};
Process process = Runtime.getRuntime().exec(cmd, envp);


bellowing is the error logs:


[wtkobfuscate]   Copying resources from program jar [/home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar]
[wtkobfuscate] Updating JAD file /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jad
[echo] preverify...
[wtkpreverify] Preverifying /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar
[wtkpreverify] Executable: /home/mic-oem-dev/workspace/sdk/WTK2.5.2/bin/preverify
[wtkpreverify] Arguments : -classpath /home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/cldcapi11.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/mmapi.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/jsr75.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/midpapi20.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/nokia-ui.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/wma.jar -d /home/mic-oem-dev/workspace/code/kjava/mini-baseline/54590625.tmp -target CLDC1.1 /home/mic-oem-dev/workspace/code/oem/bdmobile/kjava/mini-baseline/KJAVA_MINI.jar
[wtkpreverify] JAR file creation failed with error 32512
[wtkpreverify] The preverified classes if any are in tmp884869193. See jar log of errors in /home/mic-oem-dev/workspace/code/kjava/mini-baseline/54590625.tmp/jarlog.txt 
[wtkpreverify] sh: sh: not found","Environment:
Apache Ant version 1.7.1 compiled on June 27 2008
antenna-bin-1.2.1-beta.jar
OS: Ubuntu 1104 amd64
$locale: zh_CN.GBK


Description:
1, There are some GBK constants defined in java source code file.

2, bash shell environment been sets to support GBK encoding:
LANG=zh_CN.GBK

3, Build from shell command line everything is ok. 
for example, if we run command: ant -buildfile buildkjava.xml deploy
the project can be built successful.


4, If we run the same command from a tomcat servlet, it's must be failed.

the source code is:

String cmd = ""ant -buildfile buildkjava.xml deploy""
String[] envp = new String[] {""LANG=zh_CN.GBK""};
Process process = Runtime.getRuntime().exec(cmd, envp);


bellowing is the error logs:


[wtkobfuscate]   Copying resources from program jar [/home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar]
[wtkobfuscate] Updating JAD file /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jad
[echo] preverify...
[wtkpreverify] Preverifying /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar
[wtkpreverify] Executable: /home/mic-oem-dev/workspace/sdk/WTK2.5.2/bin/preverify
[wtkpreverify] Arguments : -classpath /home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/cldcapi11.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/mmapi.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/jsr75.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/midpapi20.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/nokia-ui.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/wma.jar -d /home/mic-oem-dev/workspace/code/kjava/mini-baseline/54590625.tmp -target CLDC1.1 /home/mic-oem-dev/workspace/code/oem/bdmobile/kjava/mini-baseline/KJAVA_MINI.jar
[wtkpreverify] JAR file creation failed with error 32512
[wtkpreverify] The preverified classes if any are in tmp884869193. See jar log of errors in /home/mic-oem-dev/workspace/code/kjava/mini-baseline/54590625.tmp/jarlog.txt 
[wtkpreverify] sh: sh: not found",88
245,52456,"Comment 1","dev1","2012-01-12 16:28:33","I'm pretty sure this issue is not related to Ant at all (you already said it worked from the command line).

I don't have any idea what error 32512 may be, the error message stems from a task wtkpreverify that is not developed by the Ant team.

The very last line

<span class=""quote"">&gt; [wtkpreverify] sh: sh: not found</span>

makes me suspect you may need to put a few more variables (like PATH) into your environment.","I'm pretty sure this issue is not related to Ant at all (you already said it worked from the command line).

I don't have any idea what error 32512 may be, the error message stems from a task wtkpreverify that is not developed by the Ant team.

The very last line

> [wtkpreverify] sh: sh: not found

makes me suspect you may need to put a few more variables (like PATH) into your environment.",88
246,52456,"Comment 2",charley,"2012-01-13 10:59:10","Thanks Stefan, I think you have found a key point to avoid the error 32512. 
I just followed your suggestion to add a 'PATH' to the run-time environment, when I ran the build command, and the error messages has changed. you can see the error from below. I'm very appreciates if you have any idea about how to solve the new error, thanks. 


my new code is:

String cmd = &quot;/home/mic-oem-dev/workspace/tools/apache-ant-1.8.2/bin/ant -buildfile buildkjava.xml deploy&quot;

String[] envp = new String[] {&quot;PATH=&quot; + System.getenv(&quot;PATH&quot;), &quot;LANG=zh_CN.GB2312&quot;};
String[] cmds = {&quot;/bin/sh&quot;, &quot;-c&quot;, cmd};			
Runtime.getRuntime().exec(cmds, envp);


the log info is.
[102]-&gt;[wtkobfuscate]   Number of vertically merged classes:         0
[103]-&gt;[wtkobfuscate]   Number of horizontally merged classes:       3
[104]-&gt;[wtkobfuscate]   Number of removed write-only fields:         170
[105]-&gt;[wtkobfuscate]   Number of privatized fields:                 347
[106]-&gt;[wtkobfuscate]   Number of inlined constant fields:           83
[107]-&gt;[wtkobfuscate]   Number of privatized methods:                159
[108]-&gt;[wtkobfuscate]   Number of staticized methods:                73
[109]-&gt;[wtkobfuscate]   Number of finalized methods:                 1023
[110]-&gt;[wtkobfuscate]   Number of removed method parameters:         25
[111]-&gt;[wtkobfuscate]   Number of inlined constant parameters:       63
[112]-&gt;[wtkobfuscate]   Number of inlined constant return values:    9
[113]-&gt;[wtkobfuscate]   Number of inlined short method calls:        125
[114]-&gt;[wtkobfuscate]   Number of inlined unique method calls:       206
[115]-&gt;[wtkobfuscate]   Number of inlined tail recursion calls:      3
[116]-&gt;[wtkobfuscate]   Number of merged code blocks:                25
[117]-&gt;[wtkobfuscate]   Number of variable peephole optimizations:   1386
[118]-&gt;[wtkobfuscate]   Number of arithmetic peephole optimizations: 211
[119]-&gt;[wtkobfuscate]   Number of cast peephole optimizations:       35
[120]-&gt;[wtkobfuscate]   Number of field peephole optimizations:      16
[121]-&gt;[wtkobfuscate]   Number of branch peephole optimizations:     868
[122]-&gt;[wtkobfuscate]   Number of simplified instructions:           1104
[123]-&gt;[wtkobfuscate]   Number of removed instructions:              6902
[124]-&gt;[wtkobfuscate]   Number of removed local variables:           233
[125]-&gt;[wtkobfuscate]   Number of removed exception blocks:          57
[126]-&gt;[wtkobfuscate]   Number of optimized local variable frames:   504
[127]-&gt;[wtkobfuscate] Shrinking...
[128]-&gt;[wtkobfuscate] Removing unused program classes and class elements...
[129]-&gt;[wtkobfuscate]   Original number of program classes: 155
[130]-&gt;[wtkobfuscate]   Final number of program classes:    150
[131]-&gt;[wtkobfuscate] Obfuscating...
[132]-&gt;[wtkobfuscate] Preverifying...
[133]-&gt;[wtkobfuscate] Writing output...
[134]-&gt;[wtkobfuscate] Preparing output jar [/home/mic-oem-dev/workspace/code/kjava/mini-baseline/19490792.tmp/output.jar]
[135]-&gt;[wtkobfuscate]   Copying resources from program jar [/home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar]
[136]-&gt;[wtkobfuscate] Updating JAD file /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jad
[137]-&gt;     [echo] preverify...
[138]-&gt;[wtkpreverify] Preverifying /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar
[139]-&gt;[wtkpreverify] Executable: /home/mic-oem-dev/workspace/sdk/WTK2.5.2/bin/preverify
[140]-&gt;[wtkpreverify] Arguments : -classpath /home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/cldcapi11.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/mmapi.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/jsr75.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/midpapi20.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/nokia-ui.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/wma.jar -d /home/mic-oem-dev/workspace/code/kjava/mini-baseline/c59edc2a.tmp -target CLDC1.1 /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar
[141]-&gt;[wtkpreverify] 
[142]-&gt;[wtkpreverify] ERROR: failed to open tmp1945431482/META-INF/MANIFEST.MF
[143]-&gt;[wtkpreverify] Error preferifying, log file not found:  /home/mic-oem-dev/workspace/code/kjava/mini-baseline/c59edc2a.tmp/jarlog.txt
[144]-&gt;
[145]-&gt;BUILD FAILED
[146]-&gt;Preverification failed (result=1)
[147]-&gt;
[148]-&gt;Total time: 22 seconds","Thanks Stefan, I think you have found a key point to avoid the error 32512. 
I just followed your suggestion to add a 'PATH' to the run-time environment, when I ran the build command, and the error messages has changed. you can see the error from below. I'm very appreciates if you have any idea about how to solve the new error, thanks. 


my new code is:

String cmd = ""/home/mic-oem-dev/workspace/tools/apache-ant-1.8.2/bin/ant -buildfile buildkjava.xml deploy""

String[] envp = new String[] {""PATH="" + System.getenv(""PATH""), ""LANG=zh_CN.GB2312""};
String[] cmds = {""/bin/sh"", ""-c"", cmd};			
Runtime.getRuntime().exec(cmds, envp);


the log info is.
[102]->[wtkobfuscate]   Number of vertically merged classes:         0
[103]->[wtkobfuscate]   Number of horizontally merged classes:       3
[104]->[wtkobfuscate]   Number of removed write-only fields:         170
[105]->[wtkobfuscate]   Number of privatized fields:                 347
[106]->[wtkobfuscate]   Number of inlined constant fields:           83
[107]->[wtkobfuscate]   Number of privatized methods:                159
[108]->[wtkobfuscate]   Number of staticized methods:                73
[109]->[wtkobfuscate]   Number of finalized methods:                 1023
[110]->[wtkobfuscate]   Number of removed method parameters:         25
[111]->[wtkobfuscate]   Number of inlined constant parameters:       63
[112]->[wtkobfuscate]   Number of inlined constant return values:    9
[113]->[wtkobfuscate]   Number of inlined short method calls:        125
[114]->[wtkobfuscate]   Number of inlined unique method calls:       206
[115]->[wtkobfuscate]   Number of inlined tail recursion calls:      3
[116]->[wtkobfuscate]   Number of merged code blocks:                25
[117]->[wtkobfuscate]   Number of variable peephole optimizations:   1386
[118]->[wtkobfuscate]   Number of arithmetic peephole optimizations: 211
[119]->[wtkobfuscate]   Number of cast peephole optimizations:       35
[120]->[wtkobfuscate]   Number of field peephole optimizations:      16
[121]->[wtkobfuscate]   Number of branch peephole optimizations:     868
[122]->[wtkobfuscate]   Number of simplified instructions:           1104
[123]->[wtkobfuscate]   Number of removed instructions:              6902
[124]->[wtkobfuscate]   Number of removed local variables:           233
[125]->[wtkobfuscate]   Number of removed exception blocks:          57
[126]->[wtkobfuscate]   Number of optimized local variable frames:   504
[127]->[wtkobfuscate] Shrinking...
[128]->[wtkobfuscate] Removing unused program classes and class elements...
[129]->[wtkobfuscate]   Original number of program classes: 155
[130]->[wtkobfuscate]   Final number of program classes:    150
[131]->[wtkobfuscate] Obfuscating...
[132]->[wtkobfuscate] Preverifying...
[133]->[wtkobfuscate] Writing output...
[134]->[wtkobfuscate] Preparing output jar [/home/mic-oem-dev/workspace/code/kjava/mini-baseline/19490792.tmp/output.jar]
[135]->[wtkobfuscate]   Copying resources from program jar [/home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar]
[136]->[wtkobfuscate] Updating JAD file /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jad
[137]->     [echo] preverify...
[138]->[wtkpreverify] Preverifying /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar
[139]->[wtkpreverify] Executable: /home/mic-oem-dev/workspace/sdk/WTK2.5.2/bin/preverify
[140]->[wtkpreverify] Arguments : -classpath /home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/cldcapi11.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/mmapi.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/jsr75.jar:/home/mic-oem-dev/workspace/sdk/WTK2.5.2/lib/midpapi20.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/nokia-ui.jar:/home/mic-oem-dev/workspace/code/kjava/mini-baseline/lib/wma.jar -d /home/mic-oem-dev/workspace/code/kjava/mini-baseline/c59edc2a.tmp -target CLDC1.1 /home/mic-oem-dev/workspace/code/kjava/mini-baseline/KJAVA_MINI.jar
[141]->[wtkpreverify] 
[142]->[wtkpreverify] ERROR: failed to open tmp1945431482/META-INF/MANIFEST.MF
[143]->[wtkpreverify] Error preferifying, log file not found:  /home/mic-oem-dev/workspace/code/kjava/mini-baseline/c59edc2a.tmp/jarlog.txt
[144]->
[145]->BUILD FAILED
[146]->Preverification failed (result=1)
[147]->
[148]->Total time: 22 seconds",88
247,52456,"Comment 3",charley,"2012-01-16 09:54:23","Hi Stefan, 
I just try to build it again in the morning, it's somehow works ! I can't understand &amp; I can't explain why. the code is completely the same as last week, I have do nothing in the weekend, I just leave it on there and spend my weekend as usual. it's so weird :(

I also removed &quot;/bin/sh -c&quot; prefix from the command string, it's works as well. 

anyway, let's just simplify to close this bug, and thanks for you support &amp; fix method, it's really a good experience for me. 


my conclusion is:
if we can run ant build from command line, it's should work from another command shell. the most important part is that we should provide a proper environment like add &quot;PATH&quot; to the command environment.


Thanks Sincerely.

Bin","Hi Stefan, 
I just try to build it again in the morning, it's somehow works ! I can't understand & I can't explain why. the code is completely the same as last week, I have do nothing in the weekend, I just leave it on there and spend my weekend as usual. it's so weird :(

I also removed ""/bin/sh -c"" prefix from the command string, it's works as well. 

anyway, let's just simplify to close this bug, and thanks for you support & fix method, it's really a good experience for me. 


my conclusion is:
if we can run ant build from command line, it's should work from another command shell. the most important part is that we should provide a proper environment like add ""PATH"" to the command environment.


Thanks Sincerely.

Bin",88
248,50468,Description,ashish.soni@siemens.com,"2010-12-14 02:20:21","Hello All,

I am trying to run a sql script from ant and sql script contains $$ with identifier name like SNAPTIME$$. 

When I am running it manually its working fine but when I am using ANT its reading $$ as a single $ i.e. SNAPTIME$ and script is failing.

Regards
Ashish Soni","Hello All,

I am trying to run a sql script from ant and sql script contains $$ with identifier name like SNAPTIME$$. 

When I am running it manually its working fine but when I am using ANT its reading $$ as a single $ i.e. SNAPTIME$ and script is failing.

Regards
Ashish Soni",89
249,50468,"Comment 1",ashish.soni@siemens.com,"2010-12-14 04:09:56","Hello All,

I have created a script if i will use $$$ then it will take it as a $$ but my problem is that i am calling sql script that has identifier with name SNAPTIME$$
and i tried with n number of $ it will take it as a $. 

How ant is treating any SQL script?

&lt;project name=&quot;test&quot; basedir=&quot;.&quot;&gt;
	&lt;property name=&quot;value&quot; value=&quot;SNAPTIME$$$&quot;/&gt;
	
	&lt;target name=&quot;print&quot;&gt;
		&lt;echo message=&quot;${value}&quot;/&gt;
	&lt;/target&gt;
&lt;/project&gt;

Regards
Ashish Soni","Hello All,

I have created a script if i will use $$$ then it will take it as a $$ but my problem is that i am calling sql script that has identifier with name SNAPTIME$$
and i tried with n number of $ it will take it as a $. 

How ant is treating any SQL script?

<project name=""test"" basedir=""."">
	<property name=""value"" value=""SNAPTIME$$$""/>
	
	<target name=""print"">
		<echo message=""${value}""/>
	</target>
</project>

Regards
Ashish Soni",89
250,50468,"Comment 2","dev1","2011-07-27 15:01:10","This really is a user question and not a blocker bug.  I don't know why I never saw this issue, something must have been wrong with my mail system, so sorry you had to wait that long for an answer.

For historical reasons Ant translates $$ to $ as a way to escape property references.

stefan@birdy:/tmp$ cat dollar.xml 
&lt;project name=&quot;test&quot; basedir=&quot;.&quot;&gt;
    &lt;property name=&quot;value1&quot; value=&quot;SNAPTIME$&quot;/&gt;
    &lt;property name=&quot;value2&quot; value=&quot;SNAPTIME$$&quot;/&gt;
    &lt;property name=&quot;value3&quot; value=&quot;SNAPTIME$$$&quot;/&gt;
    &lt;property name=&quot;value4&quot; value=&quot;SNAPTIME$$$$&quot;/&gt;

    &lt;target name=&quot;print&quot;&gt;
        &lt;echo message=&quot;$${value1}: ${value1}&quot;/&gt;
        &lt;echo message=&quot;$${value2}: ${value2}&quot;/&gt;
        &lt;echo message=&quot;$${value3}: ${value3}&quot;/&gt;
        &lt;echo message=&quot;$${value4}: ${value4}&quot;/&gt;
    &lt;/target&gt;
&lt;/project&gt;
stefan@birdy:/tmp$ ant -f dollar.xml print
Buildfile: /tmp/dollar.xml

print:
     [echo] ${value1}: SNAPTIME$
     [echo] ${value2}: SNAPTIME$
     [echo] ${value3}: SNAPTIME$$
     [echo] ${value4}: SNAPTIME$$

BUILD SUCCESSFUL
Total time: 0 seconds

This is Ant 1.8.2.

Three or four $s should do.","This really is a user question and not a blocker bug.  I don't know why I never saw this issue, something must have been wrong with my mail system, so sorry you had to wait that long for an answer.

For historical reasons Ant translates $$ to $ as a way to escape property references.

stefan@birdy:/tmp$ cat dollar.xml 
<project name=""test"" basedir=""."">
    <property name=""value1"" value=""SNAPTIME$""/>
    <property name=""value2"" value=""SNAPTIME$$""/>
    <property name=""value3"" value=""SNAPTIME$$$""/>
    <property name=""value4"" value=""SNAPTIME$$$$""/>

    <target name=""print"">
        <echo message=""$${value1}: ${value1}""/>
        <echo message=""$${value2}: ${value2}""/>
        <echo message=""$${value3}: ${value3}""/>
        <echo message=""$${value4}: ${value4}""/>
    </target>
</project>
stefan@birdy:/tmp$ ant -f dollar.xml print
Buildfile: /tmp/dollar.xml

print:
     [echo] ${value1}: SNAPTIME$
     [echo] ${value2}: SNAPTIME$
     [echo] ${value3}: SNAPTIME$$
     [echo] ${value4}: SNAPTIME$$

BUILD SUCCESSFUL
Total time: 0 seconds

This is Ant 1.8.2.

Three or four $s should do.",89
251,50970,Description,prajwala,"2011-03-25 03:55:02","steps to reproduce

1. Go to home page
2. in username field giving the blank spaces as input

    expected reslt:
     it should not accept the black spaces as input

    Actul reslt:
     it accepting the blank spaces","steps to reproduce

1. Go to home page
2. in username field giving the blank spaces as input

    expected reslt:
     it should not accept the black spaces as input

    Actul reslt:
     it accepting the blank spaces",90
252,50874,Description,waseam,"2011-03-04 20:53:26",,,91
253,50658,Description,ashish.soni@siemens.com,"2011-01-26 02:34:35","Hello,

I need a imformation of xercesImpl.jar and xml-apis.jar. Why this api jars is not a part of Apache ANT 1.8.2 binary package. Because of that i am getting the &quot;Could not load org.apache.xerces.parsers.SAXParser: SAX2 driver class org.apache.xerces.parsers.SAXParser not found: org.apache.xerces.parsers.SAXParser&quot; error when custom ant task is trying to load a org.apache.xerces.parsers.SAXParser using SAXBuilder of JDOM1.1.1. I had raised a bug with all detail in bugzilla with id: 50652. 
After placing the jars (xercesImpl.jar and xml-apis.jar) of Apache ANT 1.7.1 on Apache ANT 1.8.2 lib this error is resolve. Even I have given the location of xercesImpl.jar and xml-apis.jar in classpath when defining the taskdef for custom ant task its not working. 

Thanks
Ashish Soni","Hello,

I need a imformation of xercesImpl.jar and xml-apis.jar. Why this api jars is not a part of Apache ANT 1.8.2 binary package. Because of that i am getting the ""Could not load org.apache.xerces.parsers.SAXParser: SAX2 driver class org.apache.xerces.parsers.SAXParser not found: org.apache.xerces.parsers.SAXParser"" error when custom ant task is trying to load a org.apache.xerces.parsers.SAXParser using SAXBuilder of JDOM1.1.1. I had raised a bug with all detail in bugzilla with id: 50652. 
After placing the jars (xercesImpl.jar and xml-apis.jar) of Apache ANT 1.7.1 on Apache ANT 1.8.2 lib this error is resolve. Even I have given the location of xercesImpl.jar and xml-apis.jar in classpath when defining the taskdef for custom ant task its not working. 

Thanks
Ashish Soni",92
254,50658,"Comment 1",ashish.soni@siemens.com,"2011-01-26 10:46:49","Hi, 

It's clear from LICENSE file that SAX 2.0 lib no more the part of Apache ANT 1.8.1 and afterward version.

&quot;I hereby abandon any property rights to SAX 2.0 (the Simple API for
XML), and release all of the SAX 2.0 source code, compiled code, and
documentation contained in this distribution into the Public Domain.
SAX comes with NO WARRANTY or guarantee of fitness for any
purpose.&quot;

Now question is that &quot;why ANT is not picking the SAX 2.0 from taskdef classpath&quot;.

Thanks
Ashish Soni","Hi, 

It's clear from LICENSE file that SAX 2.0 lib no more the part of Apache ANT 1.8.1 and afterward version.

""I hereby abandon any property rights to SAX 2.0 (the Simple API for
XML), and release all of the SAX 2.0 source code, compiled code, and
documentation contained in this distribution into the Public Domain.
SAX comes with NO WARRANTY or guarantee of fitness for any
purpose.""

Now question is that ""why ANT is not picking the SAX 2.0 from taskdef classpath"".

Thanks
Ashish Soni",92
255,50658,"Comment 2","dev1","2011-01-26 11:38:24","*** <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - SAX2 driver class org.apache.xerces.parsers.SAXParser not found when using Apache ANT 1.8.2"" href=""show_bug.cgi?id=50652"">Bug 50652</a> has been marked as a duplicate of this bug. ***","*** Bug 50652 has been marked as a duplicate of this bug. ***",92
256,50658,"Comment 3","dev1","2011-01-26 11:43:15","You are reading way too much into the SAX2 license.

Ant's binary distributions used to ship xml-apis and Xerces as a convenience
to make sure there was a namespace aware XML parser around.  Since Ant 1.8.0
Ant requires JDK 1.4 or better so a parser that matches Ant's needs is there.

Starting with Ant 1.8.1 we've removed Xerces and xml-apis jar to reduce the
download size for most users - this is documented in the release notes
of Ant 1.8.1.

If you are using a task that requires Xerces (and can't live with a different
XML parser) than you used to get that for free but will now have to add
Xerces &lt;<a href=""http://xerces.apache.org/"">http://xerces.apache.org/</a>&gt; manually.","You are reading way too much into the SAX2 license.

Ant's binary distributions used to ship xml-apis and Xerces as a convenience
to make sure there was a namespace aware XML parser around.  Since Ant 1.8.0
Ant requires JDK 1.4 or better so a parser that matches Ant's needs is there.

Starting with Ant 1.8.1 we've removed Xerces and xml-apis jar to reduce the
download size for most users - this is documented in the release notes
of Ant 1.8.1.

If you are using a task that requires Xerces (and can't live with a different
XML parser) than you used to get that for free but will now have to add
Xerces <http://xerces.apache.org/> manually.",92
257,50658,"Comment 4",ashish.soni@siemens.com,"2011-01-26 12:40:57","Hello Stefan,

&quot;If you are using a task that requires Xerces (and can't live with a different
XML parser) than you used to get that for free but will now have to add
Xerces &lt;<a href=""http://xerces.apache.org/"">http://xerces.apache.org/</a>&gt; manually.&quot;

If i understood properly, then i have to download &quot;xercesImpl.jar and xml-apis.jar&quot; and put them into the \apache-ant-1.8.1\lib. 

But my question is that if i will use 
&lt;taskdef name=&quot;JDOM&quot; classname=&quot;TestJDOM&quot;&gt;
 &lt;classpath&gt;
  &lt;pathelement location=&quot;${basedir}&quot;/&gt;
  &lt;pathelement location=&quot;D:/apache-ant-1.8.1/sample/lib/jdom/build/jdom.jar&quot;/&gt;
  &lt;pathelement location=&quot;D:/apache-ant-1.8.1/sample/lib/xerces/xercesImpl.jar&quot;/&gt;
  &lt;pathelement location=&quot;D:/apache-ant-1.8.1/sample/lib/xerces/xml-apis.jar&quot;/&gt;
 &lt;/classpath&gt;
&lt;/taskdef&gt;

Why the above step is not working

Thanks in advance

Ashish Soni","Hello Stefan,

""If you are using a task that requires Xerces (and can't live with a different
XML parser) than you used to get that for free but will now have to add
Xerces <http://xerces.apache.org/> manually.""

If i understood properly, then i have to download ""xercesImpl.jar and xml-apis.jar"" and put them into the \apache-ant-1.8.1\lib. 

But my question is that if i will use 
<taskdef name=""JDOM"" classname=""TestJDOM"">
 <classpath>
  <pathelement location=""${basedir}""/>
  <pathelement location=""D:/apache-ant-1.8.1/sample/lib/jdom/build/jdom.jar""/>
  <pathelement location=""D:/apache-ant-1.8.1/sample/lib/xerces/xercesImpl.jar""/>
  <pathelement location=""D:/apache-ant-1.8.1/sample/lib/xerces/xml-apis.jar""/>
 </classpath>
</taskdef>

Why the above step is not working

Thanks in advance

Ashish Soni",92
258,50658,"Comment 5","dev1","2011-01-30 03:07:56","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED WONTFIX - Not reading xercesImpl.jar and xml-apis.jar in Apache ANT 1.8.2"" href=""show_bug.cgi?id=50678"">bug 50678</a> ***","*** This bug has been marked as a duplicate of bug 50678 ***",92
259,50652,Description,ashish.soni@siemens.com,"2011-01-25 14:59:41","Created <span class=""""><a href=""attachment.cgi?id=26548"" name=""attach_26548"" title=""Sample build file and Custom ANT task &quot;TestJDOM&quot;, Build file TestJDOM will run the custom ANT Task."">attachment 26548</a> <a href=""attachment.cgi?id=26548&amp;action=edit"" title=""Sample build file and Custom ANT task &quot;TestJDOM&quot;, Build file TestJDOM will run the custom ANT Task."">[details]</a></span>
Sample build file and Custom ANT task &quot;TestJDOM&quot;, Build file TestJDOM will run the custom ANT Task.

Hi,

After switching from Apache ANT 1.7.1 to Apache ANT 1.8.2, my custom ant task is failing any help is appriciated.

D:\testView\myvob\build2\bin&gt;D:\testView\myvob\mix\java\ant\apache-ant-1.8.2\bin\ant -f TestJDOM.xml
Buildfile: D:\testView\myvob\build2\bin\TestJDOM.xml

clean:
   [delete] Deleting: D:\testView\myvob\build2\bin\TestJDOM.class

compileAndRun:
    [javac] D:\testView\myvob\build2\bin\TestJDOM.xml:6: warning: 'includeantruntime' was not set, defaulting to build.
    [javac] Compiling 1 source file to D:\testView\myvob\build2\bin
    [javac] Note: D:\testView\myvob\build2\bin\TestJDOM.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.

exec:
     [JDOM] START
     [JDOM] Could not load org.apache.xerces.parsers.SAXParser: SAX2 driver class org.apache.xerces.parsers.SAXParser not foun

BUILD SUCCESSFUL
Total time: 6 seconds

D:\testView\myvob\build2\bin&gt;D:\testView\myvob\mix\java\ant\apache-ant-1.7.1\bin\ant -f TestJDOM.xml
Buildfile: TestJDOM.xml

clean:
   [delete] Deleting: D:\testView\myvob\build2\bin\TestJDOM.class

compileAndRun:
    [javac] Compiling 1 source file to D:\testView\myvob\build2\bin
    [javac] Note: D:\testView\myvob\build2\bin\TestJDOM.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.

exec:
     [JDOM] START
     [JDOM] D:\testView\myvob\build2\etc\packageIDMapping\PackageIDMapping.xml (The system cannot find the file specified)

BUILD SUCCESSFUL
Total time: 2 seconds
D:\testView\myvob\build2\bin&gt;

Thanks
Ashish Soni","Created attachment 26548 [details]
Sample build file and Custom ANT task ""TestJDOM"", Build file TestJDOM will run the custom ANT Task.

Hi,

After switching from Apache ANT 1.7.1 to Apache ANT 1.8.2, my custom ant task is failing any help is appriciated.

D:\testView\myvob\build2\bin>D:\testView\myvob\mix\java\ant\apache-ant-1.8.2\bin\ant -f TestJDOM.xml
Buildfile: D:\testView\myvob\build2\bin\TestJDOM.xml

clean:
   [delete] Deleting: D:\testView\myvob\build2\bin\TestJDOM.class

compileAndRun:
    [javac] D:\testView\myvob\build2\bin\TestJDOM.xml:6: warning: 'includeantruntime' was not set, defaulting to build.
    [javac] Compiling 1 source file to D:\testView\myvob\build2\bin
    [javac] Note: D:\testView\myvob\build2\bin\TestJDOM.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.

exec:
     [JDOM] START
     [JDOM] Could not load org.apache.xerces.parsers.SAXParser: SAX2 driver class org.apache.xerces.parsers.SAXParser not foun

BUILD SUCCESSFUL
Total time: 6 seconds

D:\testView\myvob\build2\bin>D:\testView\myvob\mix\java\ant\apache-ant-1.7.1\bin\ant -f TestJDOM.xml
Buildfile: TestJDOM.xml

clean:
   [delete] Deleting: D:\testView\myvob\build2\bin\TestJDOM.class

compileAndRun:
    [javac] Compiling 1 source file to D:\testView\myvob\build2\bin
    [javac] Note: D:\testView\myvob\build2\bin\TestJDOM.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.

exec:
     [JDOM] START
     [JDOM] D:\testView\myvob\build2\etc\packageIDMapping\PackageIDMapping.xml (The system cannot find the file specified)

BUILD SUCCESSFUL
Total time: 2 seconds
D:\testView\myvob\build2\bin>

Thanks
Ashish Soni",93
260,50652,"Comment 1",ashish.soni@siemens.com,"2011-01-26 02:35:50","Hi,

Please refer to <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - Jars information xercesImpl.jar and xml-apis.jar in Apache ANT 1.8.2"" href=""show_bug.cgi?id=50658"">Bug 50658</a> for more details

Thanks
Ashish Soni","Hi,

Please refer to Bug 50658 for more details

Thanks
Ashish Soni",93
261,50652,"Comment 2","dev1","2011-01-26 11:38:24","no reason to have to reports for the same thing - I'll close the other one in a few minutes anyway ;-)

*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - Jars information xercesImpl.jar and xml-apis.jar in Apache ANT 1.8.2"" href=""show_bug.cgi?id=50658"">bug 50658</a> ***","no reason to have to reports for the same thing - I'll close the other one in a few minutes anyway ;-)

*** This bug has been marked as a duplicate of bug 50658 ***",93
262,50645,Description,ashish.soni@siemens.com,"2011-01-25 02:33:34","Below Sample BUILD FILE is working fine with Apche ANT 1.7.1 but not Apache ANT 1.8.2.

Sample BUILD FILE:
&lt;project name=&quot;ReferenceCheck&quot; default=&quot;TestRef&quot; basedir=&quot;D:\testView\myvob&quot;&gt;	
	&lt;property file=&quot;${basedir}/build/build-common.properties&quot; /&gt;
	&lt;property file=&quot;${basedir}/build/versions.properties&quot; /&gt;
	
&lt;!
Here taskdef is defined before path id that currently we have in build. 
This is working fine with Apache ANT 1.7.1 but if we switch to Apache ANT 1.8.2 this will create a problem
and we are getting the error for classpathref is not found i.e. catalina-ant.path.
 --&gt;
	&lt;taskdef name=&quot;install&quot; classname=&quot;org.apache.catalina.ant.InstallTask&quot; classpathref=&quot;catalina-ant.path&quot; /&gt;

	&lt;path id=&quot;catalina-ant.path&quot;&gt;
		&lt;pathelement path=&quot;${catalina-ant.path}&quot; /&gt;
	&lt;/path&gt;	
	&lt;target name=&quot;TestRef&quot;&gt;
		&lt;echo message=&quot;Hello!!&quot;/&gt;
		&lt;echo message=&quot;${catalina-ant.path}&quot;/&gt;
	&lt;/target&gt;
&lt;/project&gt;

RESULT USING Apache ANT 1.8.2
D:\testView\myvob\build&gt;D:\testView\myvob\extern\mix\java\ant\apache-ant-1.8.2\bin\ant -f checkReference.xml
Buildfile: D:\testView\myvob\build\checkReference.xml

BUILD FAILED
D:\testView\myvob\build\checkReference.xml:5: Reference catalina-ant.path not found.

Total time: 0 seconds

D:\testView\myvob\build&gt;

RESULT USING Apache ANT 1.7.1

D:\testView\myvob\build&gt;D:\testView\extern\mix\java\ant\apache-ant-1.7.1\bin\ant -f checkReference.xml
Buildfile: checkReference.xml
Warning: Reference catalina-ant.path has not been set at runtime, but was found during
build file parsing, attempting to resolve. Future versions of Ant may support
 referencing ids defined in non-executed targets.

TestRef:
     [echo] Hello!!
     [echo] D:\testView\myvob/../extern/mix/java/tomcat/tomcat-6.0.20/lib/catalina-ant.jar

BUILD SUCCESSFUL
Total time: 0 seconds
D:\testView\myvob\build&gt;","Below Sample BUILD FILE is working fine with Apche ANT 1.7.1 but not Apache ANT 1.8.2.

Sample BUILD FILE:
<project name=""ReferenceCheck"" default=""TestRef"" basedir=""D:\testView\myvob"">	
	<property file=""${basedir}/build/build-common.properties"" />
	<property file=""${basedir}/build/versions.properties"" />
	
<!
Here taskdef is defined before path id that currently we have in build. 
This is working fine with Apache ANT 1.7.1 but if we switch to Apache ANT 1.8.2 this will create a problem
and we are getting the error for classpathref is not found i.e. catalina-ant.path.
 -->
	<taskdef name=""install"" classname=""org.apache.catalina.ant.InstallTask"" classpathref=""catalina-ant.path"" />

	<path id=""catalina-ant.path"">
		<pathelement path=""${catalina-ant.path}"" />
	</path>	
	<target name=""TestRef"">
		<echo message=""Hello!!""/>
		<echo message=""${catalina-ant.path}""/>
	</target>
</project>

RESULT USING Apache ANT 1.8.2
D:\testView\myvob\build>D:\testView\myvob\extern\mix\java\ant\apache-ant-1.8.2\bin\ant -f checkReference.xml
Buildfile: D:\testView\myvob\build\checkReference.xml

BUILD FAILED
D:\testView\myvob\build\checkReference.xml:5: Reference catalina-ant.path not found.

Total time: 0 seconds

D:\testView\myvob\build>

RESULT USING Apache ANT 1.7.1

D:\testView\myvob\build>D:\testView\extern\mix\java\ant\apache-ant-1.7.1\bin\ant -f checkReference.xml
Buildfile: checkReference.xml
Warning: Reference catalina-ant.path has not been set at runtime, but was found during
build file parsing, attempting to resolve. Future versions of Ant may support
 referencing ids defined in non-executed targets.

TestRef:
     [echo] Hello!!
     [echo] D:\testView\myvob/../extern/mix/java/tomcat/tomcat-6.0.20/lib/catalina-ant.jar

BUILD SUCCESSFUL
Total time: 0 seconds
D:\testView\myvob\build>",94
263,50645,"Comment 1","dev1","2011-01-25 06:37:51","Your old build file relied on behavior that was plain wrong and already
creates warning messages in 1.7.1 (you can see it in your example).

From Ant 1.8.0's release notes[1] under &quot;Changes that could break older
environments&quot;:

 * Remove fall-back mechanism for references that are not resolved
   during normal runtime execution.

Starting with Ant 1.8.0 you cannot use any reference to anything that has
not been defined at the time Ant reaches the place where you want to
use it.  This is a breaking change and an intentional one.

[1] <a href=""http://archive.apache.org/dist/ant/RELEASE-NOTES-1.8.0.html"">http://archive.apache.org/dist/ant/RELEASE-NOTES-1.8.0.html</a>","Your old build file relied on behavior that was plain wrong and already
creates warning messages in 1.7.1 (you can see it in your example).

From Ant 1.8.0's release notes[1] under ""Changes that could break older
environments"":

 * Remove fall-back mechanism for references that are not resolved
   during normal runtime execution.

Starting with Ant 1.8.0 you cannot use any reference to anything that has
not been defined at the time Ant reaches the place where you want to
use it.  This is a breaking change and an intentional one.

[1] http://archive.apache.org/dist/ant/RELEASE-NOTES-1.8.0.html",94
264,49836,Description,Kumar,"2010-08-28 06:22:20","org.apache.jasper.JasperException: jsp:getProperty for bean with name '_patient'. Name was not previously introduced as per JSP.5.3
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:116)
	at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:154)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:357)
	at org.apache.tools.ant.Target.performTasks(Target.java:385)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
	at org.apache.tools.ant.Main.runBuild(Main.java:758)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)


I have set the below property in tomcat 7.0/conf/catalina.policy

    permission java.util.PropertyPermission
     &quot;org.apache.jasper.compiler.Generator.STRICT_GET_PROPERTY&quot;, &quot;false&quot;;

still getting the same exception, Please advice","org.apache.jasper.JasperException: jsp:getProperty for bean with name '_patient'. Name was not previously introduced as per JSP.5.3
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:116)
	at org.apache.tools.ant.TaskAdapter.execute(TaskAdapter.java:154)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:288)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
	at org.apache.tools.ant.Task.perform(Task.java:348)
	at org.apache.tools.ant.Target.execute(Target.java:357)
	at org.apache.tools.ant.Target.performTasks(Target.java:385)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1337)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1189)
	at org.apache.tools.ant.Main.runBuild(Main.java:758)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)


I have set the below property in tomcat 7.0/conf/catalina.policy

    permission java.util.PropertyPermission
     ""org.apache.jasper.compiler.Generator.STRICT_GET_PROPERTY"", ""false"";

still getting the same exception, Please advice",95
265,49836,"Comment 1",Kumar,"2010-08-28 06:27:11","This is my jasper task

&lt;jasper2
	 listErrors=&quot;true&quot;
	 validateXml=&quot;false&quot;
         uriroot=&quot;${testProj.path}&quot; 
         webXmlFragment=&quot;${testProj.target}/${TODAY}/generated_web.xml&quot; 
         outputDir=&quot;${testProj.build}&quot; /&gt;

getting exception when this is executed","This is my jasper task

<jasper2
	 listErrors=""true""
	 validateXml=""false""
         uriroot=""${testProj.path}"" 
         webXmlFragment=""${testProj.target}/${TODAY}/generated_web.xml"" 
         outputDir=""${testProj.build}"" />

getting exception when this is executed",95
266,49836,"Comment 2","J.M. (Martijn) Kruithof","2010-08-29 04:58:30","1) The jasper2 ant task is part of tomcat to my knowledge (not part of ant).
2) I does not use the catalina.policy file, this file is typically used by the tomcat engine.
3) By setting security manager permissions (which is done using cataline.policy) it is not possible to set system properties.

Please check your environment, if the problem persists, please ask at the user list of the product you take the jasper2 task from.","1) The jasper2 ant task is part of tomcat to my knowledge (not part of ant).
2) I does not use the catalina.policy file, this file is typically used by the tomcat engine.
3) By setting security manager permissions (which is done using cataline.policy) it is not possible to set system properties.

Please check your environment, if the problem persists, please ask at the user list of the product you take the jasper2 task from.",95
267,16131,Description,"T. Paul McCartney","2003-01-15 20:10:28","If I execute a build command, I would like to suppress unnecessary output.  I 
only want to see errors and warnings.

When I do &quot;ant -quiet -emacs &gt;2 /dev/null&quot; I can suppress nearly all non-error, 
non-warning output, but I still get messages like:

BUILD SUCCESSFUL
Total time: 11 seconds

Which I think should be suppressed as part of &quot;-quiet&quot;.","If I execute a build command, I would like to suppress unnecessary output.  I 
only want to see errors and warnings.

When I do ""ant -quiet -emacs >2 /dev/null"" I can suppress nearly all non-error, 
non-warning output, but I still get messages like:

BUILD SUCCESSFUL
Total time: 11 seconds

Which I think should be suppressed as part of ""-quiet"".",96
268,16131,"Comment 1","Dominique Devienne","2003-01-15 20:18:52","No much changes in Ant that breaks backward compatibility / behavior...

Sounds like you want a new -readquiet or -silent switch that also suppresses 
the 'BUILD SUCCESSFUL / FAILED' &amp; 'Total time' lines. Of course, you'd get a 
better chance to have it appear in Ant if you provide a patch for it ;-) --DD","No much changes in Ant that breaks backward compatibility / behavior...

Sounds like you want a new -readquiet or -silent switch that also suppresses 
the 'BUILD SUCCESSFUL / FAILED' & 'Total time' lines. Of course, you'd get a 
better chance to have it appear in Ant if you provide a patch for it ;-) --DD",96
269,16131,"Comment 2","T. Paul McCartney","2003-01-15 21:25:06","Changing the &quot;buildFinished&quot; method in &quot;org.apache.tools.ant.DefaultLogger&quot; to 
the following fixes the issue.  If msgOutputLevel is &quot;error&quot; or &quot;warning&quot; 
(i.e., as with -quiet), the message is suppressed.  Otherwise, it will be 
printed normally.

    public void buildFinished(BuildEvent event) {
        Throwable error = event.getException();
        StringBuffer message = new StringBuffer();

        if (error == null) {
            if (msgOutputLevel &gt; Project.MSG_WARN) {
                message.append(StringUtils.LINE_SEP);
                message.append(&quot;BUILD SUCCESSFUL&quot;);
            }
        } else {
            message.append(StringUtils.LINE_SEP);
            message.append(&quot;BUILD FAILED&quot;);
            message.append(StringUtils.LINE_SEP);

            if (Project.MSG_VERBOSE &lt;= msgOutputLevel ||
                !(error instanceof BuildException)) {
                message.append(StringUtils.getStackTrace(error));
            } else {
                if (error instanceof BuildException) {
                    message.append(error.toString()).append(lSep);
                } else {
                    message.append(error.getMessage()).append(lSep);
                }
            }
        }
 
        if (msgOutputLevel &gt; Project.MSG_WARN) {
            message.append(StringUtils.LINE_SEP);
            message.append(&quot;Total time: &quot;);
            message.append(formatTime(System.currentTimeMillis() - startTime));
        }

        String msg = message.toString();
        if (error == null) {
          if (msg.length() &gt; 0) {
              printMessage(msg, out, Project.MSG_VERBOSE);
          }
        } else {
            printMessage(msg, err, Project.MSG_ERR);
        }
        log(msg);
    }","Changing the ""buildFinished"" method in ""org.apache.tools.ant.DefaultLogger"" to 
the following fixes the issue.  If msgOutputLevel is ""error"" or ""warning"" 
(i.e., as with -quiet), the message is suppressed.  Otherwise, it will be 
printed normally.

    public void buildFinished(BuildEvent event) {
        Throwable error = event.getException();
        StringBuffer message = new StringBuffer();

        if (error == null) {
            if (msgOutputLevel > Project.MSG_WARN) {
                message.append(StringUtils.LINE_SEP);
                message.append(""BUILD SUCCESSFUL"");
            }
        } else {
            message.append(StringUtils.LINE_SEP);
            message.append(""BUILD FAILED"");
            message.append(StringUtils.LINE_SEP);

            if (Project.MSG_VERBOSE <= msgOutputLevel ||
                !(error instanceof BuildException)) {
                message.append(StringUtils.getStackTrace(error));
            } else {
                if (error instanceof BuildException) {
                    message.append(error.toString()).append(lSep);
                } else {
                    message.append(error.getMessage()).append(lSep);
                }
            }
        }
 
        if (msgOutputLevel > Project.MSG_WARN) {
            message.append(StringUtils.LINE_SEP);
            message.append(""Total time: "");
            message.append(formatTime(System.currentTimeMillis() - startTime));
        }

        String msg = message.toString();
        if (error == null) {
          if (msg.length() > 0) {
              printMessage(msg, out, Project.MSG_VERBOSE);
          }
        } else {
            printMessage(msg, err, Project.MSG_ERR);
        }
        log(msg);
    }",96
270,16131,"Comment 3","dev8","2003-01-15 23:17:43","Why not just create your own logger?","Why not just create your own logger?",96
271,16131,"Comment 4","T. Paul McCartney","2003-01-17 16:34:33","You could create your own logger, but it just seems like it you specify &quot;-
quiet&quot;, the correct behavior should be to suppress unnecessary messages.

Another possibility would be to have ant send errors and warnings to System.err 
rather than System.out.  That way I could just say &quot;ant -emacs 1&gt; /dev/null&quot; 
and only the errors and warnings would go to the console.","You could create your own logger, but it just seems like it you specify ""-
quiet"", the correct behavior should be to suppress unnecessary messages.

Another possibility would be to have ant send errors and warnings to System.err 
rather than System.out.  That way I could just say ""ant -emacs 1> /dev/null"" 
and only the errors and warnings would go to the console.",96
272,16131,"Comment 5","Nils Meier","2004-12-11 18:30:43","I second this request - I'm calling ant from as a cronjob on sourceforge and get
an email if anything is printed to stdout. By specifying -quiet (or possibly a
new -veryquiet) I'd expect ant to not report the 'information'-level message:

BUILD SUCCESSFUL
Total time: 34 seconds

Supressing this message should be supported (it's a trivial fix as posted in
another comment) so not everyone automating with ant has to write his/her own
logger.

Thanks","I second this request - I'm calling ant from as a cronjob on sourceforge and get
an email if anything is printed to stdout. By specifying -quiet (or possibly a
new -veryquiet) I'd expect ant to not report the 'information'-level message:

BUILD SUCCESSFUL
Total time: 34 seconds

Supressing this message should be supported (it's a trivial fix as posted in
another comment) so not everyone automating with ant has to write his/her own
logger.

Thanks",96
273,16131,"Comment 6",terwork,"2010-06-03 02:08:22","Created <span class=""""><a href=""attachment.cgi?id=25511&amp;action=diff"" name=""attach_25511"" title=""Adds a new argument -veryquiet which suppresses &quot;Build Successful&quot; message and outputs nothing on no errors and warnings."">attachment 25511</a> <a href=""attachment.cgi?id=25511&amp;action=edit"" title=""Adds a new argument -veryquiet which suppresses &quot;Build Successful&quot; message and outputs nothing on no errors and warnings."">[details]</a></span>
Adds a new argument -veryquiet which suppresses &quot;Build Successful&quot; message and outputs nothing on no errors and warnings.

I know this is an old bug, and nobody wanted to change existing functionality. But it was trivial and just waiting to be done, so I did it. The patch I'm submitting takes a new &quot;-veryquiet&quot; argument which suppresses all messages if there are no errors or warnings.","Created attachment 25511 [details]
Adds a new argument -veryquiet which suppresses ""Build Successful"" message and outputs nothing on no errors and warnings.

I know this is an old bug, and nobody wanted to change existing functionality. But it was trivial and just waiting to be done, so I did it. The patch I'm submitting takes a new ""-veryquiet"" argument which suppresses all messages if there are no errors or warnings.",96
274,16131,"Comment 7","dev79","2010-06-08 16:58:43","I would agree that the existing -quiet argument ought to be fixed, rather than introducing a new option.","I would agree that the existing -quiet argument ought to be fixed, rather than introducing a new option.",96
275,16131,"Comment 8",terwork,"2010-06-12 17:39:35","I was going to do the same thing, but thought that preserving backward behavior is a better idea. Here's what I'll do: I'm going to submit a new patch, and let the core members decide. Given that this design decision has not been resolved in 8 years though, I don't think that this'll be resolved soon.","I was going to do the same thing, but thought that preserving backward behavior is a better idea. Here's what I'll do: I'm going to submit a new patch, and let the core members decide. Given that this design decision has not been resolved in 8 years though, I don't think that this'll be resolved soon.",96
276,48896,Description,"J.M. (Martijn) Kruithof","2010-03-12 09:38:06","When trying to build ant from windows the following error occurs:

D:\data\eclipseworkspace\ant-trunk&gt;build test

... Bootstrapping Ant Distribution
JAVA_HOME=d:\java\jdk1.6.0_18
JAVA=d:\java\jdk1.6.0_18\bin\java
JAVAC=d:\java\jdk1.6.0_18\bin\javac
CLASSPATH=build\classes;src\main;d:\jdk1.6.0_18\lib\tools.jar

... Compiling Ant Classes
Note: Some input files use or override a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.

... Copying Required Files
src\main\org\apache\tools\ant\taskdefs\defaults.properties
        1 file(s) copied.
src\main\org\apache\tools\ant\types\defaults.properties
        1 file(s) copied.

... Building Ant Distribution
Buildfile: D:\data\eclipseworkspace\ant-trunk\build.xml

bootstrap:

prepare:

check_for_optional_packages:

build:
Created dir: D:\data\eclipseworkspace\ant-trunk\build\lib
Compiling 279 source files to D:\data\eclipseworkspace\ant-trunk\build\classes

BUILD FAILED
D:\data\eclipseworkspace\ant-trunk\build.xml:987: The following error occurred w
hile executing this line:
D:\data\eclipseworkspace\ant-trunk\build.xml:524: Unable to find a javac compile
r;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK.
It is currently set to &quot;d:\java\jdk1.6.0_18\jre&quot;

Total time: 2 seconds

... Cleaning Up Build Directories

... Done Bootstrapping Ant Distribution
Bootstrap FAILED

this is caused by the fact that tools.jar is added to the LOCALCLASSPATH
but the LOCALCLASSPATH is no longer provided to the CLASSPATH in bootstrap.bat


-- fix underway --","When trying to build ant from windows the following error occurs:

D:\data\eclipseworkspace\ant-trunk>build test

... Bootstrapping Ant Distribution
JAVA_HOME=d:\java\jdk1.6.0_18
JAVA=d:\java\jdk1.6.0_18\bin\java
JAVAC=d:\java\jdk1.6.0_18\bin\javac
CLASSPATH=build\classes;src\main;d:\jdk1.6.0_18\lib\tools.jar

... Compiling Ant Classes
Note: Some input files use or override a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.

... Copying Required Files
src\main\org\apache\tools\ant\taskdefs\defaults.properties
        1 file(s) copied.
src\main\org\apache\tools\ant\types\defaults.properties
        1 file(s) copied.

... Building Ant Distribution
Buildfile: D:\data\eclipseworkspace\ant-trunk\build.xml

bootstrap:

prepare:

check_for_optional_packages:

build:
Created dir: D:\data\eclipseworkspace\ant-trunk\build\lib
Compiling 279 source files to D:\data\eclipseworkspace\ant-trunk\build\classes

BUILD FAILED
D:\data\eclipseworkspace\ant-trunk\build.xml:987: The following error occurred w
hile executing this line:
D:\data\eclipseworkspace\ant-trunk\build.xml:524: Unable to find a javac compile
r;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK.
It is currently set to ""d:\java\jdk1.6.0_18\jre""

Total time: 2 seconds

... Cleaning Up Build Directories

... Done Bootstrapping Ant Distribution
Bootstrap FAILED

this is caused by the fact that tools.jar is added to the LOCALCLASSPATH
but the LOCALCLASSPATH is no longer provided to the CLASSPATH in bootstrap.bat


-- fix underway --",97
277,48896,"Comment 1","J.M. (Martijn) Kruithof","2010-03-12 09:45:21","<a href=""http://svn.apache.org/viewvc?rev=922178&amp;view=rev"">http://svn.apache.org/viewvc?rev=922178&amp;view=rev</a>",http://svn.apache.org/viewvc?rev=922178&view=rev,97
278,39745,Description,"Maciej Piechotka","2006-06-07 12:13:16","Ant-core cannot be compiled whe my default sdk is sablevm","Ant-core cannot be compiled whe my default sdk is sablevm",98
279,39745,"Comment 1","Jan Mat","2006-06-07 13:18:52","For info: SableVM - <a href=""http://sablevm.org/"">http://sablevm.org/</a>
&quot;A robust, clean, easy to maintain and extend, extremely portable, efficient, 
and specification-compliant Java virtual machine.&quot;

Could you provide more information? Error messages ....","For info: SableVM - http://sablevm.org/
""A robust, clean, easy to maintain and extend, extremely portable, efficient, 
and specification-compliant Java virtual machine.""

Could you provide more information? Error messages ....",98
280,39745,"Comment 2","Maciej Piechotka","2006-06-07 14:05:50","Build error:

build:
Created dir: /var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build/lib
Compiling 212 source files to
/var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build/classes

BUILD FAILED
/var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build.xml:1042: The
following error occurred while executing this line:
/var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build.xml:606: Unable
to find a javac compiler;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK

Total time: 21 seconds
... Failed Building Ant Distribution !
Bootstrap FAILED

!!! ERROR: dev-java/ant-core-1.6.5-r2 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ant-core-1.6.5-r2.ebuild, line 51:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if
relevant.

$ sudo emerge --info
Portage 2.1_rc4-r3 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3,
2.6.16-suspend2-r8 i686)
=================================================================
System uname: 2.6.16-suspend2-r8 i686 Intel(R) Celeron(R) M processor        
1.50GHz
Gentoo Base System version 1.12.1
ccache version 2.4 [disabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r1
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS=&quot;x86 ~x86&quot;
AUTOCLEAN=&quot;yes&quot;
CBUILD=&quot;i686-pc-linux-gnu&quot;
CFLAGS=&quot;-O2 -march=pentium-m -mmmx -msse -msse2 -mfpmath=sse
-fomit-frame-pointer -pipe&quot;
CHOST=&quot;i686-pc-linux-gnu&quot;
CONFIG_PROTECT=&quot;/etc&quot;
CONFIG_PROTECT_MASK=&quot;/etc/gconf /etc/env.d&quot;
CXXFLAGS=&quot;-O2 -march=pentium-m -mmmx -msse -msse2 -mfpmath=sse
-fomit-frame-pointer -pipe&quot;
DISTDIR=&quot;/var/tmp/portage/distfiles&quot;
FEATURES=&quot;autoconfig distlocks metadata-transfer sandbox sfperms strict&quot;
GENTOO_MIRRORS=&quot;<a href=""http://distfiles.gentoo.org"">http://distfiles.gentoo.org</a>
<a href=""http://distro.ibiblio.org/pub/linux/distributions/gentoo"">http://distro.ibiblio.org/pub/linux/distributions/gentoo</a>&quot;
LINGUAS=&quot;pl&quot;
PKGDIR=&quot;/usr/portage/packages&quot;
PORTAGE_RSYNC_OPTS=&quot;--recursive --links --safe-links --perms --times --compress
--force --whole-file --delete --delete-after --stats --timeout=180
--exclude='/distfiles' --exclude='/local' --exclude='/packages'&quot;
PORTAGE_TMPDIR=&quot;/var/tmp&quot;
PORTDIR=&quot;/usr/portage&quot;
PORTDIR_OVERLAY=&quot;/usr/local/overlays/xgl-coffee
/usr/local/overlays/java-experimental /usr/local/overlays/free-java&quot;
SYNC=&quot;rsync://rsync.europe.gentoo.org/gentoo-portage&quot;
USE=&quot;x86 X aac acl acpi alsa apm avi bash-completion beagle berkdb bitmap-fonts
bzip2 cairo calendar cdparanoia cdr cli crypt cups curl curlwrappers dbus dri
dvd dvdr eds emacs emboss encode esd exif expat flac flash foomaticdb fortran
gdbm gif glut gnome gpm gstreamer gstreamer10 gtk gtk2 gtkhtml hal ibm iconv
imap imlib ipod ipv6 isdnlog jabber java jikes jpeg jpeg2k libg++ libnotify
libwww mad madwifi maildir mhash mikmod mmx mono motif mozilla mp3 mpeg ncurses
nls nptl nsplugin ntpl ogg oggvorbis openal opengl pam pcre pda pdf pdflib perl
png pppd python quicktime readline reflection rhino ruby samba sdl see2 session
spell spl sse ssl svg tcpd tetex theora threads truetype truetype-fonts
type1-fonts udev unicode usb vorbis wifi win32codecs xml xml2 xmms xorg xsl xv
zlib elibc_glibc input_devices_mouse input_devices_keyboard kernel_linux
linguas_pl userland_GNU video_cards_radeon&quot;
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS,
MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS
 SableVM version 1.12
- compile date and time: 2006-06-06 12:04:17 UTC
- gcc version: 4.1.1 (Gentoo 4.1.1)
- 'real life brokenness' features enabled
- signal based exception detection
- copying garbage collection
- bidirectional object layout
- inline-threaded interpreter","Build error:

build:
Created dir: /var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build/lib
Compiling 212 source files to
/var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build/classes

BUILD FAILED
/var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build.xml:1042: The
following error occurred while executing this line:
/var/tmp/portage/ant-core-1.6.5-r2/work/apache-ant-1.6.5/build.xml:606: Unable
to find a javac compiler;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK

Total time: 21 seconds
... Failed Building Ant Distribution !
Bootstrap FAILED

!!! ERROR: dev-java/ant-core-1.6.5-r2 failed.
Call stack:
  ebuild.sh, line 1539:   Called dyn_compile
  ebuild.sh, line 939:   Called src_compile
  ant-core-1.6.5-r2.ebuild, line 51:   Called die

!!! (no error message)
!!! If you need support, post the topmost build error, and the call stack if
relevant.

$ sudo emerge --info
Portage 2.1_rc4-r3 (default-linux/x86/2006.0, gcc-4.1.1/vanilla, glibc-2.4-r3,
2.6.16-suspend2-r8 i686)
=================================================================
System uname: 2.6.16-suspend2-r8 i686 Intel(R) Celeron(R) M processor        
1.50GHz
Gentoo Base System version 1.12.1
ccache version 2.4 [disabled]
dev-lang/python:     2.4.3-r1
dev-python/pycrypto: 2.0.1-r5
dev-util/ccache:     2.4-r1
dev-util/confcache:  [Not Present]
sys-apps/sandbox:    1.2.18.1
sys-devel/autoconf:  2.13, 2.59-r7
sys-devel/automake:  1.4_p6, 1.5, 1.6.3, 1.7.9-r1, 1.8.5-r3, 1.9.6-r2
sys-devel/binutils:  2.16.1-r2
sys-devel/libtool:   1.5.22
virtual/os-headers:  2.6.11-r5
ACCEPT_KEYWORDS=""x86 ~x86""
AUTOCLEAN=""yes""
CBUILD=""i686-pc-linux-gnu""
CFLAGS=""-O2 -march=pentium-m -mmmx -msse -msse2 -mfpmath=sse
-fomit-frame-pointer -pipe""
CHOST=""i686-pc-linux-gnu""
CONFIG_PROTECT=""/etc""
CONFIG_PROTECT_MASK=""/etc/gconf /etc/env.d""
CXXFLAGS=""-O2 -march=pentium-m -mmmx -msse -msse2 -mfpmath=sse
-fomit-frame-pointer -pipe""
DISTDIR=""/var/tmp/portage/distfiles""
FEATURES=""autoconfig distlocks metadata-transfer sandbox sfperms strict""
GENTOO_MIRRORS=""http://distfiles.gentoo.org
http://distro.ibiblio.org/pub/linux/distributions/gentoo""
LINGUAS=""pl""
PKGDIR=""/usr/portage/packages""
PORTAGE_RSYNC_OPTS=""--recursive --links --safe-links --perms --times --compress
--force --whole-file --delete --delete-after --stats --timeout=180
--exclude='/distfiles' --exclude='/local' --exclude='/packages'""
PORTAGE_TMPDIR=""/var/tmp""
PORTDIR=""/usr/portage""
PORTDIR_OVERLAY=""/usr/local/overlays/xgl-coffee
/usr/local/overlays/java-experimental /usr/local/overlays/free-java""
SYNC=""rsync://rsync.europe.gentoo.org/gentoo-portage""
USE=""x86 X aac acl acpi alsa apm avi bash-completion beagle berkdb bitmap-fonts
bzip2 cairo calendar cdparanoia cdr cli crypt cups curl curlwrappers dbus dri
dvd dvdr eds emacs emboss encode esd exif expat flac flash foomaticdb fortran
gdbm gif glut gnome gpm gstreamer gstreamer10 gtk gtk2 gtkhtml hal ibm iconv
imap imlib ipod ipv6 isdnlog jabber java jikes jpeg jpeg2k libg++ libnotify
libwww mad madwifi maildir mhash mikmod mmx mono motif mozilla mp3 mpeg ncurses
nls nptl nsplugin ntpl ogg oggvorbis openal opengl pam pcre pda pdf pdflib perl
png pppd python quicktime readline reflection rhino ruby samba sdl see2 session
spell spl sse ssl svg tcpd tetex theora threads truetype truetype-fonts
type1-fonts udev unicode usb vorbis wifi win32codecs xml xml2 xmms xorg xsl xv
zlib elibc_glibc input_devices_mouse input_devices_keyboard kernel_linux
linguas_pl userland_GNU video_cards_radeon""
Unset:  CTARGET, EMERGE_DEFAULT_OPTS, INSTALL_MASK, LANG, LC_ALL, LDFLAGS,
MAKEOPTS, PORTAGE_RSYNC_EXTRA_OPTS
 SableVM version 1.12
- compile date and time: 2006-06-06 12:04:17 UTC
- gcc version: 4.1.1 (Gentoo 4.1.1)
- 'real life brokenness' features enabled
- signal based exception detection
- copying garbage collection
- bidirectional object layout
- inline-threaded interpreter",98
281,39745,"Comment 3","Maciej Piechotka","2006-06-07 15:46:33","Also:
build:
Created dir: /var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build/lib
Compiling 212 source files to
/var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build/classes

BUILD FAILED
/var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build.xml:1042: The
following error occurred while executing this line:
/var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build.xml:606: Unable to
find a javac compiler;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK

Total time: 18 seconds
... Failed Building Ant Distribution !
Bootstrap FAILED","Also:
build:
Created dir: /var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build/lib
Compiling 212 source files to
/var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build/classes

BUILD FAILED
/var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build.xml:1042: The
following error occurred while executing this line:
/var/tmp/portage/ant-tasks-1.6.5/work/apache-ant-1.6.5/build.xml:606: Unable to
find a javac compiler;
com.sun.tools.javac.Main is not on the classpath.
Perhaps JAVA_HOME does not point to the JDK

Total time: 18 seconds
... Failed Building Ant Distribution !
Bootstrap FAILED",98
282,39745,"Comment 4","dev11","2006-06-07 15:48:06","Ant requires a full JDK, with a javac compiler. Is there one on the system too?
If so, the issue is not so much bootstrapping ant but getting the javac task to
find it. That error message is from javac not finding the compiler. its looking
for the sun one, which means that it isnt doing a sable-vm-aware switch to
whatever javac compiler you need.

Ant does try and support OSS java vms, and there is lots of support for kaffe
going in, so if you have patches for sablevm they'd be welcome too. But its not
something anyone has looked at yet.","Ant requires a full JDK, with a javac compiler. Is there one on the system too?
If so, the issue is not so much bootstrapping ant but getting the javac task to
find it. That error message is from javac not finding the compiler. its looking
for the sun one, which means that it isnt doing a sable-vm-aware switch to
whatever javac compiler you need.

Ant does try and support OSS java vms, and there is lots of support for kaffe
going in, so if you have patches for sablevm they'd be welcome too. But its not
something anyone has looked at yet.",98
283,39745,"Comment 5","Maciej Piechotka","2006-06-07 15:50:53","Of course it is javac :)
Sablevm sdk contains jikes:
$ javac -version
Jikes Compiler - Version 1.22 - 3 October 2004
Copyright (C) IBM Corporation 1997-2003, 2004.
- Licensed Materials - Program Property of IBM - All Rights Reserved.
Originally written by Philippe Charles and David Shields of IBM Research,
Jikes is now maintained and refined by the Jikes Project at:
&lt;<a href=""http://ibm.com/developerworks/opensource/jikes"">http://ibm.com/developerworks/opensource/jikes</a>&gt;
Please consult this URL for more information and for reporting problems.

However it is not closed version from sun.com.","Of course it is javac :)
Sablevm sdk contains jikes:
$ javac -version
Jikes Compiler - Version 1.22 - 3 October 2004
Copyright (C) IBM Corporation 1997-2003, 2004.
- Licensed Materials - Program Property of IBM - All Rights Reserved.
Originally written by Philippe Charles and David Shields of IBM Research,
Jikes is now maintained and refined by the Jikes Project at:
<http://ibm.com/developerworks/opensource/jikes>
Please consult this URL for more information and for reporting problems.

However it is not closed version from sun.com.",98
284,39745,"Comment 6","dev9","2006-06-27 23:47:35","If SableVM contains jikes you should only have to set build.compiler=jikes . 
See the javac manual page for more information.","If SableVM contains jikes you should only have to set build.compiler=jikes . 
See the javac manual page for more information.",98
285,39745,"Comment 7","J.M. (Martijn) Kruithof","2010-01-16 06:06:17","No new info for 2 years, and sablevm is no longer maintained.","No new info for 2 years, and sablevm is no longer maintained.",98
286,48199,Description,zosrothko,"2009-11-15 09:03:38","Hi

I am using a convention that all build files are named build.ant so that I can easily separate ant build file from regular xml document in the same directory. 

It would be nice if there was a installation configurable property stating that the default build file be user'defined as for example: build.ant with the default value of build.xml to insure compatibility.

Rgds

FA","Hi

I am using a convention that all build files are named build.ant so that I can easily separate ant build file from regular xml document in the same directory. 

It would be nice if there was a installation configurable property stating that the default build file be user'defined as for example: build.ant with the default value of build.xml to insure compatibility.

Rgds

FA",99
287,45830,Description,"Vladimir Grigoriev","2008-09-18 02:34:48","I create jar file. Roll back system time and try to update a jar and merge one file (config.properties). This doesn't work. If it is ok why copy command has attribute &quot;overwrite&quot; and jar command doesn't?

How to reproduce:

1. Create folders ant_test, classes and file config.properties
2. Created jar archive
jar cvf ant_test.jar *.* 
3. rollback system time
4. modified config.properties (incremented value of property max.size=2)
5. Executed ant task in build file
  &lt;target name=&quot;update_jar&quot;&gt;
	&lt;jar destfile=&quot;ant_test.jar&quot; update=&quot;true&quot;&gt;
	&lt;fileset dir=&quot;ant_test&quot;/&gt;
	&lt;/jar&gt;
  &lt;/target&gt;
6. I get warning ( [jar] Warning: classes modified in the future.) and cannot update config.properties file.","I create jar file. Roll back system time and try to update a jar and merge one file (config.properties). This doesn't work. If it is ok why copy command has attribute ""overwrite"" and jar command doesn't?

How to reproduce:

1. Create folders ant_test, classes and file config.properties
2. Created jar archive
jar cvf ant_test.jar *.* 
3. rollback system time
4. modified config.properties (incremented value of property max.size=2)
5. Executed ant task in build file
  <target name=""update_jar"">
	<jar destfile=""ant_test.jar"" update=""true"">
	<fileset dir=""ant_test""/>
	</jar>
  </target>
6. I get warning ( [jar] Warning: classes modified in the future.) and cannot update config.properties file.",100
288,45830,"Comment 1","dev1","2009-07-31 09:41:54","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - New update mode in zip (and related) task"" href=""show_bug.cgi?id=22930"">bug 22930</a> ***","*** This bug has been marked as a duplicate of bug 22930 ***",100
289,39106,Description,william.barker,"2006-03-26 05:20:57","At the moment, it is extremely complex to include all of the optional 
dependancies that Ant may build on the CP before invoking 'build install'.  It 
would be very helpful if the Ant build.xml defined the ${${component}.jar} 
properties and added them to the classpath, so that I could just define in 
my .ant.properties something like:
  junit.jar=${download.home}/junit3.8.1/junit.jar","At the moment, it is extremely complex to include all of the optional 
dependancies that Ant may build on the CP before invoking 'build install'.  It 
would be very helpful if the Ant build.xml defined the ${${component}.jar} 
properties and added them to the classpath, so that I could just define in 
my .ant.properties something like:
  junit.jar=${download.home}/junit3.8.1/junit.jar",101
290,39106,"Comment 1","J.M. (Martijn) Kruithof","2006-03-26 17:11:57","just place them in lib/optional before building ant, and the build will find
them by itself.
Many libraries can automatically be downloaded to that location using 
ant / build -file fetch.xml while in the &quot;root&quot; directory of the ant source
distribution.","just place them in lib/optional before building ant, and the build will find
them by itself.
Many libraries can automatically be downloaded to that location using 
ant / build -file fetch.xml while in the ""root"" directory of the ant source
distribution.",101
291,39106,"Comment 2","dev9","2006-04-11 23:36:37","was Martijn's answer satisfactory?","was Martijn's answer satisfactory?",101
292,28101,Description,"Stephen More","2004-03-31 19:32:07","The current bootstrap.sh fails when running under qsh on the as400. I think the 
command is limited to 256 characters in length.

Please find below the fix to bootstrap.sh that will work under the qsh on the 
400.

-Steve More


echo ... Compiling Ant Classes

for X in `ls ${TOOLS}/bzip2/*.java \
        ${TOOLS}/tar/*.java ${TOOLS}/zip/*.java \
        ${TOOLS}/ant/util/regexp/RegexpMatcher.java \
        ${TOOLS}/ant/util/regexp/RegexpMatcherFactory.java \
        ${TOOLS}/ant/types/*.java \
        ${TOOLS}/ant/*.java ${TOOLS}/ant/taskdefs/*.java \
        ${TOOLS}/ant/taskdefs/compilers/*.java \
        ${TOOLS}/ant/taskdefs/condition/*.java`
do
        &quot;${JAVAC}&quot; $BOOTJAVAC_OPTS -d ${CLASSDIR} $X 
        ret=$?
        if [ $ret != 0 ]; then  
          echo ... Failed compiling Ant classes !
          exit $ret
        fi
done","The current bootstrap.sh fails when running under qsh on the as400. I think the 
command is limited to 256 characters in length.

Please find below the fix to bootstrap.sh that will work under the qsh on the 
400.

-Steve More


echo ... Compiling Ant Classes

for X in `ls ${TOOLS}/bzip2/*.java \
        ${TOOLS}/tar/*.java ${TOOLS}/zip/*.java \
        ${TOOLS}/ant/util/regexp/RegexpMatcher.java \
        ${TOOLS}/ant/util/regexp/RegexpMatcherFactory.java \
        ${TOOLS}/ant/types/*.java \
        ${TOOLS}/ant/*.java ${TOOLS}/ant/taskdefs/*.java \
        ${TOOLS}/ant/taskdefs/compilers/*.java \
        ${TOOLS}/ant/taskdefs/condition/*.java`
do
        ""${JAVAC}"" $BOOTJAVAC_OPTS -d ${CLASSDIR} $X 
        ret=$?
        if [ $ret != 0 ]; then  
          echo ... Failed compiling Ant classes !
          exit $ret
        fi
done",102
293,28101,"Comment 1","dev9","2004-04-02 00:37:11","This looks okay, but if there is a way to detect qsh, I'd rather see something 
like:
&lt;pre&gt;
parallel=true

if some-way-to-determine qsh ; then
  parallel=false
fi

sourcefiles=${TOOLS}/bzip2/*.java \
            ${TOOLS}/tar/*.java ${TOOLS}/zip/*.java \
            ${TOOLS}/ant/util/regexp/RegexpMatcher.java \
            ${TOOLS}/ant/util/regexp/RegexpMatcherFactory.java \
            ${TOOLS}/ant/types/*.java \
            ${TOOLS}/ant/*.java ${TOOLS}/ant/taskdefs/*.java \
            ${TOOLS}/ant/taskdefs/compilers/*.java \
            ${TOOLS}/ant/taskdefs/condition/*.java

if $parallel ; then
  ret=0
  for X in $sourcefiles ; do
    if [ $ret == 0 ] ; then
      &quot;${JAVAC}&quot; $BOOTJAVAC_OPTS -d ${CLASSDIR} $X 
      ret=$?
    fi
  done
else
  &quot;${JAVAC}&quot; $BOOTJAVAC_OPTS -d ${CLASSDIR} $X $sourcefiles
  ret=$?
fi

if [ $ret != 0 ]; then  
  echo ... Failed compiling Ant classes !
  exit $ret
fi
&lt;/pre&gt;

-just being nitpicky to avoid multiple invocations of the compiler except when 
necessary.","This looks okay, but if there is a way to detect qsh, I'd rather see something 
like:
<pre>
parallel=true

if some-way-to-determine qsh ; then
  parallel=false
fi

sourcefiles=${TOOLS}/bzip2/*.java \
            ${TOOLS}/tar/*.java ${TOOLS}/zip/*.java \
            ${TOOLS}/ant/util/regexp/RegexpMatcher.java \
            ${TOOLS}/ant/util/regexp/RegexpMatcherFactory.java \
            ${TOOLS}/ant/types/*.java \
            ${TOOLS}/ant/*.java ${TOOLS}/ant/taskdefs/*.java \
            ${TOOLS}/ant/taskdefs/compilers/*.java \
            ${TOOLS}/ant/taskdefs/condition/*.java

if $parallel ; then
  ret=0
  for X in $sourcefiles ; do
    if [ $ret == 0 ] ; then
      ""${JAVAC}"" $BOOTJAVAC_OPTS -d ${CLASSDIR} $X 
      ret=$?
    fi
  done
else
  ""${JAVAC}"" $BOOTJAVAC_OPTS -d ${CLASSDIR} $X $sourcefiles
  ret=$?
fi

if [ $ret != 0 ]; then  
  echo ... Failed compiling Ant classes !
  exit $ret
fi
</pre>

-just being nitpicky to avoid multiple invocations of the compiler except when 
necessary.",102
294,28101,"Comment 2","Stephen More","2004-04-02 15:42:41","OK, This should work then:

<span class=""quote"">&gt; echo $0             </span>
  QSHELL/QZSHSH","OK, This should work then:

> echo $0             
  QSHELL/QZSHSH",102
295,46731,Description,"Martin von Gagern","2009-02-18 12:30:53","Created <span class=""""><a href=""attachment.cgi?id=23277&amp;action=diff"" name=""attach_23277"" title=""Switch lines, failonerror"">attachment 23277</a> <a href=""attachment.cgi?id=23277&amp;action=edit"" title=""Switch lines, failonerror"">[details]</a></span>
Switch lines, failonerror

Building the API reference from source using the Sun JDK 1.4.2_19, javadoc crashes with a NullPointerException in ValueTaglet. As the build script does not fail on javadoc errors, an automated build process is likely to deliver an incomplete API reference. This is especially annoying as there is no API on the official Ant home page.

The cause seems to be that src/main/org/apache/tools/ant/MagicNames.java contains a few doc comments which have @since before @value. Switching those lines solves the problem. The offending lines were introduced by <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=393282"">r393282</a> and <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=405523"">r405523</a>.

The attached patch solves the issue. It also adds failonerror to the javadoc tasks in the main build.xml file.","Created attachment 23277 [details]
Switch lines, failonerror

Building the API reference from source using the Sun JDK 1.4.2_19, javadoc crashes with a NullPointerException in ValueTaglet. As the build script does not fail on javadoc errors, an automated build process is likely to deliver an incomplete API reference. This is especially annoying as there is no API on the official Ant home page.

The cause seems to be that src/main/org/apache/tools/ant/MagicNames.java contains a few doc comments which have @since before @value. Switching those lines solves the problem. The offending lines were introduced by r393282 and r405523.

The attached patch solves the issue. It also adds failonerror to the javadoc tasks in the main build.xml file.",103
296,46731,"Comment 1","dev1","2009-05-18 07:10:29","patch comitted as svn <a href=""http://svn.apache.org/viewvc?view=revision&amp;revision=775914"">revision 775914</a>

Thanks!","patch comitted as svn revision 775914

Thanks!",103
297,46378,Description,"Joy Ng","2008-12-10 23:24:14","The number of posts are inconsistent to the actual number of posts on the page.","The number of posts are inconsistent to the actual number of posts on the page.",104
298,33031,Description,"George Wang","2005-01-10 21:31:20","There is only one property websphere.home when we use ejbjar task to build ejb 
for Websphere 5.1. AS a matter of fact, there is another very important 
command line option for ejbdeploy that is ws.ext.dirs. We can not build ejb 
for Websphere 5.1 without this option. I actually have modified 
WebsphereDeploymentTool.java source code available. I hope that you can make 
my code available in the next release.












Thanks,

George","There is only one property websphere.home when we use ejbjar task to build ejb 
for Websphere 5.1. AS a matter of fact, there is another very important 
command line option for ejbdeploy that is ws.ext.dirs. We can not build ejb 
for Websphere 5.1 without this option. I actually have modified 
WebsphereDeploymentTool.java source code available. I hope that you can make 
my code available in the next release.












Thanks,

George",105
299,33031,"Comment 1","George Wang","2005-01-10 21:34:01","/*
 * Copyright  2001-2004 The Apache Software Foundation
 *
 *  Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      <a href=""http://www.apache.org/licenses/LICENSE-2.0"">http://www.apache.org/licenses/LICENSE-2.0</a>
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 */
package org.apache.tools.ant.taskdefs.optional.ejb;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Enumeration;
import java.util.Hashtable;
import java.util.Iterator;
import java.util.jar.JarEntry;
import java.util.jar.JarFile;
import java.util.jar.JarOutputStream;
import org.apache.tools.ant.BuildException;
import org.apache.tools.ant.Project;
import org.apache.tools.ant.taskdefs.Java;
import org.apache.tools.ant.types.EnumeratedAttribute;
import org.apache.tools.ant.types.Environment;
import org.apache.tools.ant.types.Path;
import org.apache.tools.ant.util.FileUtils;

/**
 * Websphere deployment tool that augments the ejbjar task.
 * Searches for the websphere specific deployment descriptors and
 * adds them to the final ejb jar file. Websphere has two specific descriptors 
for session
 * beans:
 * &lt;ul&gt;
 *    &lt;li&gt;ibm-ejb-jar-bnd.xmi&lt;/li&gt;
 *    &lt;li&gt;ibm-ejb-jar-ext.xmi&lt;/li&gt;
 * &lt;/ul&gt;
 * and another two for container managed entity beans:
 * &lt;ul&gt;
 *    &lt;li&gt;Map.mapxmi&lt;/li&gt;
 *    &lt;li&gt;Schema.dbxmi&lt;/li&gt;
 * &lt;/ul&gt;
 * In terms of WebSphere, the generation of container code and stubs is
 * called &lt;code&gt;deployment&lt;/code&gt;. This step can be performed by the websphere
 * element as part of the jar generation process. If the switch
 * &lt;code&gt;ejbdeploy&lt;/code&gt; is on, the ejbdeploy tool from the websphere toolset
 * is called for every ejb-jar. Unfortunately, this step only works, if you
 * use the ibm jdk. Otherwise, the rmic (called by ejbdeploy) throws a
 * ClassFormatError. Be sure to switch ejbdeploy off, if run ant with
 * sun jdk.
 *
 */
public class WebsphereDeploymentTool extends GenericDeploymentTool {
    /**
     * Enumerated attribute with the values for the database vendor types
     *
     */
    public static class DBVendor extends EnumeratedAttribute {
        public String[] getValues() {
            return new String[]{
                &quot;SQL92&quot;, &quot;SQL99&quot;, &quot;DB2UDBWIN_V71&quot;, &quot;DB2UDBOS390_V6&quot;, &quot;DB2UDBAS4
00_V4R5&quot;,
                &quot;ORACLE_V8&quot;, &quot;INFORMIX_V92&quot;, &quot;SYBASE_V1192&quot;, &quot;MSSQLSERVER_V7&quot;, 
&quot;MYSQL_V323&quot;
                };
        }
    }


    public static final String PUBLICID_EJB11
         = &quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 1.1//EN&quot;;
    public static final String PUBLICID_EJB20
         = &quot;-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN&quot;;
    protected static final String SCHEMA_DIR = &quot;Schema/&quot;;

    protected static final String WAS_EXT = &quot;ibm-ejb-jar-ext.xmi&quot;;
    protected static final String WAS_BND = &quot;ibm-ejb-jar-bnd.xmi&quot;;
    protected static final String WAS_CMP_MAP = &quot;Map.mapxmi&quot;;
    protected static final String WAS_CMP_SCHEMA = &quot;Schema.dbxmi&quot;;

    /** Instance variable that stores the suffix for the websphere jarfile. */
    private String jarSuffix = &quot;.jar&quot;;

    /** Instance variable that stores the location of the ejb 1.1 DTD file. */
    private String ejb11DTD;

    /** Instance variable that determines whether generic ejb jars are kept. */

    private boolean keepGeneric = false;

    private boolean alwaysRebuild = true;

    private boolean ejbdeploy = true;

    /** Indicates if the old CMP location convention is to be used. */
    private boolean newCMP = false;

    /** The classpath to the websphere classes. */
    private Path wasClasspath = null;

    /** The DB Vendor name, the EJB is persisted against */
    private String dbVendor;

    /** The name of the database to create. (For top-down mapping only) */
    private String dbName;

    /** The name of the schema to create. (For top-down mappings only) */
    private String dbSchema;

    /** true - Only generate the deployment code, do not run RMIC or Javac */
    private boolean codegen;

    /** true - Only output error messages, suppress informational messages */
    private boolean quiet = true;

    /** true - Disable the validation steps */
    private boolean novalidate;

    /** true - Disable warning and informational messages */
    private boolean nowarn;

    /** true - Disable informational messages */
    private boolean noinform;

    /** true - Enable internal tracing */
    private boolean trace;

    /** Additional options for RMIC */
    private String rmicOptions;

    /** true- Use the WebSphere 3.5 compatible mapping rules */
    private boolean use35MappingRules;

    /** the scratchdir for the ejbdeploy operation */
    private String tempdir = &quot;_ejbdeploy_temp&quot;;

    /** the home directory for websphere */
    private File websphereHome;

     private String websphereExtDirs;
    /** Get the classpath to the websphere classpaths */
    public Path createWASClasspath() {
        if (wasClasspath == null) {
            wasClasspath = new Path(getTask().getProject());
        }
        return wasClasspath.createPath();
    }


    public void setWASClasspath(Path wasClasspath) {
        this.wasClasspath = wasClasspath;
    }


    /** Sets the DB Vendor for the Entity Bean mapping ; optional.
     * Valid options are for example:
     * &lt;ul&gt;
     * &lt;li&gt;SQL92&lt;/li&gt; &lt;li&gt;SQL99&lt;/li&gt; &lt;li&gt;DB2UDBWIN_V71&lt;/li&gt;
     * &lt;li&gt;DB2UDBOS390_V6&lt;/li&gt; &lt;li&gt;DB2UDBAS400_V4R5&lt;/li&gt; &lt;li&gt;ORACLE_V8&lt;/li&gt;
     * &lt;li&gt;INFORMIX_V92&lt;/li&gt; &lt;li&gt;SYBASE_V1192&lt;/li&gt; &lt;li&gt;MYSQL_V323&lt;/li&gt;
     * &lt;/ul&gt;
     * This is also used to determine the name of the Map.mapxmi and
     * Schema.dbxmi files, for example Account-DB2UDBWIN_V71-Map.mapxmi
     * and Account-DB2UDBWIN_V71-Schema.dbxmi.
     */
    public void setDbvendor(DBVendor dbvendor) {
        this.dbVendor = dbvendor.getValue();
    }


    /**
     * Sets the name of the Database to create; optional.
     *
     * @param dbName name of the database
     */
    public void setDbname(String dbName) {
        this.dbName = dbName;
    }


    /**
     * Sets the name of the schema to create; optional.
     *
     * @param dbSchema name of the schema
     */
    public void setDbschema(String dbSchema) {
        this.dbSchema = dbSchema;
    }


    /**
     * Flag, default false, to only generate the deployment
     * code, do not run RMIC or Javac
     *
     * @param codegen option
     */
    public void setCodegen(boolean codegen) {
        this.codegen = codegen;
    }


    /**
     * Flag, default true, to only output error messages.
     *
     * @param quiet option
     */
    public void setQuiet(boolean quiet) {
        this.quiet = quiet;
    }


    /**
     * Flag to disable the validation steps; optional, default false.
     *
     * @param novalidate option
     */
    public void setNovalidate(boolean novalidate) {
        this.novalidate = novalidate;
    }


    /**
     * Flag to disable warning and informational messages; optional, default 
false.
     *
     * @param nowarn option
     */
    public void setNowarn(boolean nowarn) {
        this.nowarn = nowarn;
    }


    /**
     * Flag to disable informational messages; optional, default false.
     *
     * @param noinform if true disables informational messages
     */
    public void setNoinform(boolean noinform) {
        this.noinform = noinform;
    }


    /**
     * Flag to enable internal tracing when set, optional, default false.
     *
     * @param trace
     */
    public void setTrace(boolean trace) {
        this.trace = trace;
    }

    /**
     * Set the rmic options.
     *
     * @param options
     */
    public void setRmicoptions(String options) {
        this.rmicOptions = options;
    }

    /**
     * Flag to use the WebSphere 3.5 compatible mapping rules ; optional, 
default false.
     *
     * @param attr
     */
    public void setUse35(boolean attr) {
        use35MappingRules = attr;
    }


    /**
     * Set the rebuild flag to false to only update changes in the jar rather
     * than rerunning ejbdeploy; optional, default true.
     */
    public void setRebuild(boolean rebuild) {
        this.alwaysRebuild = rebuild;
    }


    /**
     * String value appended to the basename of the deployment
     * descriptor to create the filename of the WebLogic EJB
     * jar file. Optional, default '.jar'.
     * @param inString the string to use as the suffix.
     */
    public void setSuffix(String inString) {
        this.jarSuffix = inString;
    }


    /**
     * This controls whether the generic file used as input to
     * ejbdeploy is retained; optional, default false.
     * @param inValue either 'true' or 'false'.
     */
    public void setKeepgeneric(boolean inValue) {
        this.keepGeneric = inValue;
    }


    /**
     * Decide, wether ejbdeploy should be called or not;
     * optional, default true.
     *
     * @param ejbdeploy
     */
    public void setEjbdeploy(boolean ejbdeploy) {
        this.ejbdeploy = ejbdeploy;
    }


    /**
     * Setter used to store the location of the Sun's Generic EJB DTD. This
     * can be a file on the system or a resource on the classpath.
     *
     * @param inString the string to use as the DTD location.
     */
    public void setEJBdtd(String inString) {
        this.ejb11DTD = inString;
    }


    /**
     * Set the value of the oldCMP scheme. This is an antonym for newCMP
     * @ant.attribute ignore=&quot;true&quot;
     */
    public void setOldCMP(boolean oldCMP) {
        this.newCMP = !oldCMP;
    }


    /**
     * Set the value of the newCMP scheme. The old CMP scheme locates the
     * websphere CMP descriptor based on the naming convention where the
     * websphere CMP file is expected to be named with the bean name as the
     * prefix. Under this scheme the name of the CMP descriptor does not match
     * the name actually used in the main websphere EJB descriptor. Also,
     * descriptors which contain multiple CMP references could not be used.
     */
    public void setNewCMP(boolean newCMP) {
        this.newCMP = newCMP;
    }


    /**
     * The directory, where ejbdeploy will write temporary files;
     * optional, defaults to '_ejbdeploy_temp'.
     */

    public void setTempdir(String tempdir) {
        this.tempdir = tempdir;
    }


    protected DescriptorHandler getDescriptorHandler(File srcDir) {
        DescriptorHandler handler = new DescriptorHandler(getTask(), srcDir);
        // register all the DTDs, both the ones that are known and
        // any supplied by the user
        handler.registerDTD(PUBLICID_EJB11, ejb11DTD);

        for (Iterator i = getConfig().dtdLocations.iterator(); i.hasNext();) {
            EjbJar.DTDLocation dtdLocation = (EjbJar.DTDLocation) i.next();

            handler.registerDTD(dtdLocation.getPublicId(), 
dtdLocation.getLocation());
        }

        return handler;
    }


    protected DescriptorHandler getWebsphereDescriptorHandler(final File 
srcDir) {
        DescriptorHandler handler =
            new DescriptorHandler(getTask(), srcDir) {
                protected void processElement() {
                }
            };

        for (Iterator i = getConfig().dtdLocations.iterator(); i.hasNext();) {
            EjbJar.DTDLocation dtdLocation = (EjbJar.DTDLocation) i.next();

            handler.registerDTD(dtdLocation.getPublicId(), 
dtdLocation.getLocation());
        }
        return handler;
    }


    /**
     * Add any vendor specific files which should be included in the EJB Jar.
     */
    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {

        String ddPrefix = (usingBaseJarName() ? &quot;&quot; : baseName);
        String dbPrefix = (dbVendor == null) ? &quot;&quot; : dbVendor + &quot;-&quot;;

        // Get the Extensions document
        File websphereEXT = new File(getConfig().descriptorDir, ddPrefix + 
WAS_EXT);

        if (websphereEXT.exists()) {
            ejbFiles.put(META_DIR + WAS_EXT,
                websphereEXT);
        } else {
            log(&quot;Unable to locate websphere extensions. &quot;
                + &quot;It was expected to be in &quot;
                + websphereEXT.getPath(), Project.MSG_VERBOSE);
        }

        File websphereBND = new File(getConfig().descriptorDir, ddPrefix + 
WAS_BND);

        if (websphereBND.exists()) {
            ejbFiles.put(META_DIR + WAS_BND,
                websphereBND);
        } else {
            log(&quot;Unable to locate websphere bindings. &quot;
                + &quot;It was expected to be in &quot;
                + websphereBND.getPath(), Project.MSG_VERBOSE);
        }

        if (!newCMP) {
            log(&quot;The old method for locating CMP files has been DEPRECATED.&quot;,
                Project.MSG_VERBOSE);
            log(&quot;Please adjust your websphere descriptor and set &quot;
                + &quot;newCMP=\&quot;true\&quot; to use the new CMP descriptor &quot;
                + &quot;inclusion mechanism. &quot;, Project.MSG_VERBOSE);
        } else {
            // We attempt to put in the MAP and Schema files of CMP beans
            try {
                // Add the Map file
                File websphereMAP = new File(getConfig().descriptorDir,
                    ddPrefix + dbPrefix + WAS_CMP_MAP);

                if (websphereMAP.exists()) {
                    ejbFiles.put(META_DIR + WAS_CMP_MAP,
                        websphereMAP);
                } else {
                    log(&quot;Unable to locate the websphere Map: &quot;
                        + websphereMAP.getPath(), Project.MSG_VERBOSE);
                }

                File websphereSchema = new File(getConfig().descriptorDir,
                    ddPrefix + dbPrefix + WAS_CMP_SCHEMA);

                if (websphereSchema.exists()) {
                    ejbFiles.put(META_DIR + SCHEMA_DIR + WAS_CMP_SCHEMA,
                        websphereSchema);
                } else {
                    log(&quot;Unable to locate the websphere Schema: &quot;
                        + websphereSchema.getPath(), Project.MSG_VERBOSE);
                }
                // Theres nothing else to see here...keep moving sonny
            } catch (Exception e) {
                String msg = &quot;Exception while adding Vendor specific files: &quot;
                    + e.toString();

                throw new BuildException(msg, e);
            }
        }
    }


    /**
     * Get the vendor specific name of the Jar that will be output. The
     * modification date of this jar will be checked against the dependent
     * bean classes.
     */
    File getVendorOutputJarFile(String baseName) {
        return new File(getDestDir(), baseName + jarSuffix);
    }


    /**
     * Gets the options for the EJB Deploy operation
     *
     * @return String
     */
    protected String getOptions() {
        // Set the options
        StringBuffer options = new StringBuffer();

        if (dbVendor != null) {
            options.append(&quot; -dbvendor &quot;).append(dbVendor);
        }
        if (dbName != null) {
            options.append(&quot; -dbname \&quot;&quot;).append(dbName).append(&quot;\&quot;&quot;);
        }

        if (dbSchema != null) {
            options.append(&quot; -dbschema \&quot;&quot;).append(dbSchema).append(&quot;\&quot;&quot;);
        }

        if (codegen) {
            options.append(&quot; -codegen&quot;);
        }

        if (quiet) {
            options.append(&quot; -quiet&quot;);
        }

        if (novalidate) {
            options.append(&quot; -novalidate&quot;);
        }

        if (nowarn) {
            options.append(&quot; -nowarn&quot;);
        }

        if (noinform) {
            options.append(&quot; -noinform&quot;);
        }

        if (trace) {
            options.append(&quot; -trace&quot;);
        }

        if (use35MappingRules) {
            options.append(&quot; -35&quot;);
        }

        if (rmicOptions != null) {
            options.append(&quot; -rmic \&quot;&quot;).append(rmicOptions).append(&quot;\&quot;&quot;);
        }

        return options.toString();
    }


    /**
     * Helper method invoked by execute() for each websphere jar to be built.
     * Encapsulates the logic of constructing a java task for calling
     * websphere.ejbdeploy and executing it.
     *
     * @param sourceJar java.io.File representing the source (EJB1.1) jarfile.
     * @param destJar java.io.File representing the destination, websphere
     *      jarfile.
     */
    private void buildWebsphereJar(File sourceJar, File destJar) {
        try {
            if (ejbdeploy) {
                Java javaTask = (Java) getTask().getProject().createTask
(&quot;java&quot;);
                // Set the JvmArgs
                javaTask.createJvmarg().setValue(&quot;-Xms64m&quot;);
                javaTask.createJvmarg().setValue(&quot;-Xmx128m&quot;);

                // Set the Environment variable
                Environment.Variable var = new Environment.Variable();

                var.setKey(&quot;websphere.lib.dir&quot;);
                File libdir = new File(websphereHome, &quot;lib&quot;);
                var.setValue(libdir.getAbsolutePath());
                javaTask.addSysproperty(var);

// this is my new code adding ws.ext.dirs command option for ejbdeploy tool
                 var = new Environment.Variable();
                    var.setKey(&quot;ws.ext.dirs&quot;);
                    var.setValue(websphereExtDirs);
                    javaTask.addSysproperty(var);

                // Set the working directory
                javaTask.setDir(websphereHome);

                // Set the Java class name
                javaTask.setTaskName(&quot;ejbdeploy&quot;);
                javaTask.setClassname(&quot;com.ibm.etools.ejbdeploy.EJBDeploy&quot;);

                javaTask.createArg().setValue(sourceJar.getPath());
                javaTask.createArg().setValue(tempdir);
                javaTask.createArg().setValue(destJar.getPath());
                javaTask.createArg().setLine(getOptions());
                if (getCombinedClasspath() != null
                    &amp;&amp; getCombinedClasspath().toString().length() &gt; 0) {
                    javaTask.createArg().setValue(&quot;-cp&quot;);
                    javaTask.createArg().setValue(getCombinedClasspath
().toString());
                }

                Path classpath = wasClasspath;

                if (classpath == null) {
                    classpath = getCombinedClasspath();
                }

                if (classpath != null) {
                    javaTask.setClasspath(classpath);
                    javaTask.setFork(true);
                } else {
                    javaTask.setFork(true);
                }

                log(&quot;Calling websphere.ejbdeploy for &quot; + sourceJar.toString(),
                    Project.MSG_VERBOSE);

                javaTask.execute();
            }
        } catch (Exception e) {
            // Have to catch this because of the semantics of calling main()
            String msg = &quot;Exception while calling ejbdeploy. Details: &quot; + 
e.toString();

            throw new BuildException(msg, e);
        }
    }


    /**
     * Method used to encapsulate the writing of the JAR file. Iterates over
     * the filenames/java.io.Files in the Hashtable stored on the instance
     * variable ejbFiles.
     */
    protected void writeJar(String baseName, File jarFile, Hashtable files, 
String publicId)
         throws BuildException {
        if (ejbdeploy) {
            // create the -generic.jar, if required
            File genericJarFile = super.getVendorOutputJarFile(baseName);

            super.writeJar(baseName, genericJarFile, files, publicId);

            // create the output .jar, if required
            if (alwaysRebuild || isRebuildRequired(genericJarFile, jarFile)) {
                buildWebsphereJar(genericJarFile, jarFile);
            }
            if (!keepGeneric) {
                log(&quot;deleting generic jar &quot; + genericJarFile.toString(),
                    Project.MSG_VERBOSE);
                genericJarFile.delete();
            }
        } else {
            // create the &quot;undeployed&quot; output .jar, if required
            super.writeJar(baseName, jarFile, files, publicId);
        }
    }


    /**
     * Called to validate that the tool parameters have been configured.
     */
    public void validateConfigured() throws BuildException {
        super.validateConfigured();
        if (ejbdeploy) {

            String home = getTask().getProject().getProperty(&quot;websphere.home&quot;);
            if (home == null) {
                throw new BuildException(&quot;The 'websphere.home' property must &quot;
                    + &quot;be set when 'ejbdeploy=true'&quot;);
            }
            websphereHome = getTask().getProject().resolveFile(home);

            // this is my new code
            /* websphereExtDirs needs to be passed to the ejbDeploy in order 
to get
             * websphere 5.x deploy tool to work ...
             */
            websphereExtDirs = getTask().getProject().getProperty
(&quot;websphere.extdirs&quot;);
            if (websphereExtDirs == null) {
                throw new BuildException(&quot;The 'websphere.home' property must &quot;
                    + &quot;be set when 'ejbdeploy=true'&quot;);
            }

        }
    }


    /**
     * Helper method to check to see if a websphere EBJ1.1 jar needs to be
     * rebuilt using ejbdeploy. Called from writeJar it sees if the &quot;Bean&quot;
     * classes are the only thing that needs to be updated and either updates
     * the Jar with the Bean classfile or returns true, saying that the whole
     * websphere jar needs to be regened with ejbdeploy. This allows faster
     * build times for working developers. &lt;p&gt;
     *
     * The way websphere ejbdeploy works is it creates wrappers for the
     * publicly defined methods as they are exposed in the remote interface.
     * If the actual bean changes without changing the the method signatures
     * then only the bean classfile needs to be updated and the rest of the
     * websphere jar file can remain the same. If the Interfaces, ie. the
     * method signatures change or if the xml deployment descriptors changed,
     * the whole jar needs to be rebuilt with ejbdeploy. This is not strictly
     * true for the xml files. If the JNDI name changes then the jar doesnt
     * have to be rebuild, but if the resources references change then it
     * does. At this point the websphere jar gets rebuilt if the xml files
     * change at all.
     *
     * @param genericJarFile java.io.File The generic jar file.
     * @param websphereJarFile java.io.File The websphere jar file to check to
     *      see if it needs to be rebuilt.
     */
    protected boolean isRebuildRequired(File genericJarFile, File 
websphereJarFile) {
        boolean rebuild = false;

        JarFile genericJar = null;
        JarFile wasJar = null;
        File newwasJarFile = null;
        JarOutputStream newJarStream = null;

        try {
            log(&quot;Checking if websphere Jar needs to be rebuilt for jar &quot;
                + websphereJarFile.getName(), Project.MSG_VERBOSE);
            // Only go forward if the generic and the websphere file both exist
            if (genericJarFile.exists() &amp;&amp; genericJarFile.isFile()
                 &amp;&amp; websphereJarFile.exists() &amp;&amp; websphereJarFile.isFile()) {
                //open jar files
                genericJar = new JarFile(genericJarFile);
                wasJar = new JarFile(websphereJarFile);

                Hashtable genericEntries = new Hashtable();
                Hashtable wasEntries = new Hashtable();
                Hashtable replaceEntries = new Hashtable();

                //get the list of generic jar entries
                for (Enumeration e = genericJar.entries(); e.hasMoreElements
();) {
                    JarEntry je = (JarEntry) e.nextElement();

                    genericEntries.put(je.getName().replace('\\', '/'), je);
                }
                //get the list of websphere jar entries
                for (Enumeration e = wasJar.entries(); e.hasMoreElements();) {
                    JarEntry je = (JarEntry) e.nextElement();

                    wasEntries.put(je.getName(), je);
                }

                //Cycle Through generic and make sure its in websphere
                ClassLoader genericLoader = getClassLoaderFromJar
(genericJarFile);

                for (Enumeration e = genericEntries.keys(); e.hasMoreElements
();) {
                    String filepath = (String) e.nextElement();

                    if (wasEntries.containsKey(filepath)) {
                        // File name/path match
                        // Check files see if same
                        JarEntry genericEntry = (JarEntry) genericEntries.get
(filepath);
                        JarEntry wasEntry = (JarEntry) wasEntries.get
(filepath);

                        if ((genericEntry.getCrc() != wasEntry.getCrc())
                            || (genericEntry.getSize() != wasEntry.getSize())) 
{

                            if (genericEntry.getName().endsWith(&quot;.class&quot;)) {
                                //File are different see if its an object or 
an interface
                                String classname
                                    = genericEntry.getName().replace
(File.separatorChar, '.');

                                classname = classname.substring(0, 
classname.lastIndexOf(&quot;.class&quot;));

                                Class genclass = genericLoader.loadClass
(classname);

                                if (genclass.isInterface()) {
                                    //Interface changed   rebuild jar.
                                    log(&quot;Interface &quot; + genclass.getName()
                                        + &quot; has changed&quot;, Project.MSG_VERBOSE);
                                    rebuild = true;
                                    break;
                                } else {
                                    //Object class Changed   update it.
                                    replaceEntries.put(filepath, genericEntry);
                                }
                            } else {
                                // is it the manifest. If so ignore it
                                if (!genericEntry.getName().equals(&quot;META-
INF/MANIFEST.MF&quot;)) {
                                    //File other then class changed   rebuild
                                    log(&quot;Non class file &quot; + 
genericEntry.getName()
                                        + &quot; has changed&quot;, Project.MSG_VERBOSE);
                                    rebuild = true;
                                }
                                break;
                            }
                        }
                    } else {
                        // a file doesn't exist rebuild

                        log(&quot;File &quot; + filepath + &quot; not present in websphere 
jar&quot;,
                            Project.MSG_VERBOSE);
                        rebuild = true;
                        break;
                    }
                }

                if (!rebuild) {
                    log(&quot;No rebuild needed - updating jar&quot;, 
Project.MSG_VERBOSE);
                    newwasJarFile = new File(websphereJarFile.getAbsolutePath
() + &quot;.temp&quot;);
                    if (newwasJarFile.exists()) {
                        newwasJarFile.delete();
                    }

                    newJarStream = new JarOutputStream(new FileOutputStream
(newwasJarFile));
                    newJarStream.setLevel(0);

                    //Copy files from old websphere jar
                    for (Enumeration e = wasEntries.elements(); 
e.hasMoreElements();) {
                        byte[] buffer = new byte[1024];
                        int bytesRead;
                        InputStream is;
                        JarEntry je = (JarEntry) e.nextElement();

                        if (je.getCompressedSize() == -1
                            || je.getCompressedSize() == je.getSize()) {
                            newJarStream.setLevel(0);
                        } else {
                            newJarStream.setLevel(9);
                        }

                        // Update with changed Bean class
                        if (replaceEntries.containsKey(je.getName())) {
                            log(&quot;Updating Bean class from generic Jar &quot; + 
je.getName(),
                                Project.MSG_VERBOSE);
                            // Use the entry from the generic jar
                            je = (JarEntry) replaceEntries.get(je.getName());
                            is = genericJar.getInputStream(je);
                        } else {
                            //use fle from original websphere jar

                            is = wasJar.getInputStream(je);
                        }
                        newJarStream.putNextEntry(new JarEntry(je.getName()));

                        while ((bytesRead = is.read(buffer)) != -1) {
                            newJarStream.write(buffer, 0, bytesRead);
                        }
                        is.close();
                    }
                } else {
                    log(&quot;websphere Jar rebuild needed due to changed &quot;
                        + &quot;interface or XML&quot;, Project.MSG_VERBOSE);
                }
            } else {
                rebuild = true;
            }
        } catch (ClassNotFoundException cnfe) {
            String cnfmsg = &quot;ClassNotFoundException while processing ejb-jar 
file&quot;
                 + &quot;. Details: &quot;
                 + cnfe.getMessage();

            throw new BuildException(cnfmsg, cnfe);
        } catch (IOException ioe) {
            String msg = &quot;IOException while processing ejb-jar file &quot;
                 + &quot;. Details: &quot;
                 + ioe.getMessage();

            throw new BuildException(msg, ioe);
        } finally {
            // need to close files and perhaps rename output
            if (genericJar != null) {
                try {
                    genericJar.close();
                } catch (IOException closeException) {
                }
            }

            if (wasJar != null) {
                try {
                    wasJar.close();
                } catch (IOException closeException) {
                }
            }

            if (newJarStream != null) {
                try {
                    newJarStream.close();
                } catch (IOException closeException) {
                }

                try {
                    FileUtils.newFileUtils().rename(newwasJarFile,
                                                    websphereJarFile);
                } catch (IOException renameException) {
                    log(renameException.getMessage(), Project.MSG_WARN);
                    rebuild = true;
                }
            }
        }

        return rebuild;
    }


    /**
     * Helper method invoked by isRebuildRequired to get a ClassLoader for a
     * Jar File passed to it.
     *
     * @param classjar java.io.File representing jar file to get classes from.
     */
    protected ClassLoader getClassLoaderFromJar(File classjar) throws 
IOException {
        Path lookupPath = new Path(getTask().getProject());

        lookupPath.setLocation(classjar);

        Path classpath = getCombinedClasspath();

        if (classpath != null) {
            lookupPath.append(classpath);
        }

        return getTask().getProject().createClassLoader(lookupPath);
    }
}","/*
 * Copyright  2001-2004 The Apache Software Foundation
 *
 *  Licensed under the Apache License, Version 2.0 (the ""License"");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an ""AS IS"" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 */
package org.apache.tools.ant.taskdefs.optional.ejb;

import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.util.Enumeration;
import java.util.Hashtable;
import java.util.Iterator;
import java.util.jar.JarEntry;
import java.util.jar.JarFile;
import java.util.jar.JarOutputStream;
import org.apache.tools.ant.BuildException;
import org.apache.tools.ant.Project;
import org.apache.tools.ant.taskdefs.Java;
import org.apache.tools.ant.types.EnumeratedAttribute;
import org.apache.tools.ant.types.Environment;
import org.apache.tools.ant.types.Path;
import org.apache.tools.ant.util.FileUtils;

/**
 * Websphere deployment tool that augments the ejbjar task.
 * Searches for the websphere specific deployment descriptors and
 * adds them to the final ejb jar file. Websphere has two specific descriptors 
for session
 * beans:
 * <ul>
 *    <li>ibm-ejb-jar-bnd.xmi</li>
 *    <li>ibm-ejb-jar-ext.xmi</li>
 * </ul>
 * and another two for container managed entity beans:
 * <ul>
 *    <li>Map.mapxmi</li>
 *    <li>Schema.dbxmi</li>
 * </ul>
 * In terms of WebSphere, the generation of container code and stubs is
 * called <code>deployment</code>. This step can be performed by the websphere
 * element as part of the jar generation process. If the switch
 * <code>ejbdeploy</code> is on, the ejbdeploy tool from the websphere toolset
 * is called for every ejb-jar. Unfortunately, this step only works, if you
 * use the ibm jdk. Otherwise, the rmic (called by ejbdeploy) throws a
 * ClassFormatError. Be sure to switch ejbdeploy off, if run ant with
 * sun jdk.
 *
 */
public class WebsphereDeploymentTool extends GenericDeploymentTool {
    /**
     * Enumerated attribute with the values for the database vendor types
     *
     */
    public static class DBVendor extends EnumeratedAttribute {
        public String[] getValues() {
            return new String[]{
                ""SQL92"", ""SQL99"", ""DB2UDBWIN_V71"", ""DB2UDBOS390_V6"", ""DB2UDBAS4
00_V4R5"",
                ""ORACLE_V8"", ""INFORMIX_V92"", ""SYBASE_V1192"", ""MSSQLSERVER_V7"", 
""MYSQL_V323""
                };
        }
    }


    public static final String PUBLICID_EJB11
         = ""-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 1.1//EN"";
    public static final String PUBLICID_EJB20
         = ""-//Sun Microsystems, Inc.//DTD Enterprise JavaBeans 2.0//EN"";
    protected static final String SCHEMA_DIR = ""Schema/"";

    protected static final String WAS_EXT = ""ibm-ejb-jar-ext.xmi"";
    protected static final String WAS_BND = ""ibm-ejb-jar-bnd.xmi"";
    protected static final String WAS_CMP_MAP = ""Map.mapxmi"";
    protected static final String WAS_CMP_SCHEMA = ""Schema.dbxmi"";

    /** Instance variable that stores the suffix for the websphere jarfile. */
    private String jarSuffix = "".jar"";

    /** Instance variable that stores the location of the ejb 1.1 DTD file. */
    private String ejb11DTD;

    /** Instance variable that determines whether generic ejb jars are kept. */

    private boolean keepGeneric = false;

    private boolean alwaysRebuild = true;

    private boolean ejbdeploy = true;

    /** Indicates if the old CMP location convention is to be used. */
    private boolean newCMP = false;

    /** The classpath to the websphere classes. */
    private Path wasClasspath = null;

    /** The DB Vendor name, the EJB is persisted against */
    private String dbVendor;

    /** The name of the database to create. (For top-down mapping only) */
    private String dbName;

    /** The name of the schema to create. (For top-down mappings only) */
    private String dbSchema;

    /** true - Only generate the deployment code, do not run RMIC or Javac */
    private boolean codegen;

    /** true - Only output error messages, suppress informational messages */
    private boolean quiet = true;

    /** true - Disable the validation steps */
    private boolean novalidate;

    /** true - Disable warning and informational messages */
    private boolean nowarn;

    /** true - Disable informational messages */
    private boolean noinform;

    /** true - Enable internal tracing */
    private boolean trace;

    /** Additional options for RMIC */
    private String rmicOptions;

    /** true- Use the WebSphere 3.5 compatible mapping rules */
    private boolean use35MappingRules;

    /** the scratchdir for the ejbdeploy operation */
    private String tempdir = ""_ejbdeploy_temp"";

    /** the home directory for websphere */
    private File websphereHome;

     private String websphereExtDirs;
    /** Get the classpath to the websphere classpaths */
    public Path createWASClasspath() {
        if (wasClasspath == null) {
            wasClasspath = new Path(getTask().getProject());
        }
        return wasClasspath.createPath();
    }


    public void setWASClasspath(Path wasClasspath) {
        this.wasClasspath = wasClasspath;
    }


    /** Sets the DB Vendor for the Entity Bean mapping ; optional.
     * Valid options are for example:
     * <ul>
     * <li>SQL92</li> <li>SQL99</li> <li>DB2UDBWIN_V71</li>
     * <li>DB2UDBOS390_V6</li> <li>DB2UDBAS400_V4R5</li> <li>ORACLE_V8</li>
     * <li>INFORMIX_V92</li> <li>SYBASE_V1192</li> <li>MYSQL_V323</li>
     * </ul>
     * This is also used to determine the name of the Map.mapxmi and
     * Schema.dbxmi files, for example Account-DB2UDBWIN_V71-Map.mapxmi
     * and Account-DB2UDBWIN_V71-Schema.dbxmi.
     */
    public void setDbvendor(DBVendor dbvendor) {
        this.dbVendor = dbvendor.getValue();
    }


    /**
     * Sets the name of the Database to create; optional.
     *
     * @param dbName name of the database
     */
    public void setDbname(String dbName) {
        this.dbName = dbName;
    }


    /**
     * Sets the name of the schema to create; optional.
     *
     * @param dbSchema name of the schema
     */
    public void setDbschema(String dbSchema) {
        this.dbSchema = dbSchema;
    }


    /**
     * Flag, default false, to only generate the deployment
     * code, do not run RMIC or Javac
     *
     * @param codegen option
     */
    public void setCodegen(boolean codegen) {
        this.codegen = codegen;
    }


    /**
     * Flag, default true, to only output error messages.
     *
     * @param quiet option
     */
    public void setQuiet(boolean quiet) {
        this.quiet = quiet;
    }


    /**
     * Flag to disable the validation steps; optional, default false.
     *
     * @param novalidate option
     */
    public void setNovalidate(boolean novalidate) {
        this.novalidate = novalidate;
    }


    /**
     * Flag to disable warning and informational messages; optional, default 
false.
     *
     * @param nowarn option
     */
    public void setNowarn(boolean nowarn) {
        this.nowarn = nowarn;
    }


    /**
     * Flag to disable informational messages; optional, default false.
     *
     * @param noinform if true disables informational messages
     */
    public void setNoinform(boolean noinform) {
        this.noinform = noinform;
    }


    /**
     * Flag to enable internal tracing when set, optional, default false.
     *
     * @param trace
     */
    public void setTrace(boolean trace) {
        this.trace = trace;
    }

    /**
     * Set the rmic options.
     *
     * @param options
     */
    public void setRmicoptions(String options) {
        this.rmicOptions = options;
    }

    /**
     * Flag to use the WebSphere 3.5 compatible mapping rules ; optional, 
default false.
     *
     * @param attr
     */
    public void setUse35(boolean attr) {
        use35MappingRules = attr;
    }


    /**
     * Set the rebuild flag to false to only update changes in the jar rather
     * than rerunning ejbdeploy; optional, default true.
     */
    public void setRebuild(boolean rebuild) {
        this.alwaysRebuild = rebuild;
    }


    /**
     * String value appended to the basename of the deployment
     * descriptor to create the filename of the WebLogic EJB
     * jar file. Optional, default '.jar'.
     * @param inString the string to use as the suffix.
     */
    public void setSuffix(String inString) {
        this.jarSuffix = inString;
    }


    /**
     * This controls whether the generic file used as input to
     * ejbdeploy is retained; optional, default false.
     * @param inValue either 'true' or 'false'.
     */
    public void setKeepgeneric(boolean inValue) {
        this.keepGeneric = inValue;
    }


    /**
     * Decide, wether ejbdeploy should be called or not;
     * optional, default true.
     *
     * @param ejbdeploy
     */
    public void setEjbdeploy(boolean ejbdeploy) {
        this.ejbdeploy = ejbdeploy;
    }


    /**
     * Setter used to store the location of the Sun's Generic EJB DTD. This
     * can be a file on the system or a resource on the classpath.
     *
     * @param inString the string to use as the DTD location.
     */
    public void setEJBdtd(String inString) {
        this.ejb11DTD = inString;
    }


    /**
     * Set the value of the oldCMP scheme. This is an antonym for newCMP
     * @ant.attribute ignore=""true""
     */
    public void setOldCMP(boolean oldCMP) {
        this.newCMP = !oldCMP;
    }


    /**
     * Set the value of the newCMP scheme. The old CMP scheme locates the
     * websphere CMP descriptor based on the naming convention where the
     * websphere CMP file is expected to be named with the bean name as the
     * prefix. Under this scheme the name of the CMP descriptor does not match
     * the name actually used in the main websphere EJB descriptor. Also,
     * descriptors which contain multiple CMP references could not be used.
     */
    public void setNewCMP(boolean newCMP) {
        this.newCMP = newCMP;
    }


    /**
     * The directory, where ejbdeploy will write temporary files;
     * optional, defaults to '_ejbdeploy_temp'.
     */

    public void setTempdir(String tempdir) {
        this.tempdir = tempdir;
    }


    protected DescriptorHandler getDescriptorHandler(File srcDir) {
        DescriptorHandler handler = new DescriptorHandler(getTask(), srcDir);
        // register all the DTDs, both the ones that are known and
        // any supplied by the user
        handler.registerDTD(PUBLICID_EJB11, ejb11DTD);

        for (Iterator i = getConfig().dtdLocations.iterator(); i.hasNext();) {
            EjbJar.DTDLocation dtdLocation = (EjbJar.DTDLocation) i.next();

            handler.registerDTD(dtdLocation.getPublicId(), 
dtdLocation.getLocation());
        }

        return handler;
    }


    protected DescriptorHandler getWebsphereDescriptorHandler(final File 
srcDir) {
        DescriptorHandler handler =
            new DescriptorHandler(getTask(), srcDir) {
                protected void processElement() {
                }
            };

        for (Iterator i = getConfig().dtdLocations.iterator(); i.hasNext();) {
            EjbJar.DTDLocation dtdLocation = (EjbJar.DTDLocation) i.next();

            handler.registerDTD(dtdLocation.getPublicId(), 
dtdLocation.getLocation());
        }
        return handler;
    }


    /**
     * Add any vendor specific files which should be included in the EJB Jar.
     */
    protected void addVendorFiles(Hashtable ejbFiles, String baseName) {

        String ddPrefix = (usingBaseJarName() ? """" : baseName);
        String dbPrefix = (dbVendor == null) ? """" : dbVendor + ""-"";

        // Get the Extensions document
        File websphereEXT = new File(getConfig().descriptorDir, ddPrefix + 
WAS_EXT);

        if (websphereEXT.exists()) {
            ejbFiles.put(META_DIR + WAS_EXT,
                websphereEXT);
        } else {
            log(""Unable to locate websphere extensions. ""
                + ""It was expected to be in ""
                + websphereEXT.getPath(), Project.MSG_VERBOSE);
        }

        File websphereBND = new File(getConfig().descriptorDir, ddPrefix + 
WAS_BND);

        if (websphereBND.exists()) {
            ejbFiles.put(META_DIR + WAS_BND,
                websphereBND);
        } else {
            log(""Unable to locate websphere bindings. ""
                + ""It was expected to be in ""
                + websphereBND.getPath(), Project.MSG_VERBOSE);
        }

        if (!newCMP) {
            log(""The old method for locating CMP files has been DEPRECATED."",
                Project.MSG_VERBOSE);
            log(""Please adjust your websphere descriptor and set ""
                + ""newCMP=\""true\"" to use the new CMP descriptor ""
                + ""inclusion mechanism. "", Project.MSG_VERBOSE);
        } else {
            // We attempt to put in the MAP and Schema files of CMP beans
            try {
                // Add the Map file
                File websphereMAP = new File(getConfig().descriptorDir,
                    ddPrefix + dbPrefix + WAS_CMP_MAP);

                if (websphereMAP.exists()) {
                    ejbFiles.put(META_DIR + WAS_CMP_MAP,
                        websphereMAP);
                } else {
                    log(""Unable to locate the websphere Map: ""
                        + websphereMAP.getPath(), Project.MSG_VERBOSE);
                }

                File websphereSchema = new File(getConfig().descriptorDir,
                    ddPrefix + dbPrefix + WAS_CMP_SCHEMA);

                if (websphereSchema.exists()) {
                    ejbFiles.put(META_DIR + SCHEMA_DIR + WAS_CMP_SCHEMA,
                        websphereSchema);
                } else {
                    log(""Unable to locate the websphere Schema: ""
                        + websphereSchema.getPath(), Project.MSG_VERBOSE);
                }
                // Theres nothing else to see here...keep moving sonny
            } catch (Exception e) {
                String msg = ""Exception while adding Vendor specific files: ""
                    + e.toString();

                throw new BuildException(msg, e);
            }
        }
    }


    /**
     * Get the vendor specific name of the Jar that will be output. The
     * modification date of this jar will be checked against the dependent
     * bean classes.
     */
    File getVendorOutputJarFile(String baseName) {
        return new File(getDestDir(), baseName + jarSuffix);
    }


    /**
     * Gets the options for the EJB Deploy operation
     *
     * @return String
     */
    protected String getOptions() {
        // Set the options
        StringBuffer options = new StringBuffer();

        if (dbVendor != null) {
            options.append("" -dbvendor "").append(dbVendor);
        }
        if (dbName != null) {
            options.append("" -dbname \"""").append(dbName).append(""\"""");
        }

        if (dbSchema != null) {
            options.append("" -dbschema \"""").append(dbSchema).append(""\"""");
        }

        if (codegen) {
            options.append("" -codegen"");
        }

        if (quiet) {
            options.append("" -quiet"");
        }

        if (novalidate) {
            options.append("" -novalidate"");
        }

        if (nowarn) {
            options.append("" -nowarn"");
        }

        if (noinform) {
            options.append("" -noinform"");
        }

        if (trace) {
            options.append("" -trace"");
        }

        if (use35MappingRules) {
            options.append("" -35"");
        }

        if (rmicOptions != null) {
            options.append("" -rmic \"""").append(rmicOptions).append(""\"""");
        }

        return options.toString();
    }


    /**
     * Helper method invoked by execute() for each websphere jar to be built.
     * Encapsulates the logic of constructing a java task for calling
     * websphere.ejbdeploy and executing it.
     *
     * @param sourceJar java.io.File representing the source (EJB1.1) jarfile.
     * @param destJar java.io.File representing the destination, websphere
     *      jarfile.
     */
    private void buildWebsphereJar(File sourceJar, File destJar) {
        try {
            if (ejbdeploy) {
                Java javaTask = (Java) getTask().getProject().createTask
(""java"");
                // Set the JvmArgs
                javaTask.createJvmarg().setValue(""-Xms64m"");
                javaTask.createJvmarg().setValue(""-Xmx128m"");

                // Set the Environment variable
                Environment.Variable var = new Environment.Variable();

                var.setKey(""websphere.lib.dir"");
                File libdir = new File(websphereHome, ""lib"");
                var.setValue(libdir.getAbsolutePath());
                javaTask.addSysproperty(var);

// this is my new code adding ws.ext.dirs command option for ejbdeploy tool
                 var = new Environment.Variable();
                    var.setKey(""ws.ext.dirs"");
                    var.setValue(websphereExtDirs);
                    javaTask.addSysproperty(var);

                // Set the working directory
                javaTask.setDir(websphereHome);

                // Set the Java class name
                javaTask.setTaskName(""ejbdeploy"");
                javaTask.setClassname(""com.ibm.etools.ejbdeploy.EJBDeploy"");

                javaTask.createArg().setValue(sourceJar.getPath());
                javaTask.createArg().setValue(tempdir);
                javaTask.createArg().setValue(destJar.getPath());
                javaTask.createArg().setLine(getOptions());
                if (getCombinedClasspath() != null
                    && getCombinedClasspath().toString().length() > 0) {
                    javaTask.createArg().setValue(""-cp"");
                    javaTask.createArg().setValue(getCombinedClasspath
().toString());
                }

                Path classpath = wasClasspath;

                if (classpath == null) {
                    classpath = getCombinedClasspath();
                }

                if (classpath != null) {
                    javaTask.setClasspath(classpath);
                    javaTask.setFork(true);
                } else {
                    javaTask.setFork(true);
                }

                log(""Calling websphere.ejbdeploy for "" + sourceJar.toString(),
                    Project.MSG_VERBOSE);

                javaTask.execute();
            }
        } catch (Exception e) {
            // Have to catch this because of the semantics of calling main()
            String msg = ""Exception while calling ejbdeploy. Details: "" + 
e.toString();

            throw new BuildException(msg, e);
        }
    }


    /**
     * Method used to encapsulate the writing of the JAR file. Iterates over
     * the filenames/java.io.Files in the Hashtable stored on the instance
     * variable ejbFiles.
     */
    protected void writeJar(String baseName, File jarFile, Hashtable files, 
String publicId)
         throws BuildException {
        if (ejbdeploy) {
            // create the -generic.jar, if required
            File genericJarFile = super.getVendorOutputJarFile(baseName);

            super.writeJar(baseName, genericJarFile, files, publicId);

            // create the output .jar, if required
            if (alwaysRebuild || isRebuildRequired(genericJarFile, jarFile)) {
                buildWebsphereJar(genericJarFile, jarFile);
            }
            if (!keepGeneric) {
                log(""deleting generic jar "" + genericJarFile.toString(),
                    Project.MSG_VERBOSE);
                genericJarFile.delete();
            }
        } else {
            // create the ""undeployed"" output .jar, if required
            super.writeJar(baseName, jarFile, files, publicId);
        }
    }


    /**
     * Called to validate that the tool parameters have been configured.
     */
    public void validateConfigured() throws BuildException {
        super.validateConfigured();
        if (ejbdeploy) {

            String home = getTask().getProject().getProperty(""websphere.home"");
            if (home == null) {
                throw new BuildException(""The 'websphere.home' property must ""
                    + ""be set when 'ejbdeploy=true'"");
            }
            websphereHome = getTask().getProject().resolveFile(home);

            // this is my new code
            /* websphereExtDirs needs to be passed to the ejbDeploy in order 
to get
             * websphere 5.x deploy tool to work ...
             */
            websphereExtDirs = getTask().getProject().getProperty
(""websphere.extdirs"");
            if (websphereExtDirs == null) {
                throw new BuildException(""The 'websphere.home' property must ""
                    + ""be set when 'ejbdeploy=true'"");
            }

        }
    }


    /**
     * Helper method to check to see if a websphere EBJ1.1 jar needs to be
     * rebuilt using ejbdeploy. Called from writeJar it sees if the ""Bean""
     * classes are the only thing that needs to be updated and either updates
     * the Jar with the Bean classfile or returns true, saying that the whole
     * websphere jar needs to be regened with ejbdeploy. This allows faster
     * build times for working developers. <p>
     *
     * The way websphere ejbdeploy works is it creates wrappers for the
     * publicly defined methods as they are exposed in the remote interface.
     * If the actual bean changes without changing the the method signatures
     * then only the bean classfile needs to be updated and the rest of the
     * websphere jar file can remain the same. If the Interfaces, ie. the
     * method signatures change or if the xml deployment descriptors changed,
     * the whole jar needs to be rebuilt with ejbdeploy. This is not strictly
     * true for the xml files. If the JNDI name changes then the jar doesnt
     * have to be rebuild, but if the resources references change then it
     * does. At this point the websphere jar gets rebuilt if the xml files
     * change at all.
     *
     * @param genericJarFile java.io.File The generic jar file.
     * @param websphereJarFile java.io.File The websphere jar file to check to
     *      see if it needs to be rebuilt.
     */
    protected boolean isRebuildRequired(File genericJarFile, File 
websphereJarFile) {
        boolean rebuild = false;

        JarFile genericJar = null;
        JarFile wasJar = null;
        File newwasJarFile = null;
        JarOutputStream newJarStream = null;

        try {
            log(""Checking if websphere Jar needs to be rebuilt for jar ""
                + websphereJarFile.getName(), Project.MSG_VERBOSE);
            // Only go forward if the generic and the websphere file both exist
            if (genericJarFile.exists() && genericJarFile.isFile()
                 && websphereJarFile.exists() && websphereJarFile.isFile()) {
                //open jar files
                genericJar = new JarFile(genericJarFile);
                wasJar = new JarFile(websphereJarFile);

                Hashtable genericEntries = new Hashtable();
                Hashtable wasEntries = new Hashtable();
                Hashtable replaceEntries = new Hashtable();

                //get the list of generic jar entries
                for (Enumeration e = genericJar.entries(); e.hasMoreElements
();) {
                    JarEntry je = (JarEntry) e.nextElement();

                    genericEntries.put(je.getName().replace('\\', '/'), je);
                }
                //get the list of websphere jar entries
                for (Enumeration e = wasJar.entries(); e.hasMoreElements();) {
                    JarEntry je = (JarEntry) e.nextElement();

                    wasEntries.put(je.getName(), je);
                }

                //Cycle Through generic and make sure its in websphere
                ClassLoader genericLoader = getClassLoaderFromJar
(genericJarFile);

                for (Enumeration e = genericEntries.keys(); e.hasMoreElements
();) {
                    String filepath = (String) e.nextElement();

                    if (wasEntries.containsKey(filepath)) {
                        // File name/path match
                        // Check files see if same
                        JarEntry genericEntry = (JarEntry) genericEntries.get
(filepath);
                        JarEntry wasEntry = (JarEntry) wasEntries.get
(filepath);

                        if ((genericEntry.getCrc() != wasEntry.getCrc())
                            || (genericEntry.getSize() != wasEntry.getSize())) 
{

                            if (genericEntry.getName().endsWith("".class"")) {
                                //File are different see if its an object or 
an interface
                                String classname
                                    = genericEntry.getName().replace
(File.separatorChar, '.');

                                classname = classname.substring(0, 
classname.lastIndexOf("".class""));

                                Class genclass = genericLoader.loadClass
(classname);

                                if (genclass.isInterface()) {
                                    //Interface changed   rebuild jar.
                                    log(""Interface "" + genclass.getName()
                                        + "" has changed"", Project.MSG_VERBOSE);
                                    rebuild = true;
                                    break;
                                } else {
                                    //Object class Changed   update it.
                                    replaceEntries.put(filepath, genericEntry);
                                }
                            } else {
                                // is it the manifest. If so ignore it
                                if (!genericEntry.getName().equals(""META-
INF/MANIFEST.MF"")) {
                                    //File other then class changed   rebuild
                                    log(""Non class file "" + 
genericEntry.getName()
                                        + "" has changed"", Project.MSG_VERBOSE);
                                    rebuild = true;
                                }
                                break;
                            }
                        }
                    } else {
                        // a file doesn't exist rebuild

                        log(""File "" + filepath + "" not present in websphere 
jar"",
                            Project.MSG_VERBOSE);
                        rebuild = true;
                        break;
                    }
                }

                if (!rebuild) {
                    log(""No rebuild needed - updating jar"", 
Project.MSG_VERBOSE);
                    newwasJarFile = new File(websphereJarFile.getAbsolutePath
() + "".temp"");
                    if (newwasJarFile.exists()) {
                        newwasJarFile.delete();
                    }

                    newJarStream = new JarOutputStream(new FileOutputStream
(newwasJarFile));
                    newJarStream.setLevel(0);

                    //Copy files from old websphere jar
                    for (Enumeration e = wasEntries.elements(); 
e.hasMoreElements();) {
                        byte[] buffer = new byte[1024];
                        int bytesRead;
                        InputStream is;
                        JarEntry je = (JarEntry) e.nextElement();

                        if (je.getCompressedSize() == -1
                            || je.getCompressedSize() == je.getSize()) {
                            newJarStream.setLevel(0);
                        } else {
                            newJarStream.setLevel(9);
                        }

                        // Update with changed Bean class
                        if (replaceEntries.containsKey(je.getName())) {
                            log(""Updating Bean class from generic Jar "" + 
je.getName(),
                                Project.MSG_VERBOSE);
                            // Use the entry from the generic jar
                            je = (JarEntry) replaceEntries.get(je.getName());
                            is = genericJar.getInputStream(je);
                        } else {
                            //use fle from original websphere jar

                            is = wasJar.getInputStream(je);
                        }
                        newJarStream.putNextEntry(new JarEntry(je.getName()));

                        while ((bytesRead = is.read(buffer)) != -1) {
                            newJarStream.write(buffer, 0, bytesRead);
                        }
                        is.close();
                    }
                } else {
                    log(""websphere Jar rebuild needed due to changed ""
                        + ""interface or XML"", Project.MSG_VERBOSE);
                }
            } else {
                rebuild = true;
            }
        } catch (ClassNotFoundException cnfe) {
            String cnfmsg = ""ClassNotFoundException while processing ejb-jar 
file""
                 + "". Details: ""
                 + cnfe.getMessage();

            throw new BuildException(cnfmsg, cnfe);
        } catch (IOException ioe) {
            String msg = ""IOException while processing ejb-jar file ""
                 + "". Details: ""
                 + ioe.getMessage();

            throw new BuildException(msg, ioe);
        } finally {
            // need to close files and perhaps rename output
            if (genericJar != null) {
                try {
                    genericJar.close();
                } catch (IOException closeException) {
                }
            }

            if (wasJar != null) {
                try {
                    wasJar.close();
                } catch (IOException closeException) {
                }
            }

            if (newJarStream != null) {
                try {
                    newJarStream.close();
                } catch (IOException closeException) {
                }

                try {
                    FileUtils.newFileUtils().rename(newwasJarFile,
                                                    websphereJarFile);
                } catch (IOException renameException) {
                    log(renameException.getMessage(), Project.MSG_WARN);
                    rebuild = true;
                }
            }
        }

        return rebuild;
    }


    /**
     * Helper method invoked by isRebuildRequired to get a ClassLoader for a
     * Jar File passed to it.
     *
     * @param classjar java.io.File representing jar file to get classes from.
     */
    protected ClassLoader getClassLoaderFromJar(File classjar) throws 
IOException {
        Path lookupPath = new Path(getTask().getProject());

        lookupPath.setLocation(classjar);

        Path classpath = getCombinedClasspath();

        if (classpath != null) {
            lookupPath.append(classpath);
        }

        return getTask().getProject().createClassLoader(lookupPath);
    }
}",105
300,28935,Description,"Mac Stevens","2004-05-12 21:30:52","Can Ant do the following?:
1. Analyze a set of source C++ files.
2. Determine the include paths needed.  In other words, the -I path compiler 
option.
3. Divide the source files into packages and build targets (static libs, 
dynamic libs, executables),
   based on directory structure and other smart rules.
4. Determine the dependencies between build targets.  Create a report 
explaining the reason for each dependency. 
5. Create Microsoft .NET project and solution files, on project file per build 
target, one solution file per package.
6. Create make files for Linux.
7. Create Visual SlickEdit workspace and project files for Linux, which use the 
Linux make files.
8. Create Doxygen control files for each package, and for the whole set of 
source code.
9. Create documentation build script(s) to put together .gif and other files in 
the 
   appropriate place relative to the doxygen-generated html.

And does it do all of the above fast enough so that individual developers don't 
need
to touch the project files, etc. when adding, removing or changing source code 
files
-- it's fast enough to just re-run Ant to do all of this, on a project of 2000 
C++
source files?","Can Ant do the following?:
1. Analyze a set of source C++ files.
2. Determine the include paths needed.  In other words, the -I path compiler 
option.
3. Divide the source files into packages and build targets (static libs, 
dynamic libs, executables),
   based on directory structure and other smart rules.
4. Determine the dependencies between build targets.  Create a report 
explaining the reason for each dependency. 
5. Create Microsoft .NET project and solution files, on project file per build 
target, one solution file per package.
6. Create make files for Linux.
7. Create Visual SlickEdit workspace and project files for Linux, which use the 
Linux make files.
8. Create Doxygen control files for each package, and for the whole set of 
source code.
9. Create documentation build script(s) to put together .gif and other files in 
the 
   appropriate place relative to the doxygen-generated html.

And does it do all of the above fast enough so that individual developers don't 
need
to touch the project files, etc. when adding, removing or changing source code 
files
-- it's fast enough to just re-run Ant to do all of this, on a project of 2000 
C++
source files?",106
301,28935,"Comment 1","Jan Mat","2004-05-13 06:57:42","In the last time Stefan did something on that direction. And he blogged some 
about his experience:

Pre-Release of .NET Ant task library
<a href=""http://stefanbodewig.blogger.de/stories/101301/"">http://stefanbodewig.blogger.de/stories/101301/</a>

WiX Task for Ant?
<a href=""http://stefanbodewig.blogger.de/stories/89184/"">http://stefanbodewig.blogger.de/stories/89184/</a>

Mono 0.31 and Ant's Sandbox .NET Library
<a href=""http://stefanbodewig.blogger.de/stories/84439/"">http://stefanbodewig.blogger.de/stories/84439/</a>

.NET Antlib Updates
<a href=""http://stefanbodewig.blogger.de/stories/23179/"">http://stefanbodewig.blogger.de/stories/23179/</a>

NAnt and MSBuild Tasks in Ant
<a href=""http://stefanbodewig.blogger.de/stories/18250/"">http://stefanbodewig.blogger.de/stories/18250/</a>","In the last time Stefan did something on that direction. And he blogged some 
about his experience:

Pre-Release of .NET Ant task library
http://stefanbodewig.blogger.de/stories/101301/

WiX Task for Ant?
http://stefanbodewig.blogger.de/stories/89184/

Mono 0.31 and Ant's Sandbox .NET Library
http://stefanbodewig.blogger.de/stories/84439/

.NET Antlib Updates
http://stefanbodewig.blogger.de/stories/23179/

NAnt and MSBuild Tasks in Ant
http://stefanbodewig.blogger.de/stories/18250/",106
302,18807,Description,cristi,"2003-04-08 12:32:38","Hi. My question is:

Is it possible to compile Pro*C files using Ant?

Well, I mean, without using the &lt;exec&gt; task.

I have some source files written using this Oracle utility.","Hi. My question is:

Is it possible to compile Pro*C files using Ant?

Well, I mean, without using the <exec> task.

I have some source files written using this Oracle utility.",107
303,46236,Description,"dev79","2008-11-18 18:35:50","tmp$ cat bigprojectlogger.xml 
&lt;project default=&quot;run&quot; basedir=&quot;sub&quot;&gt;
    &lt;import file=&quot;sub/bigprojectlogger.xml&quot;/&gt;
&lt;/project&gt;
tmp$ cat sub/bigprojectlogger.xml 
&lt;project basedir=&quot;.&quot;&gt;
    &lt;target name=&quot;run&quot;&gt;
        &lt;echo&gt;Running in: ${basedir}&lt;/echo&gt;
    &lt;/target&gt;
&lt;/project&gt;
tmp$ ant -f bigprojectlogger.xml
Buildfile: bigprojectlogger.xml

run:
Running in: /tmp/sub

BUILD SUCCESSFUL
Total time: 0 seconds
tmp$ ant -f bigprojectlogger.xml -logger org.apache.tools.ant.listener.BigProjectLogger
Buildfile: bigprojectlogger.xml

======================================================================
Entering project 
In /tmp
======================================================================

run:
Running in: /tmp

======================================================================
Exiting project 
======================================================================

BUILD SUCCESSFUL - at 11/18/08 8:34 PM
Total time: 0 seconds
tmp$ ant -f bigprojectlogger.xml -listener org.apache.tools.ant.listener.BigProjectLogger
Buildfile: bigprojectlogger.xml

BUILD FAILED
java.lang.NullPointerException
	at org.apache.tools.ant.DefaultLogger.printMessage(DefaultLogger.java:339)
	at org.apache.tools.ant.listener.BigProjectLogger.subBuildStarted(BigProjectLogger.java:124)
	at org.apache.tools.ant.listener.BigProjectLogger.buildStarted(BigProjectLogger.java:80)
	at org.apache.tools.ant.Project.fireBuildStarted(Project.java:2020)
	at org.apache.tools.ant.Main.runBuild(Main.java:706)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)

Total time: 0 seconds
java.lang.NullPointerException
	at org.apache.tools.ant.DefaultLogger.printMessage(DefaultLogger.java:339)
	at org.apache.tools.ant.listener.BigProjectLogger.subBuildFinished(BigProjectLogger.java:152)
	at org.apache.tools.ant.listener.BigProjectLogger.buildFinished(BigProjectLogger.java:89)
	at org.apache.tools.ant.Project.fireBuildFinished(Project.java:2037)
	at org.apache.tools.ant.Main.runBuild(Main.java:778)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)
tmp$","tmp$ cat bigprojectlogger.xml 
<project default=""run"" basedir=""sub"">
    <import file=""sub/bigprojectlogger.xml""/>
</project>
tmp$ cat sub/bigprojectlogger.xml 
<project basedir=""."">
    <target name=""run"">
        <echo>Running in: ${basedir}</echo>
    </target>
</project>
tmp$ ant -f bigprojectlogger.xml
Buildfile: bigprojectlogger.xml

run:
Running in: /tmp/sub

BUILD SUCCESSFUL
Total time: 0 seconds
tmp$ ant -f bigprojectlogger.xml -logger org.apache.tools.ant.listener.BigProjectLogger
Buildfile: bigprojectlogger.xml

======================================================================
Entering project 
In /tmp
======================================================================

run:
Running in: /tmp

======================================================================
Exiting project 
======================================================================

BUILD SUCCESSFUL - at 11/18/08 8:34 PM
Total time: 0 seconds
tmp$ ant -f bigprojectlogger.xml -listener org.apache.tools.ant.listener.BigProjectLogger
Buildfile: bigprojectlogger.xml

BUILD FAILED
java.lang.NullPointerException
	at org.apache.tools.ant.DefaultLogger.printMessage(DefaultLogger.java:339)
	at org.apache.tools.ant.listener.BigProjectLogger.subBuildStarted(BigProjectLogger.java:124)
	at org.apache.tools.ant.listener.BigProjectLogger.buildStarted(BigProjectLogger.java:80)
	at org.apache.tools.ant.Project.fireBuildStarted(Project.java:2020)
	at org.apache.tools.ant.Main.runBuild(Main.java:706)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)

Total time: 0 seconds
java.lang.NullPointerException
	at org.apache.tools.ant.DefaultLogger.printMessage(DefaultLogger.java:339)
	at org.apache.tools.ant.listener.BigProjectLogger.subBuildFinished(BigProjectLogger.java:152)
	at org.apache.tools.ant.listener.BigProjectLogger.buildFinished(BigProjectLogger.java:89)
	at org.apache.tools.ant.Project.fireBuildFinished(Project.java:2037)
	at org.apache.tools.ant.Main.runBuild(Main.java:778)
	at org.apache.tools.ant.Main.startAnt(Main.java:217)
	at org.apache.tools.ant.launch.Launcher.run(Launcher.java:257)
	at org.apache.tools.ant.launch.Launcher.main(Launcher.java:104)
tmp$",108
304,46236,"Comment 1","dev1","2008-11-18 21:45:10","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_CLOSED  bz_closed"" title=""CLOSED FIXED - BigProjectLogger screws up basedir."" href=""show_bug.cgi?id=45607"">bug 45607</a> ***","*** This bug has been marked as a duplicate of bug 45607 ***",108
305,44915,Description,David,"2008-05-01 09:18:43","I have a 'clean' target which deletes my build/lib and dist directories.

I encountered a build error after build/lib was created and when I re-ran ant I get a error &quot;48: Jar's directory not found&quot;.  Line 48 is the manifestclasspath piece.

Re-running with 'ant clean' gets same error, even though 'clean' never attempts to create the jar and hence should never need to look to the manifestclasspath.

Removing manifestclasspath, rebuilding, adding manifestclasspath and rebuilding is the workaround I am using.

Incidentally if you put a full dependency (e.g. ant 'all') for clean,copystatic,compile,jar,install there is NO error encountered so full successful builds aren't affected by this issue.","I have a 'clean' target which deletes my build/lib and dist directories.

I encountered a build error after build/lib was created and when I re-ran ant I get a error ""48: Jar's directory not found"".  Line 48 is the manifestclasspath piece.

Re-running with 'ant clean' gets same error, even though 'clean' never attempts to create the jar and hence should never need to look to the manifestclasspath.

Removing manifestclasspath, rebuilding, adding manifestclasspath and rebuilding is the workaround I am using.

Incidentally if you put a full dependency (e.g. ant 'all') for clean,copystatic,compile,jar,install there is NO error encountered so full successful builds aren't affected by this issue.",109
306,44915,"Comment 1","dev77","2008-05-01 09:29:08","There is not enough information here to debug your build file. 

Please try to make the smallest build file that shows the
issue and add it as an attachment to the bug report.","There is not enough information here to debug your build file. 

Please try to make the smallest build file that shows the
issue and add it as an attachment to the bug report.",109
307,44915,"Comment 2",David,"2008-05-01 10:14:26","&lt;project name=&quot;SomeApplication&quot; default=&quot;all&quot;&gt;

    &lt;!-- PROJECT BASE / MAIN CLASS --&gt;
    &lt;property name=&quot;basedir&quot; value=&quot;.&quot; /&gt;
    &lt;property name=&quot;main.class&quot; value=&quot;com.anyapps.start.${ant.project.name}&quot; /&gt;
	
    &lt;!-- BUILD DIRECTORIES --&gt;
    &lt;property name=&quot;source.dir&quot; value=&quot;${basedir}/src&quot; /&gt;
    &lt;property name=&quot;build.dir&quot; value=&quot;${basedir}/build&quot; /&gt;
    &lt;property name=&quot;classes.dir&quot; value=&quot;${build.dir}/classes&quot; /&gt;
    &lt;property name=&quot;jar.dir&quot; value=&quot;${build.dir}/jar&quot; /&gt;
    &lt;property name=&quot;jar.lib.dir&quot; value=&quot;${jar.dir}/lib&quot; /&gt;
	
    &lt;!-- DIST DIRECTORIES (see install target) --&gt;
    &lt;property name=&quot;dist.dir&quot; value=&quot;${basedir}/dist&quot; /&gt;
    &lt;property name=&quot;lib.dir&quot; value=&quot;${dist.dir}/lib&quot; /&gt;
	
    &lt;target name=&quot;clean&quot;&gt;
        &lt;delete dir=&quot;${build.dir}&quot; /&gt;
        &lt;mkdir dir=&quot;${build.dir&quot; /&gt;
        &lt;mkdir dir=&quot;${classes.dir}&quot; /&gt;
    &lt;/target&gt;
	
    &lt;target name=&quot;copylib&quot; depends=&quot;clean&quot;&gt;
        &lt;delete dir=&quot;${dist.dir}&quot; /&gt;
        &lt;mkdir dir=&quot;${dist.dir}&quot; /&gt;
        &lt;mkdir dir=&quot;${jar.dir}&quot; /&gt;
        &lt;mkdir dir=&quot;${jar.lib.dir}&quot; /&gt;
        &lt;copy todir=&quot;${jar.lib.dir}&quot; overwrite=&quot;true&quot;&gt; &lt;!-- Copy Spring/Hibernate/JDBC libraries etc. --&gt;
            &lt;fileset dir=&quot;${basedir}/lib&quot; /&gt;
        &lt;/copy&gt;
        &lt;mkdir dir=&quot;${lib.dir}&quot; /&gt;
        &lt;copy todir=&quot;${lib.dir}&quot; overwrite=&quot;true&quot;&gt;
            &lt;fileset dir=&quot;${basedir}/lib&quot; /&gt;
        &lt;/copy&gt;
    &lt;/target&gt;
   
	&lt;path id=&quot;build.classpath&quot;&gt;
		&lt;fileset dir=&quot;${jar.lib.dir}&quot; includes=&quot;*.jar&quot; /&gt;
	&lt;/path&gt;
	
    &lt;target name=&quot;compile&quot;&gt;
        &lt;javac srcdir=&quot;${source.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;build.classpath&quot; /&gt;
    &lt;/target&gt;
	
    &lt;manifestclasspath property=&quot;jar.classpath&quot; jarfile=&quot;${jar.dir}/classpathjar.jar&quot;&gt;
        &lt;classpath refid=&quot;build.classpath&quot; /&gt;
    &lt;/manifestclasspath&gt;
		
    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;
        &lt;copy todir=&quot;${classes.dir}&quot;&gt; &lt;!-- Copy Hibernate, log4J config files etc. --&gt;
            &lt;fileset dir=&quot;${source.dir}&quot; exclude=&quot;**/*.java&quot; /&gt;
        &lt;/copy&gt;
        &lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot; index=&quot;no&quot;&gt;
            &lt;manifest&gt;
                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot; /&gt;
                &lt;attribute name=&quot;Created-By&quot; value=&quot;DG&quot; /&gt;
                &lt;attribute name=&quot;Class-Path&quot; value=&quot;${jar-classpath}&quot; /&gt;
            &lt;/manifest&gt;
        &lt;/jar&gt;
    &lt;/target&gt;
    
    &lt;target name=&quot;install&quot;&gt;
        &lt;copy file=&quot;${jar.dir}/${ant.project.name}.jar&quot; todir=&quot;${dist.dir}&quot; /&gt;
    &lt;/target&gt;

    &lt;target name=&quot;all&quot; depends=&quot;copylib, jar, install&quot; /&gt;
        
&lt;/project&gt;","<project name=""SomeApplication"" default=""all"">

    <!-- PROJECT BASE / MAIN CLASS -->
    <property name=""basedir"" value=""."" />
    <property name=""main.class"" value=""com.anyapps.start.${ant.project.name}"" />
	
    <!-- BUILD DIRECTORIES -->
    <property name=""source.dir"" value=""${basedir}/src"" />
    <property name=""build.dir"" value=""${basedir}/build"" />
    <property name=""classes.dir"" value=""${build.dir}/classes"" />
    <property name=""jar.dir"" value=""${build.dir}/jar"" />
    <property name=""jar.lib.dir"" value=""${jar.dir}/lib"" />
	
    <!-- DIST DIRECTORIES (see install target) -->
    <property name=""dist.dir"" value=""${basedir}/dist"" />
    <property name=""lib.dir"" value=""${dist.dir}/lib"" />
	
    <target name=""clean"">
        <delete dir=""${build.dir}"" />
        <mkdir dir=""${build.dir"" />
        <mkdir dir=""${classes.dir}"" />
    </target>
	
    <target name=""copylib"" depends=""clean"">
        <delete dir=""${dist.dir}"" />
        <mkdir dir=""${dist.dir}"" />
        <mkdir dir=""${jar.dir}"" />
        <mkdir dir=""${jar.lib.dir}"" />
        <copy todir=""${jar.lib.dir}"" overwrite=""true""> <!-- Copy Spring/Hibernate/JDBC libraries etc. -->
            <fileset dir=""${basedir}/lib"" />
        </copy>
        <mkdir dir=""${lib.dir}"" />
        <copy todir=""${lib.dir}"" overwrite=""true"">
            <fileset dir=""${basedir}/lib"" />
        </copy>
    </target>
   
	<path id=""build.classpath"">
		<fileset dir=""${jar.lib.dir}"" includes=""*.jar"" />
	</path>
	
    <target name=""compile"">
        <javac srcdir=""${source.dir}"" destdir=""${classes.dir}"" classpathref=""build.classpath"" />
    </target>
	
    <manifestclasspath property=""jar.classpath"" jarfile=""${jar.dir}/classpathjar.jar"">
        <classpath refid=""build.classpath"" />
    </manifestclasspath>
		
    <target name=""jar"" depends=""compile"">
        <copy todir=""${classes.dir}""> <!-- Copy Hibernate, log4J config files etc. -->
            <fileset dir=""${source.dir}"" exclude=""**/*.java"" />
        </copy>
        <jar destfile=""${jar.dir}/${ant.project.name}.jar"" basedir=""${classes.dir}"" index=""no"">
            <manifest>
                <attribute name=""Main-Class"" value=""${main.class}"" />
                <attribute name=""Created-By"" value=""DG"" />
                <attribute name=""Class-Path"" value=""${jar-classpath}"" />
            </manifest>
        </jar>
    </target>
    
    <target name=""install"">
        <copy file=""${jar.dir}/${ant.project.name}.jar"" todir=""${dist.dir}"" />
    </target>

    <target name=""all"" depends=""copylib, jar, install"" />
        
</project>",109
308,44915,"Comment 3",David,"2008-05-01 10:21:52","Incidentally if I specified index=&quot;true&quot; when building the jar the classpath in the classpath specified in teh manifest is NOT searched.

I think this could trip a lot of people up.  Recommend a warning in the build output that manifestclasspath and index=&quot;true&quot; cancel each other out.","Incidentally if I specified index=""true"" when building the jar the classpath in the classpath specified in teh manifest is NOT searched.

I think this could trip a lot of people up.  Recommend a warning in the build output that manifestclasspath and index=""true"" cancel each other out.",109
309,44915,"Comment 4","dev77","2008-05-01 10:25:22","Thanks,
the build file contains a &lt;manifestclasspath&gt; task
outside a &lt;target&gt;, this means that it gets
run before any target.

The manifestclasspath task will fail if
there is no directory for the task.

move the manifestclasspath task to
the line before the &lt;jar&gt;, or any
time after the classpath dir is made
(for example after the &lt;mkdir&gt; task
in the &quot;copylib&quot;.

I notice that the &quot;compile&quot; target
does not depend on the &quot;copylib&quot; target.
It is good practice to declare all the target
dependencies.
Peter","Thanks,
the build file contains a <manifestclasspath> task
outside a <target>, this means that it gets
run before any target.

The manifestclasspath task will fail if
there is no directory for the task.

move the manifestclasspath task to
the line before the <jar>, or any
time after the classpath dir is made
(for example after the <mkdir> task
in the ""copylib"".

I notice that the ""compile"" target
does not depend on the ""copylib"" target.
It is good practice to declare all the target
dependencies.
Peter",109
310,44915,"Comment 5","dev1","2008-09-26 05:04:52","does it fail if manifestclasspath is inside a target?","does it fail if manifestclasspath is inside a target?",109
311,44915,"Comment 6","dev1","2008-11-17 09:12:17","please reopen when more information is available","please reopen when more information is available",109
312,44267,Description,"Shivanand S Yadrami","2008-01-18 05:42:44","I have upgraded my JDK 5.0 Update 10 to JDK 5.0 Update 14. After updating, I am
unable to run the ant tool from cygwin. 

The same thing is working when I run the ant from CMD. 

Below is the error message what I am getting: 

Error: JAVA_HOME is not defined correctly.
  We cannot execute /cygdrive/c/Java/jdk14/bin/java

I have set the JAVA_HOME properly and interesting thing is; I am able to run all
the java commands from the cygwin. 

It is clearly seen from ant.sh that you are setting JAVACMD like this:
JAVACMD=&quot;$JAVA_HOME/bin/java&quot;, which is correct. 

However when I try to execute the below command, I am getting the proper message. 
$ $JAVA_HOME/bin/java.exe
Usage: java [-options] class [args...]
           (to execute a class)
   or  java [-options] -jar jarfile [args...]
           (to execute a jar file)

where options include:
    -client       to select the &quot;client&quot; VM
    -server       to select the &quot;server&quot; VM
    -hotspot      is a synonym for the &quot;client&quot; VM  [deprecated]
                  The default VM is client.

    -cp &lt;class search path of directories and zip/jar files&gt;
    -classpath &lt;class search path of directories and zip/jar files&gt;
                  A ; separated list of directories, JAR archives,
                  and ZIP archives to search for class files.
    -D&lt;name&gt;=&lt;value&gt;
                  set a system property
    -verbose[:class|gc|jni]
                  enable verbose output
    -version      print product version and exit
    -version:&lt;value&gt;
                  require the specified version to run
    -showversion  print product version and continue
    -jre-restrict-search | -jre-no-restrict-search
                  include/exclude user private JREs in the version search
    -? -help      print this help message
    -X            print help on non-standard options
    -ea[:&lt;packagename&gt;...|:&lt;classname&gt;]
    -enableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]
                  enable assertions
    -da[:&lt;packagename&gt;...|:&lt;classname&gt;]
    -disableassertions[:&lt;packagename&gt;...|:&lt;classname&gt;]
                  disable assertions
    -esa | -enablesystemassertions
                  enable system assertions
    -dsa | -disablesystemassertions
                  disable system assertions
    -agentlib:&lt;libname&gt;[=&lt;options&gt;]
                  load native agent library &lt;libname&gt;, e.g. -agentlib:hprof
                    see also, -agentlib:jdwp=help and -agentlib:hprof=help
    -agentpath:&lt;pathname&gt;[=&lt;options&gt;]
                  load native agent library by full pathname
    -javaagent:&lt;jarpath&gt;[=&lt;options&gt;]
                  load Java programming language agent, see java.lang.instrument

From my basic tests, it seems JAVA_HOME &amp; cygwin setting are proper.

Please look at this issue &amp; correct if any thing wrong with my end. 

Please suggest me if you have any work around for this.","I have upgraded my JDK 5.0 Update 10 to JDK 5.0 Update 14. After updating, I am
unable to run the ant tool from cygwin. 

The same thing is working when I run the ant from CMD. 

Below is the error message what I am getting: 

Error: JAVA_HOME is not defined correctly.
  We cannot execute /cygdrive/c/Java/jdk14/bin/java

I have set the JAVA_HOME properly and interesting thing is; I am able to run all
the java commands from the cygwin. 

It is clearly seen from ant.sh that you are setting JAVACMD like this:
JAVACMD=""$JAVA_HOME/bin/java"", which is correct. 

However when I try to execute the below command, I am getting the proper message. 
$ $JAVA_HOME/bin/java.exe
Usage: java [-options] class [args...]
           (to execute a class)
   or  java [-options] -jar jarfile [args...]
           (to execute a jar file)

where options include:
    -client       to select the ""client"" VM
    -server       to select the ""server"" VM
    -hotspot      is a synonym for the ""client"" VM  [deprecated]
                  The default VM is client.

    -cp <class search path of directories and zip/jar files>
    -classpath <class search path of directories and zip/jar files>
                  A ; separated list of directories, JAR archives,
                  and ZIP archives to search for class files.
    -D<name>=<value>
                  set a system property
    -verbose[:class|gc|jni]
                  enable verbose output
    -version      print product version and exit
    -version:<value>
                  require the specified version to run
    -showversion  print product version and continue
    -jre-restrict-search | -jre-no-restrict-search
                  include/exclude user private JREs in the version search
    -? -help      print this help message
    -X            print help on non-standard options
    -ea[:<packagename>...|:<classname>]
    -enableassertions[:<packagename>...|:<classname>]
                  enable assertions
    -da[:<packagename>...|:<classname>]
    -disableassertions[:<packagename>...|:<classname>]
                  disable assertions
    -esa | -enablesystemassertions
                  enable system assertions
    -dsa | -disablesystemassertions
                  disable system assertions
    -agentlib:<libname>[=<options>]
                  load native agent library <libname>, e.g. -agentlib:hprof
                    see also, -agentlib:jdwp=help and -agentlib:hprof=help
    -agentpath:<pathname>[=<options>]
                  load native agent library by full pathname
    -javaagent:<jarpath>[=<options>]
                  load Java programming language agent, see java.lang.instrument

From my basic tests, it seems JAVA_HOME & cygwin setting are proper.

Please look at this issue & correct if any thing wrong with my end. 

Please suggest me if you have any work around for this.",110
313,44267,"Comment 1","dev77","2008-01-18 07:50:52","Ant does not know that you are using cygwin,
the directory \cygwin\c does not exist:
from a command line (cmd):
&quot;&quot;&quot;
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\reilly&gt;dir \cygwin\c
The system cannot find the file specified.

C:\Documents and Settings\reilly&gt;
&quot;&quot;&quot;","Ant does not know that you are using cygwin,
the directory \cygwin\c does not exist:
from a command line (cmd):
""""""
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\Documents and Settings\reilly>dir \cygwin\c
The system cannot find the file specified.

C:\Documents and Settings\reilly>
""""""",110
314,44267,"Comment 2","Shivanand S Yadrami","2008-01-18 08:16:59","I am able to execute $JAVACMD succssfully from cygwin. But the ant.sh is saying
we can execute $JAVACMD.

May I know what this below code does?
if [ ! -x &quot;$JAVACMD&quot; ] ; then
  echo &quot;Error: JAVA_HOME is not defined correctly.&quot;
  echo &quot;  We cannot execute $JAVACMD&quot;
  exit 1
fi

If I put $JAVACMD just above this code, it is executing the $JAVACMD.

This is happening only when I upgrde the JDK from Update 10 to 14 or 13.","I am able to execute $JAVACMD succssfully from cygwin. But the ant.sh is saying
we can execute $JAVACMD.

May I know what this below code does?
if [ ! -x ""$JAVACMD"" ] ; then
  echo ""Error: JAVA_HOME is not defined correctly.""
  echo ""  We cannot execute $JAVACMD""
  exit 1
fi

If I put $JAVACMD just above this code, it is executing the $JAVACMD.

This is happening only when I upgrde the JDK from Update 10 to 14 or 13.",110
315,44267,"Comment 3","dev1","2008-08-25 09:53:44","-x means &quot;check whether the file is executable&quot; and I have no idea how this check is implemented in Cygwin.

I've been running Ant via Cygwin with various different JDKs and never seen this.  Right now it works quite well for Java6 Update 7, for example.

There has been <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Startup script produces error on Cygwin if JAVA_HOME is undefined"" href=""show_bug.cgi?id=45245"">bug 45245</a> that made sure JAVA_HOME was set to be a Windows path before executing Java, maybe what you see is a side effect of this?  Could you please download <a href=""http://svn.eu.apache.org/viewvc/ant/core/trunk/src/script/ant?view=co"">http://svn.eu.apache.org/viewvc/ant/core/trunk/src/script/ant?view=co</a> and verify that the problem still exists/has been fixed by this?","-x means ""check whether the file is executable"" and I have no idea how this check is implemented in Cygwin.

I've been running Ant via Cygwin with various different JDKs and never seen this.  Right now it works quite well for Java6 Update 7, for example.

There has been bug 45245 that made sure JAVA_HOME was set to be a Windows path before executing Java, maybe what you see is a side effect of this?  Could you please download http://svn.eu.apache.org/viewvc/ant/core/trunk/src/script/ant?view=co and verify that the problem still exists/has been fixed by this?",110
316,36156,Description,Raj,"2005-08-12 07:34:49","Increased heap size in .bash_profile 

export ANT_OPTS=&quot;-Xms2548m -Xmx2548m&quot;

Been a AS/400 guy, into linux/ant build stuff now. Going crazy. The build is 
huge application and has multiple XMLs.

Verbose log

      [jar] adding entry 
com/yantra/ycp/customdb/YFS_Agent_Criteria_TemplateImpl.class
      [jar] adding entry 
com/yantra/ycp/customdb/YFS_Answer_Capacity_ImpactImpl.class
      [jar] adding entry com/yantra/ycp/customdb/YFS_Answer_MasterImpl.class
      [ant] Exiting /app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml.
java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
        at java.util.zip.Inflater.init(Native Method)
        at java.util.zip.Inflater.&lt;init&gt;(Inflater.java(Compiled Code))
        at java.util.zip.ZipFile.getInflater(ZipFile.java:284)
        at java.util.zip.ZipFile.getInputStream(ZipFile.java:228)
        at java.util.zip.ZipFile.getInputStream(ZipFile.java:207)
        at java.util.jar.JarFile.getInputStream(JarFile.java:420)
        at sun.misc.URLClassPath$5.getInputStream(URLClassPath.java:678)
        at sun.misc.Resource.getBytes(Resource.java:75)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:471)
        at java.net.URLClassLoader.access$500(URLClassLoader.java(Inlined 
Compiled Code))
        at java.net.URLClassLoader$ClassFinder.run(URLClassLoader.java
(Compiled Code))
        at java.security.AccessController.doPrivileged1(Native Method)
        at java.security.AccessController.doPrivileged(AccessController.java
(Compiled Code))
        at java.net.URLClassLoader.findClass(URLClassLoader.java(Compiled 
Code))
        at java.lang.ClassLoader.loadClass(ClassLoader.java(Compiled Code))
        at java.lang.ClassLoader.loadClass(ClassLoader.java:494)
        at org.apache.tools.ant.DefaultLogger.formatTime
(DefaultLogger.java:276)
        at org.apache.tools.ant.DefaultLogger.buildFinished
(DefaultLogger.java:156)
        at org.apache.tools.ant.Project.fireBuildFinished(Project.java:1796)
        at org.apache.tools.ant.Main.runBuild(Main.java:693)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2","Increased heap size in .bash_profile 

export ANT_OPTS=""-Xms2548m -Xmx2548m""

Been a AS/400 guy, into linux/ant build stuff now. Going crazy. The build is 
huge application and has multiple XMLs.

Verbose log

      [jar] adding entry 
com/yantra/ycp/customdb/YFS_Agent_Criteria_TemplateImpl.class
      [jar] adding entry 
com/yantra/ycp/customdb/YFS_Answer_Capacity_ImpactImpl.class
      [jar] adding entry com/yantra/ycp/customdb/YFS_Answer_MasterImpl.class
      [ant] Exiting /app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml.
java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
        at java.util.zip.Inflater.init(Native Method)
        at java.util.zip.Inflater.<init>(Inflater.java(Compiled Code))
        at java.util.zip.ZipFile.getInflater(ZipFile.java:284)
        at java.util.zip.ZipFile.getInputStream(ZipFile.java:228)
        at java.util.zip.ZipFile.getInputStream(ZipFile.java:207)
        at java.util.jar.JarFile.getInputStream(JarFile.java:420)
        at sun.misc.URLClassPath$5.getInputStream(URLClassPath.java:678)
        at sun.misc.Resource.getBytes(Resource.java:75)
        at java.net.URLClassLoader.defineClass(URLClassLoader.java:471)
        at java.net.URLClassLoader.access$500(URLClassLoader.java(Inlined 
Compiled Code))
        at java.net.URLClassLoader$ClassFinder.run(URLClassLoader.java
(Compiled Code))
        at java.security.AccessController.doPrivileged1(Native Method)
        at java.security.AccessController.doPrivileged(AccessController.java
(Compiled Code))
        at java.net.URLClassLoader.findClass(URLClassLoader.java(Compiled 
Code))
        at java.lang.ClassLoader.loadClass(ClassLoader.java(Compiled Code))
        at java.lang.ClassLoader.loadClass(ClassLoader.java:494)
        at org.apache.tools.ant.DefaultLogger.formatTime
(DefaultLogger.java:276)
        at org.apache.tools.ant.DefaultLogger.buildFinished
(DefaultLogger.java:156)
        at org.apache.tools.ant.Project.fireBuildFinished(Project.java:1796)
        at org.apache.tools.ant.Main.runBuild(Main.java:693)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2",111
317,36156,"Comment 1","Alexey Solofnenko","2005-08-12 08:20:55","Do you use XML logger?","Do you use XML logger?",111
318,36156,"Comment 2",Raj,"2005-08-12 08:26:35","(In reply to <a href=""show_bug.cgi?id=36156#c1"">comment #1</a>)
<span class=""quote"">&gt; Do you use XML logger?</span>

No, I am not familiar with XML logger. Is it something I can download into a 
user directory in Linux and use for debugging purpose?
Thanks for replying.","(In reply to comment #1)
> Do you use XML logger?

No, I am not familiar with XML logger. Is it something I can download into a 
user directory in Linux and use for debugging purpose?
Thanks for replying.",111
319,36156,"Comment 3","Alexey Solofnenko","2005-08-12 08:37:36","ANT can output its result in XML format. Can you isolate the target(s) that
require a lot of memory? The target that finally crashes is not always the
reason for the crash. Do you use scripts and/or third party tasks?

What ANT version are you using on Linux?","ANT can output its result in XML format. Can you isolate the target(s) that
require a lot of memory? The target that finally crashes is not always the
reason for the crash. Do you use scripts and/or third party tasks?

What ANT version are you using on Linux?",111
320,36156,"Comment 4",Raj,"2005-08-12 08:47:00","(In reply to <a href=""show_bug.cgi?id=36156#c3"">comment #3</a>)
<span class=""quote"">&gt; ANT can output its result in XML format. Can you isolate the target(s) that
&gt; require a lot of memory? The target that finally crashes is not always the
&gt; reason for the crash. Do you use scripts and/or third party tasks?
&gt; What ANT version are you using on Linux?</span>

I am using apache-ant-1.6.2 Most of the Ant script was written by me using a 
different project ANT script as template. 

Here is what happend in the last few minutes:
Changed .bash_profile to export ANT_OPTS=&quot;-Xmx1536m -Xms256m&quot; based on input 
from ASF Bugzilla <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED INVALID - java.lang.OutOfMemoryError"" href=""show_bug.cgi?id=28261"">Bug 28261</a>. It helped to get over the OutOfMemoryError and 
ended in SCP error &quot;pipe closed&quot;. I have listed the output below, ,but I am 
still worried about the OutOfMemoryError. I am suspicious that it will come 
again.

Thanks

   [untar] expanding yantraClusterDeploy.jacl 
to /app/yandev00/NOMSbuild/artifacts/temp/yantraClusterDeploy.jacl
    [untar] expand complete
      [scp] Connecting to fralnxnmsapp4:22
      [scp] Sending: yantraDeploy.jacl : 9332
      [scp] File transfer time: 0.07 Average Rate: 137,235.29 B/s
      [scp] done.
      [scp] Connecting to fralnxnmsapp4:22
      [scp] Sending: yantra.ear : 144780871
      [scp] File transfer time: 187.65 Average Rate: 771,535.07 B/s
      [scp] done.
      [scp] Connecting to fralnxnmsapp4:22
      [scp] Sending: yantraFiles.tar : 1285427200
      [scp] KEXINIT
      [scp] File transfer time: 1,182.28 Average Rate: 906,975.61 B/s
      [ant] Exiting /app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml.

BUILD FAILED
/app/yandev00/NOMSbuild/build1.xml:145: The following error occurred while 
executing this line:
/app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml:474: 
java.io.IOException: Pipe closed
        at org.apache.tools.ant.ProjectHelper.addLocationToBuildException
(ProjectHelper.java:539)
        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: /app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml:474: 
java.io.IOException: Pipe closed
        at org.apache.tools.ant.taskdefs.optional.ssh.Scp.execute(Scp.java:187)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)","(In reply to comment #3)
> ANT can output its result in XML format. Can you isolate the target(s) that
> require a lot of memory? The target that finally crashes is not always the
> reason for the crash. Do you use scripts and/or third party tasks?
> What ANT version are you using on Linux?

I am using apache-ant-1.6.2 Most of the Ant script was written by me using a 
different project ANT script as template. 

Here is what happend in the last few minutes:
Changed .bash_profile to export ANT_OPTS=""-Xmx1536m -Xms256m"" based on input 
from ASF Bugzilla Bug 28261. It helped to get over the OutOfMemoryError and 
ended in SCP error ""pipe closed"". I have listed the output below, ,but I am 
still worried about the OutOfMemoryError. I am suspicious that it will come 
again.

Thanks

   [untar] expanding yantraClusterDeploy.jacl 
to /app/yandev00/NOMSbuild/artifacts/temp/yantraClusterDeploy.jacl
    [untar] expand complete
      [scp] Connecting to fralnxnmsapp4:22
      [scp] Sending: yantraDeploy.jacl : 9332
      [scp] File transfer time: 0.07 Average Rate: 137,235.29 B/s
      [scp] done.
      [scp] Connecting to fralnxnmsapp4:22
      [scp] Sending: yantra.ear : 144780871
      [scp] File transfer time: 187.65 Average Rate: 771,535.07 B/s
      [scp] done.
      [scp] Connecting to fralnxnmsapp4:22
      [scp] Sending: yantraFiles.tar : 1285427200
      [scp] KEXINIT
      [scp] File transfer time: 1,182.28 Average Rate: 906,975.61 B/s
      [ant] Exiting /app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml.

BUILD FAILED
/app/yandev00/NOMSbuild/build1.xml:145: The following error occurred while 
executing this line:
/app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml:474: 
java.io.IOException: Pipe closed
        at org.apache.tools.ant.ProjectHelper.addLocationToBuildException
(ProjectHelper.java:539)
        at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:388)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)
        at org.apache.tools.ant.Target.execute(Target.java:341)
        at org.apache.tools.ant.Target.performTasks(Target.java:369)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1214)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1062)
        at org.apache.tools.ant.Main.runBuild(Main.java:673)
        at org.apache.tools.ant.Main.startAnt(Main.java:188)
        at org.apache.tools.ant.launch.Launcher.run(Launcher.java:196)
        at org.apache.tools.ant.launch.Launcher.main(Launcher.java:55)
Caused by: /app/yandev00/NOMSbuild/deploy/script/yantraBuild.xml:474: 
java.io.IOException: Pipe closed
        at org.apache.tools.ant.taskdefs.optional.ssh.Scp.execute(Scp.java:187)
        at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
        at org.apache.tools.ant.Task.perform(Task.java:364)",111
321,36156,"Comment 5","dev11","2005-08-12 14:14:13","if something is causing you to run out of that much memory, you have a serious
problem.

1. are there any &lt;java&gt; things you run, especially your own/custom apps that run
with fork=false. Fork them into new JVMs

2. are there any custom tasks you use? XDoclet?

3. Java 1.5 has fancy stuff for monitoring the memory consumption of a running
app; the jconsole stuff. If you are running java1.5, look at the jconsole docs
and configure Ant to run in a monitorable state...then look at where memory is
going.","if something is causing you to run out of that much memory, you have a serious
problem.

1. are there any <java> things you run, especially your own/custom apps that run
with fork=false. Fork them into new JVMs

2. are there any custom tasks you use? XDoclet?

3. Java 1.5 has fancy stuff for monitoring the memory consumption of a running
app; the jconsole stuff. If you are running java1.5, look at the jconsole docs
and configure Ant to run in a monitorable state...then look at where memory is
going.",111
322,36156,"Comment 6","dev11","2006-07-04 22:37:44","Raj,

Have you made any progress on finding the cause of this problem? Did you try our
suggestions?","Raj,

Have you made any progress on finding the cause of this problem? Did you try our
suggestions?",111
323,36156,"Comment 7","dev77","2006-09-18 00:27:44","Either a configuration problem, complex script orlarge
code base. Marking as invalid - insufficient info","Either a configuration problem, complex script orlarge
code base. Marking as invalid - insufficient info",111
324,36156,"Comment 8","Palanivel Rajan","2008-05-07 05:46:58","Team,

I am able to reproduce this bug.

I am trying to compile a huge application(build takes 3 hours!!!!) with ANT.1.6.5 and with a XMLLogger in verbose mode. This is error occurs at the end of my build.so i my guess is that it is happening when you try to write the XMLLogger output.

I tried to do the same activity without verbose mode and its completes successfully.

Size of my xml log output(with verbose) :11.1 MB
Size of my xml log output(without verbose) :592 KB

I am running my build in window 2003 server


BUILD FAILED

java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1225)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1068)
	at org.apache.tools.ant.Main.runBuild(Main.java:668)
	at org.apache.tools.ant.Main.startAnt(Main.java:187)
	at org.apache.tools.ant.Main.start(Main.java:150)
	at org.apache.tools.ant.Main.main(Main.java:240)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:615)
	at com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:263)
Caused by: java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
	at java.util.zip.Inflater.init(Native Method)
	at java.util.zip.Inflater.&lt;init&gt;(Inflater.java:95)
	at org.apache.tools.zip.ZipFile.getInputStream(ZipFile.java:208)
	at org.apache.tools.ant.taskdefs.Expand.expandFile(Expand.java:121)
	at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:92)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
	... 12 more
--- Nested Exception ---
java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
	at java.util.zip.Inflater.init(Native Method)
	at java.util.zip.Inflater.&lt;init&gt;(Inflater.java:95)
	at org.apache.tools.zip.ZipFile.getInputStream(ZipFile.java:208)
	at org.apache.tools.ant.taskdefs.Expand.expandFile(Expand.java:121)
	at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:92)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1068)
	at org.apache.tools.ant.Main.runBuild(Main.java:668)
	at org.apache.tools.ant.Main.startAnt(Main.java:187)
	at org.apache.tools.ant.Main.start(Main.java:150)
	at org.apache.tools.ant.Main.main(Main.java:240)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:615)
	at com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:263)","Team,

I am able to reproduce this bug.

I am trying to compile a huge application(build takes 3 hours!!!!) with ANT.1.6.5 and with a XMLLogger in verbose mode. This is error occurs at the end of my build.so i my guess is that it is happening when you try to write the XMLLogger output.

I tried to do the same activity without verbose mode and its completes successfully.

Size of my xml log output(with verbose) :11.1 MB
Size of my xml log output(without verbose) :592 KB

I am running my build in window 2003 server


BUILD FAILED

java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1225)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1068)
	at org.apache.tools.ant.Main.runBuild(Main.java:668)
	at org.apache.tools.ant.Main.startAnt(Main.java:187)
	at org.apache.tools.ant.Main.start(Main.java:150)
	at org.apache.tools.ant.Main.main(Main.java:240)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:615)
	at com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:263)
Caused by: java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
	at java.util.zip.Inflater.init(Native Method)
	at java.util.zip.Inflater.<init>(Inflater.java:95)
	at org.apache.tools.zip.ZipFile.getInputStream(ZipFile.java:208)
	at org.apache.tools.ant.taskdefs.Expand.expandFile(Expand.java:121)
	at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:92)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
	... 12 more
--- Nested Exception ---
java.lang.OutOfMemoryError: ZIP004:OutOfMemoryError, MEM_ERROR in inflateInit2
	at java.util.zip.Inflater.init(Native Method)
	at java.util.zip.Inflater.<init>(Inflater.java:95)
	at org.apache.tools.zip.ZipFile.getInputStream(ZipFile.java:208)
	at org.apache.tools.ant.taskdefs.Expand.expandFile(Expand.java:121)
	at org.apache.tools.ant.taskdefs.Expand.execute(Expand.java:92)
	at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:275)
	at org.apache.tools.ant.Task.perform(Task.java:364)
	at org.apache.tools.ant.Target.execute(Target.java:341)
	at org.apache.tools.ant.Target.performTasks(Target.java:369)
	at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1216)
	at org.apache.tools.ant.Project.executeTarget(Project.java:1185)
	at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:40)
	at org.apache.tools.ant.Project.executeTargets(Project.java:1068)
	at org.apache.tools.ant.Main.runBuild(Main.java:668)
	at org.apache.tools.ant.Main.startAnt(Main.java:187)
	at org.apache.tools.ant.Main.start(Main.java:150)
	at org.apache.tools.ant.Main.main(Main.java:240)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:64)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:615)
	at com.ibm.ws.bootstrap.WSLauncher.main(WSLauncher.java:263)",111
325,36156,"Comment 9","dev1","2008-08-29 10:03:27","(In reply to <a href=""show_bug.cgi?id=36156#c8"">comment #8</a>)
<span class=""quote"">&gt; Team,
&gt; 
&gt; I am able to reproduce this bug.</span>

No, you are reproducing <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - XMLLogger causes OutOfMemoryError"" href=""show_bug.cgi?id=35476"">bug 35476</a>

The original post didn't talk about XMLLogger at all, so it must be (have been) a different issue.","(In reply to comment #8)
> Team,
> 
> I am able to reproduce this bug.

No, you are reproducing bug 35476

The original post didn't talk about XMLLogger at all, so it must be (have been) a different issue.",111
326,26645,Description,"LI TAO","2004-02-03 22:37:06","I got a target to update the war file. It's working pretty well in Window2000, 
but is not updating the war file while it's running in a Linux box. Following 
is my code:

    &lt;target name=&quot;updateWar&quot; description=&quot;update configuration file for niobe 
environment&quot;&gt;
        &lt;war destfile=&quot;${project.scratch.path}/dist/esm-web.war&quot; update=&quot;true&quot;&gt;
            &lt;fileset dir=&quot;${niobe.deploybase.path}/config/webroot&quot; /&gt;
        &lt;/war&gt;
    &lt;/target&gt;

I have the latest JDK1.4.2_03 and apache ant 1.6.0 running on RedHat 9.0 kernel 
version 2.4.20-18.9smp. Please help. Thanks!","I got a target to update the war file. It's working pretty well in Window2000, 
but is not updating the war file while it's running in a Linux box. Following 
is my code:

    <target name=""updateWar"" description=""update configuration file for niobe 
environment"">
        <war destfile=""${project.scratch.path}/dist/esm-web.war"" update=""true"">
            <fileset dir=""${niobe.deploybase.path}/config/webroot"" />
        </war>
    </target>

I have the latest JDK1.4.2_03 and apache ant 1.6.0 running on RedHat 9.0 kernel 
version 2.4.20-18.9smp. Please help. Thanks!",112
327,26645,"Comment 1","LI TAO","2004-02-03 22:38:36","I got a target to update the war file. It's working pretty well in Window2000, 
but is not updating the war file while it's running in a Linux box. Following 
is my code:

    &lt;target name=&quot;updateWar&quot; description=&quot;update configuration file for niobe 
environment&quot;&gt;
        &lt;war destfile=&quot;${project.scratch.path}/dist/esm-web.war&quot; update=&quot;true&quot;&gt;
            &lt;fileset dir=&quot;${niobe.deploybase.path}/config/webroot&quot; /&gt;
        &lt;/war&gt;
    &lt;/target&gt;

I have the latest JDK1.4.2_03 and apache ant 1.6.0 running on RedHat 9.0 kernel 
version 2.4.20-18.9smp. Please help. Thanks!","I got a target to update the war file. It's working pretty well in Window2000, 
but is not updating the war file while it's running in a Linux box. Following 
is my code:

    <target name=""updateWar"" description=""update configuration file for niobe 
environment"">
        <war destfile=""${project.scratch.path}/dist/esm-web.war"" update=""true"">
            <fileset dir=""${niobe.deploybase.path}/config/webroot"" />
        </war>
    </target>

I have the latest JDK1.4.2_03 and apache ant 1.6.0 running on RedHat 9.0 kernel 
version 2.4.20-18.9smp. Please help. Thanks!",112
328,26645,"Comment 2","dev1","2004-06-04 13:37:11","Can you please compare the timestamps of the files you expect to be newer (so
that war needs an update) with the timestamps inside the archive?  This bug may be
related to <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Dates too late in jar entries"" href=""show_bug.cgi?id=17934"">bug 17934</a>.","Can you please compare the timestamps of the files you expect to be newer (so
that war needs an update) with the timestamps inside the archive?  This bug may be
related to bug 17934.",112
329,26645,"Comment 3","dev1","2005-03-14 16:25:28",ping,ping,112
330,44525,Description,Binodini,"2008-03-04 04:15:19","Testing how to enter a bug","Testing how to enter a bug",113
331,44525,"Comment 1",Binodini,"2008-03-04 04:18:54","Go to Start--&gt; Run type mstsc and enter 
Remote DesktopConnection window will open put 209.34.77.21 IP Address and click Connect
Remote Console of the server will open and notice windows will prompt, Click OK
Type User Name: sd_evault 
Password:  Rt2bacKup!
log on to: (iADUTILWIN01 (this computer)
and Click OK
Now you have logged on server remotely.
Double click on EVault InfoStage CentralControl icon on the desktop, it will prompt for password.
Put the password: g3t$mart and click OK
Confirm customer name (left side of window) and host name of the servers added and check the latest log. 
After confirm backup configured for the hostname logout from the server","Go to Start--> Run type mstsc and enter 
Remote DesktopConnection window will open put 209.34.77.21 IP Address and click Connect
Remote Console of the server will open and notice windows will prompt, Click OK
Type User Name: sd_evault 
Password:  Rt2bacKup!
log on to: (iADUTILWIN01 (this computer)
and Click OK
Now you have logged on server remotely.
Double click on EVault InfoStage CentralControl icon on the desktop, it will prompt for password.
Put the password: g3t$mart and click OK
Confirm customer name (left side of window) and host name of the servers added and check the latest log. 
After confirm backup configured for the hostname logout from the server",113
332,44525,"Comment 2","dev11","2008-03-04 06:17:00","1. Stop experimenting with defects in the Apache site. Create your own bugzilla server and play there.

2. If you continue to do so, we will block off your IP address/username.","1. Stop experimenting with defects in the Apache site. Create your own bugzilla server and play there.

2. If you continue to do so, we will block off your IP address/username.",113
333,2942,Description,SNeelakantan_C,"2001-07-31 21:38:59","Anties,

I had logged a bug last week or so that the BuildEventListener did not
catch exceptions even on a failed copy, but I was informed that &lt;copy&gt; didn't 
throw exception with Ant 1.3 and I was asked to upgraded to Ant 1.4.
I picked up a nightly build (2001-07-25) and I have the same problem with that 
one too.
I am basically doing a &lt;copy file=&quot;non-existent1.txt&quot; tofile=&quot;non-
existent2.txt&quot; /&gt; and I get the message, &quot;Could not find file to copy&quot;, but it 
doesn't set an exception with my listener class.
I am finding it difficult to validate whether my tasks ran successfully or not 
because of this.

I would appreciate any alternative solution too to accomplish this task.

Please reply ASAP if possible.

Thanks and regards,
Shanker","Anties,

I had logged a bug last week or so that the BuildEventListener did not
catch exceptions even on a failed copy, but I was informed that <copy> didn't 
throw exception with Ant 1.3 and I was asked to upgraded to Ant 1.4.
I picked up a nightly build (2001-07-25) and I have the same problem with that 
one too.
I am basically doing a <copy file=""non-existent1.txt"" tofile=""non-
existent2.txt"" /> and I get the message, ""Could not find file to copy"", but it 
doesn't set an exception with my listener class.
I am finding it difficult to validate whether my tasks ran successfully or not 
because of this.

I would appreciate any alternative solution too to accomplish this task.

Please reply ASAP if possible.

Thanks and regards,
Shanker",114
334,2942,"Comment 1","dev8","2001-08-01 08:26:33","Created <span class=""""><a href=""attachment.cgi?id=377"" name=""attach_377"" title=""Simple listener"">attachment 377</a> <a href=""attachment.cgi?id=377&amp;action=edit"" title=""Simple listener"">[details]</a></span>
Simple listener","Created attachment 377 [details]
Simple listener",114
335,2942,"Comment 2","dev8","2001-08-01 08:29:27","OK, I have attached a simple listener implementation. I have a simple buikld 
file which attempts to copy a non-existent file and another target which does 
nothing. These are the reuslts for me when I run this. Note the last line of 
output in each run and in particular the presence of the exception in the 
failure case

F:\antdev\bugs\<a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Build Event Listener does not catch exception"" href=""show_bug.cgi?id=2942"">bug2942</a>&gt;ant -listener TestListener ok
Buildfile: build.xml
Listener: build started

ok:
Listener: target started
Listener: target finished

BUILD SUCCESSFUL

Total time: 1 second
Build finished without error
F:\antdev\bugs\<a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Build Event Listener does not catch exception"" href=""show_bug.cgi?id=2942"">bug2942</a>&gt;ant -listener TestListener
Buildfile: build.xml
Listener: build started

main:
Listener: target started
     [copy] Listener: task started
     [copy] Could not find file F:\antdev\bugs\<a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Build Event Listener does not catch exception"" href=""show_bug.cgi?id=2942"">bug2942</a>\foo to copy.
Listener: task finished
Listener: target finished

BUILD FAILED

F:\antdev\bugs\<a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Build Event Listener does not catch exception"" href=""show_bug.cgi?id=2942"">bug2942</a>\build.xml:3: Could not find file F:\antdev\bugs\<a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Build Event Listener does not catch exception"" href=""show_bug.cgi?id=2942"">bug2942</a>
\foo to copy.

Total time: 1 second
Listener: build finished with exception = org.apache.tools.ant.BuildException
F:\antdev\bugs\<a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Build Event Listener does not catch exception"" href=""show_bug.cgi?id=2942"">bug2942</a>&gt;","OK, I have attached a simple listener implementation. I have a simple buikld 
file which attempts to copy a non-existent file and another target which does 
nothing. These are the reuslts for me when I run this. Note the last line of 
output in each run and in particular the presence of the exception in the 
failure case

F:\antdev\bugs\bug2942>ant -listener TestListener ok
Buildfile: build.xml
Listener: build started

ok:
Listener: target started
Listener: target finished

BUILD SUCCESSFUL

Total time: 1 second
Build finished without error
F:\antdev\bugs\bug2942>ant -listener TestListener
Buildfile: build.xml
Listener: build started

main:
Listener: target started
     [copy] Listener: task started
     [copy] Could not find file F:\antdev\bugs\bug2942\foo to copy.
Listener: task finished
Listener: target finished

BUILD FAILED

F:\antdev\bugs\bug2942\build.xml:3: Could not find file F:\antdev\bugs\bug2942
\foo to copy.

Total time: 1 second
Listener: build finished with exception = org.apache.tools.ant.BuildException
F:\antdev\bugs\bug2942>",114
336,2942,"Comment 3",SNeelakantan_C,"2001-08-01 13:11:53","Thanks Conor for your prompt response.

I am not sure if I am seeing normal behaviour from the BuildEvent Listener.
Here is what I tried.

C:\play&gt;ant -listener BuildValidate -f test.xml

C:\play&gt;type test.xml
&lt;project default=&quot;X&quot; &gt;
        &lt;target name=&quot;X&quot;&gt;
                &lt;copy file=&quot;doesnotexist.txt&quot; tofile=&quot;doesnotexist2.txt&quot; /&gt;
        &lt;/target&gt;
&lt;/project&gt;

C:\play&gt;dir does*
 Volume in drive C has no label.
 Volume Serial Number is 07D1-0208

 Directory of C:\play

File Not Found

C:\play&gt;ant -listener BuildValidate -f test.xml
Buildfile: test.xml

X:
     [copy] Could not find file C:\play\doesnotexist.txt to copy.
Task has completed successfully   

&lt;mycomment&gt; getException() = null in taskFinished() in BuildValidate&lt;/mycomment&gt;

Target has finished successfully

&lt;mycomment&gt; getException() = null in targetFinished() in 
BuildValidate&lt;/mycomment&gt;

BUILD SUCCESSFUL

Total time: 1 second

C:\play&gt;type test.xml
&lt;project default=&quot;X&quot; &gt;
        &lt;target name=&quot;X&quot;&gt;
                &lt;copy file=&quot;doesnotexist.txt&quot; tofile=&quot;doesnotexist2.txt&quot; /&gt;
                &lt;ant antfile=&quot;test.xml&quot; target=&quot;build&quot; /&gt;
        &lt;/target&gt;
&lt;/project&gt;

C:\play&gt;ant -listener BuildValidate -f test.xml
Buildfile: test.xml

X:
     [copy] Could not find file C:\play\doesnotexist.txt to copy.
Task has completed successfully
Task has completed successfully
Target has finished unsuccessfully
&lt;mycomment&gt; Both tasks are successful, but the target isn't! &lt;/mycomment&gt;


BUILD FAILED

C:\play\test.xml:4: Target `build' does not exist in this project.

Total time: 1 second

-------------
I think, an unsuccessful task is not caught in the taskFinished() method, but
is caught in the targetFinished() method which is why you were able to catch 
the exception since you implemented it in the targetFinished() method.
I intend to catch errors in individual tasks within a target.

Correct me if I am mistaken.

Thanks,
Shankar","Thanks Conor for your prompt response.

I am not sure if I am seeing normal behaviour from the BuildEvent Listener.
Here is what I tried.

C:\play>ant -listener BuildValidate -f test.xml

C:\play>type test.xml
<project default=""X"" >
        <target name=""X"">
                <copy file=""doesnotexist.txt"" tofile=""doesnotexist2.txt"" />
        </target>
</project>

C:\play>dir does*
 Volume in drive C has no label.
 Volume Serial Number is 07D1-0208

 Directory of C:\play

File Not Found

C:\play>ant -listener BuildValidate -f test.xml
Buildfile: test.xml

X:
     [copy] Could not find file C:\play\doesnotexist.txt to copy.
Task has completed successfully   

<mycomment> getException() = null in taskFinished() in BuildValidate</mycomment>

Target has finished successfully

<mycomment> getException() = null in targetFinished() in 
BuildValidate</mycomment>

BUILD SUCCESSFUL

Total time: 1 second

C:\play>type test.xml
<project default=""X"" >
        <target name=""X"">
                <copy file=""doesnotexist.txt"" tofile=""doesnotexist2.txt"" />
                <ant antfile=""test.xml"" target=""build"" />
        </target>
</project>

C:\play>ant -listener BuildValidate -f test.xml
Buildfile: test.xml

X:
     [copy] Could not find file C:\play\doesnotexist.txt to copy.
Task has completed successfully
Task has completed successfully
Target has finished unsuccessfully
<mycomment> Both tasks are successful, but the target isn't! </mycomment>


BUILD FAILED

C:\play\test.xml:4: Target `build' does not exist in this project.

Total time: 1 second

-------------
I think, an unsuccessful task is not caught in the taskFinished() method, but
is caught in the targetFinished() method which is why you were able to catch 
the exception since you implemented it in the targetFinished() method.
I intend to catch errors in individual tasks within a target.

Correct me if I am mistaken.

Thanks,
Shankar",114
337,2942,"Comment 4","dev8","2001-08-02 07:23:09","Thanks for persisting with this. I found the bug - exceptions were not being 
set in the event for tasks. Please try the next nightly build
2001-08-03","Thanks for persisting with this. I found the bug - exceptions were not being 
set in the event for tasks. Please try the next nightly build
2001-08-03",114
338,5356,Description,"Jaskaran Singh Dhaliwal","2001-12-11 08:02:31","whicle compiling a project I get the following error:
[javac] The system is out of resources.
    [javac] Consult the following stack trace for details.
    [javac] 
    [javac] java.lang.OutOfMemoryError
    [javac]     &lt;&lt;no stack trace available&gt;&gt;","whicle compiling a project I get the following error:
[javac] The system is out of resources.
    [javac] Consult the following stack trace for details.
    [javac] 
    [javac] java.lang.OutOfMemoryError
    [javac]     <<no stack trace available>>",115
339,5356,"Comment 1","Tim Vernum","2001-12-11 17:36:05","Allocate more memory to your JVM.
See the resolution to 4384.


*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - Ant 1.4.1 javac task throws out of memory error building large project."" href=""show_bug.cgi?id=4384"">4384</a> ***","Allocate more memory to your JVM.
See the resolution to 4384.


*** This bug has been marked as a duplicate of 4384 ***",115
340,6715,Description,"Jan Rasmussen","2002-02-27 13:13:13","Build fails with this exception, first time it compiles without errors. If it 
is compiled a second time it works fine.

  [javac] java.lang.InternalError: jzentry == 0
    [javac]     at java.util.zip.ZipFile$2.nextElement(ZipFile.java:297)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.openArchive
(ClassReader.java:893)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.list
(ClassReader.java:1095)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.listAll
(ClassReader.java:1180)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.fillIn
(ClassReader.java:1202)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.complete
(ClassReader.java:955)
    [javac]     at com.sun.tools.javac.v8.code.Symbol.complete(Symbol.java:366)
    [javac]     at com.sun.tools.javac.v8.comp.Enter._case(Enter.java:424)
    [javac]     at com.sun.tools.javac.v8.tree.Tree$TopLevel.visit
(Tree.java:349)
    [javac]     at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:392)
    [javac]     at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:410)
    [javac]     at com.sun.tools.javac.v8.comp.Enter.main(Enter.java:540)
    [javac]     at com.sun.tools.javac.v8.JavaCompiler.compile
(JavaCompiler.java:357)
    [javac]     at com.sun.tools.javac.v8.Main.compile(Main.java:247)
    [javac]     at com.sun.tools.javac.Main.compile(Main.java:26)
    [javac]     at java.lang.reflect.Method.invoke(Native Method)
    [javac]     at org.apache.tools.ant.taskdefs.compilers.Javac13.execute
(Javac13.java:99)
    [javac]     at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:461)
    [javac]     at org.apache.tools.ant.Target.execute(Target.java:153)
    [javac]     at org.apache.tools.ant.Project.runTarget(Project.java:898)
    [javac]     at org.apache.tools.ant.Project.executeTarget(Project.java:536)
    [javac]     at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:213)
    [javac]     at org.apache.tools.ant.Target.execute(Target.java:153)
    [javac]     at org.apache.tools.ant.Project.runTarget(Project.java:898)
    [javac]     at org.apache.tools.ant.Project.executeTarget(Project.java:536)
    [javac]     at org.apache.tools.ant.Project.executeTargets(Project.java:510)
    [javac]     at org.apache.tools.ant.Main.runBuild(Main.java:421)
    [javac]     at org.apache.tools.ant.Main.main(Main.java:149)

BUILD FAILED","Build fails with this exception, first time it compiles without errors. If it 
is compiled a second time it works fine.

  [javac] java.lang.InternalError: jzentry == 0
    [javac]     at java.util.zip.ZipFile$2.nextElement(ZipFile.java:297)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.openArchive
(ClassReader.java:893)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.list
(ClassReader.java:1095)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.listAll
(ClassReader.java:1180)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.fillIn
(ClassReader.java:1202)
    [javac]     at com.sun.tools.javac.v8.code.ClassReader.complete
(ClassReader.java:955)
    [javac]     at com.sun.tools.javac.v8.code.Symbol.complete(Symbol.java:366)
    [javac]     at com.sun.tools.javac.v8.comp.Enter._case(Enter.java:424)
    [javac]     at com.sun.tools.javac.v8.tree.Tree$TopLevel.visit
(Tree.java:349)
    [javac]     at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:392)
    [javac]     at com.sun.tools.javac.v8.comp.Enter.classEnter(Enter.java:410)
    [javac]     at com.sun.tools.javac.v8.comp.Enter.main(Enter.java:540)
    [javac]     at com.sun.tools.javac.v8.JavaCompiler.compile
(JavaCompiler.java:357)
    [javac]     at com.sun.tools.javac.v8.Main.compile(Main.java:247)
    [javac]     at com.sun.tools.javac.Main.compile(Main.java:26)
    [javac]     at java.lang.reflect.Method.invoke(Native Method)
    [javac]     at org.apache.tools.ant.taskdefs.compilers.Javac13.execute
(Javac13.java:99)
    [javac]     at org.apache.tools.ant.taskdefs.Javac.execute(Javac.java:461)
    [javac]     at org.apache.tools.ant.Target.execute(Target.java:153)
    [javac]     at org.apache.tools.ant.Project.runTarget(Project.java:898)
    [javac]     at org.apache.tools.ant.Project.executeTarget(Project.java:536)
    [javac]     at org.apache.tools.ant.taskdefs.Ant.execute(Ant.java:213)
    [javac]     at org.apache.tools.ant.Target.execute(Target.java:153)
    [javac]     at org.apache.tools.ant.Project.runTarget(Project.java:898)
    [javac]     at org.apache.tools.ant.Project.executeTarget(Project.java:536)
    [javac]     at org.apache.tools.ant.Project.executeTargets(Project.java:510)
    [javac]     at org.apache.tools.ant.Main.runBuild(Main.java:421)
    [javac]     at org.apache.tools.ant.Main.main(Main.java:149)

BUILD FAILED",116
341,6715,"Comment 1","dev8","2002-02-27 15:24:14","You are modifying a jar file which is in your classpath. The JDK will have
loaded some info from the jar but when it goes to actually load the required
class from the jar, the jar has been munged by your build process.

This is why it works the first time - the jar does not exist and therefore is
not locked. 

Try to reorganize your build so that the jars you use in the build are not
modified by the build, particularly jars on the classpath.","You are modifying a jar file which is in your classpath. The JDK will have
loaded some info from the jar but when it goes to actually load the required
class from the jar, the jar has been munged by your build process.

This is why it works the first time - the jar does not exist and therefore is
not locked. 

Try to reorganize your build so that the jars you use in the build are not
modified by the build, particularly jars on the classpath.",116
342,9563,Description,"Martin Gainty","2002-06-01 18:04:13","Build process cannot find java.xml.parsers
Which Product has this???","Build process cannot find java.xml.parsers
Which Product has this???",117
343,9563,"Comment 1","dev11","2002-06-06 08:22:21","jaxp.jar probably.

ant1.3 is a very old version of ant, and support likely to be poor to
nonexistent. why dont you try upgrading to a current ant1.5 beta?","jaxp.jar probably.

ant1.3 is a very old version of ant, and support likely to be poor to
nonexistent. why dont you try upgrading to a current ant1.5 beta?",117
344,9563,"Comment 2","dev1","2002-06-06 10:15:06","The Ant distribution of 1.3 ships with JAXP - all things should be there.","The Ant distribution of 1.3 ships with JAXP - all things should be there.",117
345,11314,Description,"Robert Yowell","2002-07-31 01:28:04",,,118
346,11314,"Comment 1","dev74","2002-08-13 21:14:17","No information.","No information.",118
347,13953,Description,"Gary Zuo","2002-10-25 00:15:32","Previous versions of ant works fine (even 1.5).

With the following command:

   ant -Dbuild_type=dev -Dcwd=

Ant doesn't do anything, even though there're targets to be built.
Change the the second -D to -Dcwd=&quot;&quot; works.

Put the empty -D first:

   ant -Dcwd= -Dbuild_type=dev

Ant complains that &quot;target dev does not exist in this project&quot;.","Previous versions of ant works fine (even 1.5).

With the following command:

   ant -Dbuild_type=dev -Dcwd=

Ant doesn't do anything, even though there're targets to be built.
Change the the second -D to -Dcwd="""" works.

Put the empty -D first:

   ant -Dcwd= -Dbuild_type=dev

Ant complains that ""target dev does not exist in this project"".",119
348,13953,"Comment 1","dev11","2002-10-25 01:23:34","Did this ever work? I didnt think it did. It is certainly not part of the
specified behaviour of the command line interface, so isnt considered a
bug/regression.

you could argue that Ant should have -Dsomething to set something=true, to be
compatible with make, but that would be an enhancement req.","Did this ever work? I didnt think it did. It is certainly not part of the
specified behaviour of the command line interface, so isnt considered a
bug/regression.

you could argue that Ant should have -Dsomething to set something=true, to be
compatible with make, but that would be an enhancement req.",119
349,13953,"Comment 2","Gary Zuo","2002-10-25 04:31:20","It always worked.  I have it this way since a long while ago.

The behavior is a little strange so I think there might be a
coding error somewhere.

Gary","It always worked.  I have it this way since a long while ago.

The behavior is a little strange so I think there might be a
coding error somewhere.

Gary",119
350,13953,"Comment 3","dev1","2002-11-15 12:38:58","Are you using the .bat or the sh file (via Cygwin)?","Are you using the .bat or the sh file (via Cygwin)?",119
351,13953,"Comment 4","Gary Zuo","2002-11-15 14:36:07","I'm using .bat file.  It's pure Windows environment.","I'm using .bat file.  It's pure Windows environment.",119
352,13953,"Comment 5","dev11","2002-12-01 05:20:04","This is not a regression in Ant. We have not changed that bit of the code. 

Look at ant.Main lines 317 to 340...there is some stuff there that mentions
different JVMs behave differently and pass -Dfoo=bar down as &quot;-Dfoo&quot; &quot;bar&quot;
sometimes.

Which would create exactly the behaviour you are citing...if the &quot;=&quot; sign is
being stripped the next arg gets pulled in and boom, your build is broken. Not
much we can do about this. 

It has never been stated that -Dfoo= was a valid assignment, please desist from
doing so :)","This is not a regression in Ant. We have not changed that bit of the code. 

Look at ant.Main lines 317 to 340...there is some stuff there that mentions
different JVMs behave differently and pass -Dfoo=bar down as ""-Dfoo"" ""bar""
sometimes.

Which would create exactly the behaviour you are citing...if the ""="" sign is
being stripped the next arg gets pulled in and boom, your build is broken. Not
much we can do about this. 

It has never been stated that -Dfoo= was a valid assignment, please desist from
doing so :)",119
353,16643,Description,Manjit,"2003-01-31 16:48:54","I've downloaded the ant 1.3 binary and tried to run it (with J2SE SDK 1.3.1) 
and I keep getting this &quot;out of env space&quot; error. I've checked my ANT_HOME var 
is set correctly and the bin directory is in the path. 

ant -v does not give me any help either.","I've downloaded the ant 1.3 binary and tried to run it (with J2SE SDK 1.3.1) 
and I keep getting this ""out of env space"" error. I've checked my ANT_HOME var 
is set correctly and the bin directory is in the path. 

ant -v does not give me any help either.",120
354,16643,"Comment 1","dev8","2003-02-01 00:18:42","It is a problem with Win98 (surprise, surprise). You need to configure more
environment space. You can do that with a line similar to the following in
config.sys

shell=c:\command.com c:\ /p /e:32768

Check out the MS Knowledge base if you want more info.","It is a problem with Win98 (surprise, surprise). You need to configure more
environment space. You can do that with a line similar to the following in
config.sys

shell=c:\command.com c:\ /p /e:32768

Check out the MS Knowledge base if you want more info.",120
355,16643,"Comment 2","dev8","2003-02-02 07:04:58","*** <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED DUPLICATE - ant on win98 generates &quot;out of environment space&quot; message"" href=""show_bug.cgi?id=15080"">Bug 15080</a> has been marked as a duplicate of this bug. ***","*** Bug 15080 has been marked as a duplicate of this bug. ***",120
356,18179,Description,Miguel.,"2003-03-20 09:14:38","If a java class file is missing the package ... line at the top, it causes all 
of the compiled class files to be put in the root of then destination folder 
and in its package path.","If a java class file is missing the package ... line at the top, it causes all 
of the compiled class files to be put in the root of then destination folder 
and in its package path.",121
357,18179,"Comment 1","dev11","2003-03-20 21:20:34","Try doing a clean build (i.e. deleting the dest directory tree) and then running
it and seeing if the duplication occurs. 

I would expect the .class file to appear only in the base directory, as that is
how the javac compiler works.","Try doing a clean build (i.e. deleting the dest directory tree) and then running
it and seeing if the duplication occurs. 

I would expect the .class file to appear only in the base directory, as that is
how the javac compiler works.",121
358,21375,Description,"Chuck Fowler","2003-07-07 16:51:34","I tried to build Ant with the new JDK 1.4.2 and had a compile error while 
building the javah task.  It appears the interface to javah has changed.  I 
believe the old interface is still available via the sub-package oldjavah (I 
modified the javah source to use this package and the build completed).","I tried to build Ant with the new JDK 1.4.2 and had a compile error while 
building the javah task.  It appears the interface to javah has changed.  I 
believe the old interface is still available via the sub-package oldjavah (I 
modified the javah source to use this package and the build completed).",122
359,21375,"Comment 1","peter reilly","2003-07-07 17:00:43","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - javah module no longer works with Java 1.4.2"" href=""show_bug.cgi?id=18667"">18667</a> ***","*** This bug has been marked as a duplicate of 18667 ***",122
360,23647,Description,"Stefan Wagner","2003-10-07 12:20:24","When running ant, it sometimes fails, because I used german Umlaute in Comments.
But I get no info in which line of the buildfile this happened.
This is very annoying for big buildfiles.

This is the whole message:
BUILD FAILED
Error reading project file: Invalid byte 2 of 4-byte UTF-8 sequence

I guess ant should know at which position it is in the buildfile, and tell me. :)","When running ant, it sometimes fails, because I used german Umlaute in Comments.
But I get no info in which line of the buildfile this happened.
This is very annoying for big buildfiles.

This is the whole message:
BUILD FAILED
Error reading project file: Invalid byte 2 of 4-byte UTF-8 sequence

I guess ant should know at which position it is in the buildfile, and tell me. :)",123
361,23647,"Comment 1","Jan Mat","2003-10-07 12:25:43","Ant does NOT know that because it&acute;s a problem of the parser.

Have to see where it occurs ...","Ant does NOT know that because its a problem of the parser.

Have to see where it occurs ...",123
362,23647,"Comment 2","Jan Mat","2003-10-07 13:03:38","The problem occurs in org.apache.tools.ant.helper.ProjectHelper2.parse() (line 
273). The IOException of the xml parser is wrapped in a BuildException and 
thrown. 

    throw new BuildException(&quot;Error reading project file: &quot;
                + exc.getMessage(), exc);


If you know a possibility of getting the line number from the parser (without 
depending on a particular parser implementation) please reopens the bug, 
provide that and we will introduce it.

For the meantime I close that as WONTFIX because I can&acute;t see any 
possibility ... sorry.","The problem occurs in org.apache.tools.ant.helper.ProjectHelper2.parse() (line 
273). The IOException of the xml parser is wrapped in a BuildException and 
thrown. 

    throw new BuildException(""Error reading project file: ""
                + exc.getMessage(), exc);


If you know a possibility of getting the line number from the parser (without 
depending on a particular parser implementation) please reopens the bug, 
provide that and we will introduce it.

For the meantime I close that as WONTFIX because I cant see any 
possibility ... sorry.",123
363,23647,"Comment 3",J.Pietschmann,"2003-10-07 20:25:17","There is no possibility to reliably report a line number in case of a problem
with the encoding. After all, the bytes mapped onto LF may be in error too.","There is no possibility to reliably report a line number in case of a problem
with the encoding. After all, the bytes mapped onto LF may be in error too.",123
364,23647,"Comment 4","Stefan Wagner","2003-10-08 00:53:18","Thanks for replying that fast. (4 Instances in 10 hours).

I received this answer:
--- answer---
There is no possibility to reliably report a line number in case of a problem
with the encoding. After all, the bytes mapped onto LF may be in error too.
--- eoa ---

This sounds reasonable.
But I encountered this error sometimes, and everytime it occured, other
linenumbers were accurat.

Differences between MAC-OS, LINUX and WinDos would lead to following possibilities:
A calculated linenumber of 20 could mean the error is in line 20, in line 10 or
in line 40.
If I get a wrong linenumber, I could force an error, and find out the
relationship between mentioned line number and real line number.

But probably the linenumber is correct.

So a linenumber which is accurat most of the times and only in very few times
wrong would be more helpful, than no linenumber, which forces me to guess.

On the other side:
Perhaps I will not run into the user-error of wrong encoding again, after
finding out, that I have to specify 'iso-8859-1' encoding.

Let other users search their files by guessing too.","Thanks for replying that fast. (4 Instances in 10 hours).

I received this answer:
--- answer---
There is no possibility to reliably report a line number in case of a problem
with the encoding. After all, the bytes mapped onto LF may be in error too.
--- eoa ---

This sounds reasonable.
But I encountered this error sometimes, and everytime it occured, other
linenumbers were accurat.

Differences between MAC-OS, LINUX and WinDos would lead to following possibilities:
A calculated linenumber of 20 could mean the error is in line 20, in line 10 or
in line 40.
If I get a wrong linenumber, I could force an error, and find out the
relationship between mentioned line number and real line number.

But probably the linenumber is correct.

So a linenumber which is accurat most of the times and only in very few times
wrong would be more helpful, than no linenumber, which forces me to guess.

On the other side:
Perhaps I will not run into the user-error of wrong encoding again, after
finding out, that I have to specify 'iso-8859-1' encoding.

Let other users search their files by guessing too.",123
365,27466,Description,sandeep,"2004-03-05 07:49:00","When we start the build process we get the messege BUILDFAILED XML parser 
factory has not been configured correctly: 
com.sun.xml.parser.SAXParserFactoryImpl","When we start the build process we get the messege BUILDFAILED XML parser 
factory has not been configured correctly: 
com.sun.xml.parser.SAXParserFactoryImpl",124
366,27466,"Comment 1","peter reilly","2004-03-05 09:25:40","There is something wrong with your enviroment,
please refer with more detail to the ant user list.","There is something wrong with your enviroment,
please refer with more detail to the ant user list.",124
367,29466,Description,"Alain Perry","2004-06-09 15:24:45","Hi,

I tried to compile JAC sources (an oriented aspect programming IDE), using Ant 
and the build.xml file in Eclipse 2.1.1.

I got the message in Eclipse :

    &quot;the &lt;taskdef&gt; task doesn't support the &quot;onerror&quot; attribute&quot; 

This is the part of the build.xml concerned :

  &lt;taskdef name=&quot;just4log&quot;
    classname=&quot;net.sf.just4log.integration.ant.Just4LogTask&quot;
    
classpath=&quot;${jac.lib}/build/just4log.jar:${jac.lib}/bcel.jar:${jac.lib}/opt/comm
ons-logging.jar&quot;/&gt;

If somebody can help me about this question :
  1. what's the meaning of this error ? (I have not found any document about 
this kind of error in Ant 1.5 nor in the Ant mail list)
  2. Is it necessary to use Ant 1.6 ?

Thanks a lot for help.","Hi,

I tried to compile JAC sources (an oriented aspect programming IDE), using Ant 
and the build.xml file in Eclipse 2.1.1.

I got the message in Eclipse :

    ""the <taskdef> task doesn't support the ""onerror"" attribute"" 

This is the part of the build.xml concerned :

  <taskdef name=""just4log""
    classname=""net.sf.just4log.integration.ant.Just4LogTask""
    
classpath=""${jac.lib}/build/just4log.jar:${jac.lib}/bcel.jar:${jac.lib}/opt/comm
ons-logging.jar""/>

If somebody can help me about this question :
  1. what's the meaning of this error ? (I have not found any document about 
this kind of error in Ant 1.5 nor in the Ant mail list)
  2. Is it necessary to use Ant 1.6 ?

Thanks a lot for help.",125
368,29466,"Comment 1","dev1","2004-11-05 17:18:42","Yes, the onerror attribute is new in Ant 1.6.","Yes, the onerror attribute is new in Ant 1.6.",125
369,32125,Description,"Ashish Agarwal","2004-11-09 08:26:45","Scenario:

Basic Ant File:
&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;project name=&quot;compile&quot; default=&quot;clean&quot;&gt;
	&lt;target name=&quot;clean&quot;&gt;
		  &lt;javac destdir=&quot;c:\temp\build\classes&quot;
		   	classpath=&quot;C:\temp\build\modules\myapp.jar&quot;
		    	srcdir= &quot;C:\temp\build\src1&quot; debug=&quot;on&quot;/&gt;
	&lt;/target&gt;

&lt;/project&gt;

Now lets say , we compiled using this ant file at time 10:00am and a class file 
is produced at time 10:01 am.

Now we changed few classes in myapp.jar and removed some methods from the 
classes that were inside myapp.jar. Rebuilt myapp.jar.

Recompile using the above mentioned build.xml using ant, since the class file 
is newer than the source file it does not recompile.


Technically this should be reported as Build Failed !! 


Please let me know if you have any other questions.","Scenario:

Basic Ant File:
<?xml version=""1.0""?>
<project name=""compile"" default=""clean"">
	<target name=""clean"">
		  <javac destdir=""c:\temp\build\classes""
		   	classpath=""C:\temp\build\modules\myapp.jar""
		    	srcdir= ""C:\temp\build\src1"" debug=""on""/>
	</target>

</project>

Now lets say , we compiled using this ant file at time 10:00am and a class file 
is produced at time 10:01 am.

Now we changed few classes in myapp.jar and removed some methods from the 
classes that were inside myapp.jar. Rebuilt myapp.jar.

Recompile using the above mentioned build.xml using ant, since the class file 
is newer than the source file it does not recompile.


Technically this should be reported as Build Failed !! 


Please let me know if you have any other questions.",126
370,32125,"Comment 1","dev11","2004-11-09 09:39:21","From the docs: &quot;Ant uses only the names of the source and class files to find
the classes that need a rebuild.&quot;

&lt;depend&gt; does a bit of a better job, but JAR file dependencies are not processed
by that either, which is something that could be added if someone (you?) chose
to add it.

If you use jikes the compile is so fast you may as well clean build a few times
a day...","From the docs: ""Ant uses only the names of the source and class files to find
the classes that need a rebuild.""

<depend> does a bit of a better job, but JAR file dependencies are not processed
by that either, which is something that could be added if someone (you?) chose
to add it.

If you use jikes the compile is so fast you may as well clean build a few times
a day...",126
371,32125,"Comment 2","dev8","2004-11-09 22:58:15","Actually &lt;depend&gt; does check jar dependencies.","Actually <depend> does check jar dependencies.",126
372,32125,"Comment 3","dev11","2004-11-09 23:26:23","Even better. Ashish: use &lt;depend&gt; to manage dependencies properly.","Even better. Ashish: use <depend> to manage dependencies properly.",126
373,35719,Description,humphreys,"2005-07-13 19:58:51","Downloaded nightly build ant_20050713101200.tar.gz; build fails.

Running Windows XP Pro SP2 with all the latest updates.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:\000\Ant\ant-1.7-build\ant&gt;build.bat

... Bootstrapping Ant Distribution
JAVA_HOME=C:\Program Files\java\jdk1.5.0_04
JAVA=C:\Program Files\java\jdk1.5.0_04\bin\java
JAVAC=C:\Program Files\java\jdk1.5.0_04\bin\javac
CLASSPATH=C:\Program
Files\java\jdk1.5.0_04\lib\tools.jar;lib\optional\junit-3.8.1.jar;lib\xercesImpl.jar;lib\xml-apis.jar;build\classes;src\main;

... Compiling Ant Classes
Note: * uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.

... Copying Required Files
src\main\org\apache\tools\ant\taskdefs\defaults.properties
        1 file(s) copied.
src\main\org\apache\tools\ant\types\defaults.properties
        1 file(s) copied.

... Building Ant Distribution
Buildfile: build.xml

bootstrap:

prepare:

check_for_optional_packages:

build:
Created dir: C:\000\Ant\ant-1.7-build\ant\build\lib
Compiling 277 source files to C:\000\Ant\ant-1.7-build\ant\build\classes
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPool.java:260:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPool
            if (element instanceof InterfaceMethodRefCPInfo) {
                                   ^
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPool.java:261:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPool
                InterfaceMethodRefCPInfo interfaceMethodRefEntry
                ^
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPool.java:262:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPool
                     = (InterfaceMethodRefCPInfo) element;
                        ^
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPoolEntry.java:150:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPoolEntry
                cpInfo = new InterfaceMethodRefCPInfo();
                             ^
Note: * uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
4 errors

BUILD FAILED
C:\000\Ant\ant-1.7-build\ant\build.xml:1105: The following error occurred while
executing this line:
C:\000\Ant\ant-1.7-build\ant\build.xml:665: Compile failed; see the compiler
error output for details.

Total time: 7 seconds

... Cleaning Up Build Directories

... Done Bootstrapping Ant Distribution
Bootstrap FAILED","Downloaded nightly build ant_20050713101200.tar.gz; build fails.

Running Windows XP Pro SP2 with all the latest updates.

~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:\000\Ant\ant-1.7-build\ant>build.bat

... Bootstrapping Ant Distribution
JAVA_HOME=C:\Program Files\java\jdk1.5.0_04
JAVA=C:\Program Files\java\jdk1.5.0_04\bin\java
JAVAC=C:\Program Files\java\jdk1.5.0_04\bin\javac
CLASSPATH=C:\Program
Files\java\jdk1.5.0_04\lib\tools.jar;lib\optional\junit-3.8.1.jar;lib\xercesImpl.jar;lib\xml-apis.jar;build\classes;src\main;

... Compiling Ant Classes
Note: * uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.

... Copying Required Files
src\main\org\apache\tools\ant\taskdefs\defaults.properties
        1 file(s) copied.
src\main\org\apache\tools\ant\types\defaults.properties
        1 file(s) copied.

... Building Ant Distribution
Buildfile: build.xml

bootstrap:

prepare:

check_for_optional_packages:

build:
Created dir: C:\000\Ant\ant-1.7-build\ant\build\lib
Compiling 277 source files to C:\000\Ant\ant-1.7-build\ant\build\classes
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPool.java:260:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPool
            if (element instanceof InterfaceMethodRefCPInfo) {
                                   ^
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPool.java:261:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPool
                InterfaceMethodRefCPInfo interfaceMethodRefEntry
                ^
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPool.java:262:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPool
                     = (InterfaceMethodRefCPInfo) element;
                        ^
C:\000\Ant\ant-1.7-build\ant\src\main\org\apache\tools\ant\taskdefs\optional\depend\constantpool\ConstantPoolEntry.java:150:
cannot find symbol
symbol  : class InterfaceMethodRefCPInfo
location: class
org.apache.tools.ant.taskdefs.optional.depend.constantpool.ConstantPoolEntry
                cpInfo = new InterfaceMethodRefCPInfo();
                             ^
Note: * uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
4 errors

BUILD FAILED
C:\000\Ant\ant-1.7-build\ant\build.xml:1105: The following error occurred while
executing this line:
C:\000\Ant\ant-1.7-build\ant\build.xml:665: Compile failed; see the compiler
error output for details.

Total time: 7 seconds

... Cleaning Up Build Directories

... Done Bootstrapping Ant Distribution
Bootstrap FAILED",127
374,35719,"Comment 1","J.M. (Martijn) Kruithof","2005-07-13 22:31:45","This class is in exactly the same package, the build works for me with jdk
1.4.2_08 and 1.5.0_02. Could you please verify if the unpacked directory
structure is complete and the downloaded file has the right size?

(ant_20050713101200.tar.gz : 9.375.870 bytes)","This class is in exactly the same package, the build works for me with jdk
1.4.2_08 and 1.5.0_02. Could you please verify if the unpacked directory
structure is complete and the downloaded file has the right size?

(ant_20050713101200.tar.gz : 9.375.870 bytes)",127
375,35719,"Comment 2",humphreys,"2005-07-14 01:46:21","I got the build to work by untarring the file using tar (cygwin); when using
WinZip (latest version 9.0 SR-1 6224) to extract the archive -- first making
sure that the option &quot;Allow all upper case file names&quot; is checked, the wrong
directory structure is created:

 Directory of C:\000\Ant\ant-1.7-build

07/13/2005  17:33    &lt;DIR&gt;          .
07/13/2005  17:33    &lt;DIR&gt;          ..
07/13/2005  17:34    &lt;DIR&gt;          ant
07/13/2005  17:33    &lt;DIR&gt;          httptasks
07/13/2005  17:33    &lt;DIR&gt;          junit
07/13/2005  17:33    &lt;DIR&gt;          proposal
07/13/2005  17:33    &lt;DIR&gt;          sandbox
07/13/2005  17:33    &lt;DIR&gt;          src

The directories other than &quot;ant&quot; are misplaced (they should be under the &quot;ant&quot;
directory.) Note that only some directories are extracted to the wrong place;
most are correctly extracted.","I got the build to work by untarring the file using tar (cygwin); when using
WinZip (latest version 9.0 SR-1 6224) to extract the archive -- first making
sure that the option ""Allow all upper case file names"" is checked, the wrong
directory structure is created:

 Directory of C:\000\Ant\ant-1.7-build

07/13/2005  17:33    <DIR>          .
07/13/2005  17:33    <DIR>          ..
07/13/2005  17:34    <DIR>          ant
07/13/2005  17:33    <DIR>          httptasks
07/13/2005  17:33    <DIR>          junit
07/13/2005  17:33    <DIR>          proposal
07/13/2005  17:33    <DIR>          sandbox
07/13/2005  17:33    <DIR>          src

The directories other than ""ant"" are misplaced (they should be under the ""ant""
directory.) Note that only some directories are extracted to the wrong place;
most are correctly extracted.",127
376,35719,"Comment 3","J.M. (Martijn) Kruithof","2005-07-14 19:30:37","Then probably winzip has some problems unpacking gtar files
Unpacking worked for me both using cygwin on XP and using gtar on linux.","Then probably winzip has some problems unpacking gtar files
Unpacking worked for me both using cygwin on XP and using gtar on linux.",127
377,5478,Description,"Eran Hadar","2001-12-18 01:39:59","I'm using 4NT301.
ant.bat tries to detect if it is running from 4NT shell by calling:
if &quot;%eval[2+2]&quot; == &quot;4&quot; goto setup4NT
on my 4NT version the command eval does not exits.
from the 4NT help files:

Detecting 4NT

From a batch file, you can determine if 4NT (or another JP Software command 
processor) is loaded by testing for the variable function @EVAL, with a test 
like this:

if &quot;%@eval[2 + 2]%&quot; == &quot;4&quot; echo 4NT is loaded!

This test can never succeed in CMD.EXE. Other variable functions could be used 
for the same purpose.


after adding the '@' every thing works fine.
I've failed to use the ant.bat for about half a day until I've found it.","I'm using 4NT301.
ant.bat tries to detect if it is running from 4NT shell by calling:
if ""%eval[2+2]"" == ""4"" goto setup4NT
on my 4NT version the command eval does not exits.
from the 4NT help files:

Detecting 4NT

From a batch file, you can determine if 4NT (or another JP Software command 
processor) is loaded by testing for the variable function @EVAL, with a test 
like this:

if ""%@eval[2 + 2]%"" == ""4"" echo 4NT is loaded!

This test can never succeed in CMD.EXE. Other variable functions could be used 
for the same purpose.


after adding the '@' every thing works fine.
I've failed to use the ant.bat for about half a day until I've found it.",128
378,5478,"Comment 1","dev75","2001-12-18 12:56:20","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - ant.bat support for 4NT fails"" href=""show_bug.cgi?id=3654"">3654</a> ***","*** This bug has been marked as a duplicate of 3654 ***",128
379,6725,Description,"Curtis White","2002-02-27 17:58:23","Receive the following error when running a build. The build continues on and 
finishes without any other problems.

A nonfatal internal JIT (3.10.107(x)) error 'Relocation error: NULL relocation 
target' has occurred in : 
  'org/apache/crimson/parser/Parser2.maybeComment (Z)Z': Interpreting method.
  Please report this error in detail to <a href=""http://java.sun.com/cgi"">http://java.sun.com/cgi</a>-
bin/bugreport.cgi","Receive the following error when running a build. The build continues on and 
finishes without any other problems.

A nonfatal internal JIT (3.10.107(x)) error 'Relocation error: NULL relocation 
target' has occurred in : 
  'org/apache/crimson/parser/Parser2.maybeComment (Z)Z': Interpreting method.
  Please report this error in detail to http://java.sun.com/cgi-
bin/bugreport.cgi",129
380,6725,"Comment 1","dev11","2002-02-27 19:55:22","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED INVALID - JIT Build error"" href=""show_bug.cgi?id=3694"">3694</a> ***","*** This bug has been marked as a duplicate of 3694 ***",129
381,9613,Description,Jesse,"2002-06-05 02:48:46","On OSX Server 10.1 with no X-server the 'swing.present' &lt;available&gt; fails when
it tries to load javax.swing.ImageIcon. A better check for swing is
javax.swing.SwingConstants because it doesn't try to create and any classes that
require a windowing system.

The o.a.t.a.t.o.splash package is still built when it should be. Tested on
Linux, OSX and Solaris.

A patch is attached

Jesse","On OSX Server 10.1 with no X-server the 'swing.present' <available> fails when
it tries to load javax.swing.ImageIcon. A better check for swing is
javax.swing.SwingConstants because it doesn't try to create and any classes that
require a windowing system.

The o.a.t.a.t.o.splash package is still built when it should be. Tested on
Linux, OSX and Solaris.

A patch is attached

Jesse",130
382,9613,"Comment 1",Jesse,"2002-06-05 02:49:30","Created <span class=""""><a href=""attachment.cgi?id=2005&amp;action=diff"" name=""attach_2005"" title=""Patch for build.xml"">attachment 2005</a> <a href=""attachment.cgi?id=2005&amp;action=edit"" title=""Patch for build.xml"">[details]</a></span>
Patch for build.xml","Created attachment 2005 [details]
Patch for build.xml",130
383,9613,"Comment 2","dev1","2002-06-06 07:37:51","There has already been a different patch in the 1.5 branch that has now been
merged into the main branch.  Ant should now build on Mac OS X without a valid
display.  Could you please confirm this and close the bug, Jesse?","There has already been a different patch in the 1.5 branch that has now been
merged into the main branch.  Ant should now build on Mac OS X without a valid
display.  Could you please confirm this and close the bug, Jesse?",130
384,9613,"Comment 3",Jesse,"2002-06-07 01:39:47","It's working fine now.

Jesse","It's working fine now.

Jesse",130
385,11372,Description,"VenkataSubramanian Sampath","2002-08-01 18:38:56","Hi,","Hi,",131
386,11372,"Comment 1","VenkataSubramanian Sampath","2002-08-01 18:42:00","We r having problem, when we use the ANT for creating the Stored Procedures in 
DB2 we need to format the Script code like this...

CREATE PROCEDURE PKG_RETRIEVE_PROCESS_EVENT_Q_AKC
-- This stored procedure is used to retrive an event from the process event 
queue
-- for the property AKC. The event retrieved is the oldest event (out of the 
remaining
-- events in the queue) which satisfies the given criteria. Once the event is 
selected,
-- its status is updated to &quot;In Process&quot; accordingly. 
(	
    IN in_SELECTSTATUS		CHAR(2),
    IN in_UPDATESTATUS		CHAR(2),
    IN in_SELECTSOURCE		CHAR(2),
    OUT out_EVENTID             BIGINT,
    OUT out_PROPERTYCODE        CHAR(3),
    OUT out_EVENT               CHAR(254),
    OUT out_SOURCE              CHAR(2),
    OUT out_CAMPAIGNPROCESSED   CHAR(254)
)
LANGUAGE SQL 
BEGIN
    -- Initialize out parameter variables
    SET out_EVENTID = 0; --
    SET out_PROPERTYCODE = ''; --
    SET out_EVENT = ''; --
    SET out_SOURCE = ''; --
    SET out_CAMPAIGNPROCESSED = ''; --
    -- Select the event from the queue
    SELECT I_EVENTID, C_PROPERTYCODE, C_EVENT, C_SOURCE, C_CAMPAIGNPROCESSED 
INTO out_EVENTID, out_PROPERTYCODE, out_EVENT, out_SOURCE, 
out_CAMPAIGNPROCESSED FROM PROCESSEVENTQAKC WHERE D_CREATED = ( SELECT MIN
(D_CREATED) FROM PROCESSEVENTQAKC ) AND C_STATUS = in_SELECTSTATUS AND C_SOURCE 
= in_SELECTSOURCE; --
    -- Update the event from the queue with the &quot;In Process&quot; status
    UPDATE PROCESSEVENTQAKC SET C_STATUS = in_UPDATESTATUS, D_TIMESTAMP = 
CURRENT TIMESTAMP WHERE I_EVENTID = out_EVENTID; END
;


Rather than having the Script like this

CREATE PROCEDURE PKG_SUMMARIZE_ENTRY
(	IN in_drawingId			INTEGER,
        IN in_winetId			BIGINT,
        IN in_totalEntrySummary		INTEGER,
        IN in_entryId			INTEGER
)
-- This stored procedure summarizes entries for a patron at the drawing level.
-- A new row is inserted in the Entry Summary table for a patron in case the 
-- entry summarization for a drawing happens for the first time.
-- An existing row is updated with a new entry count in case there already 
exists
-- a row for a patron for a drawing in the EntrySummary table.
-- A row is inserted in the EntryUsedInSummary table for each drawing the entry 
-- has been summarized for.
LANGUAGE SQL

BEGIN
	
	-- The insert is executed in case the following Update statement fails.
	DECLARE CONTINUE HANDLER FOR NOT FOUND 
	INSERT INTO
		EntrySummary(
			i_drawingId,
	        	i_winetId,
	        	i_totalEntrySummary,
			d_dateSummarized
		)
		VALUES(
			in_drawingId,
	        	in_winetId,
			in_totalEntrySummary,
			CURRENT TIMESTAMP
		); 
	
	-- The Update statement is the first statement to be executed.
	UPDATE
		EntrySummary
	SET
		i_totalEntrySummary = i_totalEntrySummary + 
in_totalEntrySummary,
		d_dateSummarized = CURRENT TIMESTAMP
	WHERE 
		i_drawingId = in_drawingId
	AND
		i_winetId = in_winetId; 

        -- The Insert is executed at all times irrespective of which statement 
above gets executed.
        INSERT INTO
        	EntryUsedInSummary(
        		i_entryId,
			i_drawingId
		)
		VALUES
		(
			in_entryId,
			in_drawingId
		); 
END","We r having problem, when we use the ANT for creating the Stored Procedures in 
DB2 we need to format the Script code like this...

CREATE PROCEDURE PKG_RETRIEVE_PROCESS_EVENT_Q_AKC
-- This stored procedure is used to retrive an event from the process event 
queue
-- for the property AKC. The event retrieved is the oldest event (out of the 
remaining
-- events in the queue) which satisfies the given criteria. Once the event is 
selected,
-- its status is updated to ""In Process"" accordingly. 
(	
    IN in_SELECTSTATUS		CHAR(2),
    IN in_UPDATESTATUS		CHAR(2),
    IN in_SELECTSOURCE		CHAR(2),
    OUT out_EVENTID             BIGINT,
    OUT out_PROPERTYCODE        CHAR(3),
    OUT out_EVENT               CHAR(254),
    OUT out_SOURCE              CHAR(2),
    OUT out_CAMPAIGNPROCESSED   CHAR(254)
)
LANGUAGE SQL 
BEGIN
    -- Initialize out parameter variables
    SET out_EVENTID = 0; --
    SET out_PROPERTYCODE = ''; --
    SET out_EVENT = ''; --
    SET out_SOURCE = ''; --
    SET out_CAMPAIGNPROCESSED = ''; --
    -- Select the event from the queue
    SELECT I_EVENTID, C_PROPERTYCODE, C_EVENT, C_SOURCE, C_CAMPAIGNPROCESSED 
INTO out_EVENTID, out_PROPERTYCODE, out_EVENT, out_SOURCE, 
out_CAMPAIGNPROCESSED FROM PROCESSEVENTQAKC WHERE D_CREATED = ( SELECT MIN
(D_CREATED) FROM PROCESSEVENTQAKC ) AND C_STATUS = in_SELECTSTATUS AND C_SOURCE 
= in_SELECTSOURCE; --
    -- Update the event from the queue with the ""In Process"" status
    UPDATE PROCESSEVENTQAKC SET C_STATUS = in_UPDATESTATUS, D_TIMESTAMP = 
CURRENT TIMESTAMP WHERE I_EVENTID = out_EVENTID; END
;


Rather than having the Script like this

CREATE PROCEDURE PKG_SUMMARIZE_ENTRY
(	IN in_drawingId			INTEGER,
        IN in_winetId			BIGINT,
        IN in_totalEntrySummary		INTEGER,
        IN in_entryId			INTEGER
)
-- This stored procedure summarizes entries for a patron at the drawing level.
-- A new row is inserted in the Entry Summary table for a patron in case the 
-- entry summarization for a drawing happens for the first time.
-- An existing row is updated with a new entry count in case there already 
exists
-- a row for a patron for a drawing in the EntrySummary table.
-- A row is inserted in the EntryUsedInSummary table for each drawing the entry 
-- has been summarized for.
LANGUAGE SQL

BEGIN
	
	-- The insert is executed in case the following Update statement fails.
	DECLARE CONTINUE HANDLER FOR NOT FOUND 
	INSERT INTO
		EntrySummary(
			i_drawingId,
	        	i_winetId,
	        	i_totalEntrySummary,
			d_dateSummarized
		)
		VALUES(
			in_drawingId,
	        	in_winetId,
			in_totalEntrySummary,
			CURRENT TIMESTAMP
		); 
	
	-- The Update statement is the first statement to be executed.
	UPDATE
		EntrySummary
	SET
		i_totalEntrySummary = i_totalEntrySummary + 
in_totalEntrySummary,
		d_dateSummarized = CURRENT TIMESTAMP
	WHERE 
		i_drawingId = in_drawingId
	AND
		i_winetId = in_winetId; 

        -- The Insert is executed at all times irrespective of which statement 
above gets executed.
        INSERT INTO
        	EntryUsedInSummary(
        		i_entryId,
			i_drawingId
		)
		VALUES
		(
			in_entryId,
			in_drawingId
		); 
END",131
387,11372,"Comment 2","dev8","2003-07-14 16:46:15","I'm not really sure what problem you are having. If it is related to the &lt;sql&gt;
task and stored-proc formatting, could you please try a recent nightly build of
Ant and use the keepformat attribute.

If this is not the nature of the issue, please reopen and provide more details
on what tasks you are using and what problems you are having.","I'm not really sure what problem you are having. If it is related to the <sql>
task and stored-proc formatting, could you please try a recent nightly build of
Ant and use the keepformat attribute.

If this is not the nature of the issue, please reopen and provide more details
on what tasks you are using and what problems you are having.",131
388,14027,Description,"Manuel Ledesma","2002-10-28 22:56:30","I cannot compile EJBs anymore under ant, but If i rollback to ver 1.5, 
everything works fine.

Here is the exception that I'm getting :

Exception while adding Vendor specific files: org.xml.sax.SAXParseException: 
The string &quot;--&quot; is not permitted within comments.

and the target itself:

 &lt;target name=&quot;compile-ejbs&quot; depends=&quot;compile&quot;&gt;
    &lt;ejbjar srcdir=&quot;${classes.dir}&quot; descriptordir=&quot;${source.dir}&quot; 
flatdestdir=&quot;true&quot; dependency=&quot;none&quot;&gt;
      &lt;weblogic  destdir=&quot;${ejb.dir}&quot; newCMP=&quot;true&quot; keepgeneric=&quot;true&quot; 
suffix=&quot;.jar&quot; genericjarsuffix=&quot;-temp.jar&quot;&gt;
        &lt;classpath refid=&quot;prj.class.path&quot;/&gt;
      &lt;/weblogic&gt;
      &lt;include name=&quot;${ejbdds}&quot;/&gt;
      &lt;exclude name=&quot;${wldds}&quot;/&gt;
    &lt;/ejbjar&gt;
  &lt;/target&gt;","I cannot compile EJBs anymore under ant, but If i rollback to ver 1.5, 
everything works fine.

Here is the exception that I'm getting :

Exception while adding Vendor specific files: org.xml.sax.SAXParseException: 
The string ""--"" is not permitted within comments.

and the target itself:

 <target name=""compile-ejbs"" depends=""compile"">
    <ejbjar srcdir=""${classes.dir}"" descriptordir=""${source.dir}"" 
flatdestdir=""true"" dependency=""none"">
      <weblogic  destdir=""${ejb.dir}"" newCMP=""true"" keepgeneric=""true"" 
suffix="".jar"" genericjarsuffix=""-temp.jar"">
        <classpath refid=""prj.class.path""/>
      </weblogic>
      <include name=""${ejbdds}""/>
      <exclude name=""${wldds}""/>
    </ejbjar>
  </target>",132
389,14027,"Comment 1","dev8","2002-10-31 11:10:22","Can you run with -debug flag and send me the full stack trace

It is possible that the newer versions of the XML parser are more strict with
regard to the appearance of &quot;--&quot; in comments. This is definitely disallowed by
the XML spec but some parsers do let it through (although I didn't think Xerces
was one of them).

It may be that the problem in in one your deployment descriptors. 

Anyway, the stack trace will be a good place to start","Can you run with -debug flag and send me the full stack trace

It is possible that the newer versions of the XML parser are more strict with
regard to the appearance of ""--"" in comments. This is definitely disallowed by
the XML spec but some parsers do let it through (although I didn't think Xerces
was one of them).

It may be that the problem in in one your deployment descriptors. 

Anyway, the stack trace will be a good place to start",132
390,14027,"Comment 2","dev8","2003-01-27 05:59:08","I assume this was a problem in your descriptor","I assume this was a problem in your descriptor",132
391,16867,Description,"Dustin D","2003-02-07 06:11:20","I guess Ant doesn't work in Windows Millenium, because when I pull up a command 
prompt and try to run ant, it scrolls by a bunch of crap which is basically 
standard error output.  Because it's Windows, command prompt doesn't have a 
scroll bar.  Because it's standard error, I can't redirect the output to a 
file.  Because -logfile doesn't print standard error, I can't use command line 
switches to save the output.  Basically, unless Ant produces less than like 20 
lines of output, or unless it starts printing output to standard output, or 
unless I find an alternative to dos command prompt that isn't a piece of shit, 
I can't use Ant on Windows.  And I'm pissed because I just wasted 2 hours 
trying to find a way around this, searching google groups, downloading command 
prompt alternatives, and nothing f***ing works.  You guys should really 
consider redoing the output of Ant so that it works under Windows if you want 
Windows users to use it, because not everyone has the latest and greatest 
windows with scrollbar support in command prompt.  Windows f***ing sucks and if 
it wasn't for the project's need to work on Windows, I would have ditched it a 
long time ago.  I can't believe how rediculous this is, a program that prints 
output that you can't read.  Sorry for my frustration but it really, really, 
really really really pisses me off..","I guess Ant doesn't work in Windows Millenium, because when I pull up a command 
prompt and try to run ant, it scrolls by a bunch of crap which is basically 
standard error output.  Because it's Windows, command prompt doesn't have a 
scroll bar.  Because it's standard error, I can't redirect the output to a 
file.  Because -logfile doesn't print standard error, I can't use command line 
switches to save the output.  Basically, unless Ant produces less than like 20 
lines of output, or unless it starts printing output to standard output, or 
unless I find an alternative to dos command prompt that isn't a piece of shit, 
I can't use Ant on Windows.  And I'm pissed because I just wasted 2 hours 
trying to find a way around this, searching google groups, downloading command 
prompt alternatives, and nothing f***ing works.  You guys should really 
consider redoing the output of Ant so that it works under Windows if you want 
Windows users to use it, because not everyone has the latest and greatest 
windows with scrollbar support in command prompt.  Windows f***ing sucks and if 
it wasn't for the project's need to work on Windows, I would have ditched it a 
long time ago.  I can't believe how rediculous this is, a program that prints 
output that you can't read.  Sorry for my frustration but it really, really, 
really really really pisses me off..",133
392,16867,"Comment 1","dev8","2003-02-07 06:19:43","*** This bug has been marked as a duplicate of <a class=""bz_bug_link 
          bz_status_RESOLVED  bz_closed"" title=""RESOLVED FIXED - ant.bat broken on Windows 98"" href=""show_bug.cgi?id=13582"">13582</a> ***","*** This bug has been marked as a duplicate of 13582 ***",133
393,16867,"Comment 2","Dustin D","2003-02-07 06:57:25","How is this a duplicate?  13582 has to do with ant.bat checking for paths and 
whether or not files/directories exist under Windows 98.  My bug has to do with 
not being able to see the output when I run ant because it scrolls down a ton 
of text using standard error, meaning that (1) I can't scroll back because 
Windows sucks, and (2) I can't redirect the stderr output to a file because 
windows sucks.  I don't see what this has to do with 13582.  I think it's a bug 
because Ant should provide a means for command output under Windows 
95/98/Millenium, and scrolling a bunch of text down a command prompt window so 
you can't read it doesn't seem like the route to go.","How is this a duplicate?  13582 has to do with ant.bat checking for paths and 
whether or not files/directories exist under Windows 98.  My bug has to do with 
not being able to see the output when I run ant because it scrolls down a ton 
of text using standard error, meaning that (1) I can't scroll back because 
Windows sucks, and (2) I can't redirect the stderr output to a file because 
windows sucks.  I don't see what this has to do with 13582.  I think it's a bug 
because Ant should provide a means for command output under Windows 
95/98/Millenium, and scrolling a bunch of text down a command prompt window so 
you can't read it doesn't seem like the route to go.",133
394,16867,"Comment 3","dev8","2003-02-07 07:14:14","You said:
&quot;I guess Ant doesn't work in Windows Millenium, because when I pull up a command 
prompt and try to run ant, it scrolls by a bunch of crap which is basically 
standard error output. &quot;

My assumption is that this results from the problem in ant.bat. If you make that
fix, Ant should work. You should then be able to use -logfile. If this does not
work for you, I apologize for the incorrect assumption

As for Ant producing too much output for Windows ME, I'm afraid that is a
limitation of Windows ME. There are many other limitations to Windows ME and it
is not feasible for Ant to try and fix all of them.

Some alternatives would be to install cygwin and use the rxvt terminal which
comes with a scrollbar or to use an editor such as jEdit (free) or UltraEdit
which can store the output into a window with a scroll bar.","You said:
""I guess Ant doesn't work in Windows Millenium, because when I pull up a command 
prompt and try to run ant, it scrolls by a bunch of crap which is basically 
standard error output. ""

My assumption is that this results from the problem in ant.bat. If you make that
fix, Ant should work. You should then be able to use -logfile. If this does not
work for you, I apologize for the incorrect assumption

As for Ant producing too much output for Windows ME, I'm afraid that is a
limitation of Windows ME. There are many other limitations to Windows ME and it
is not feasible for Ant to try and fix all of them.

Some alternatives would be to install cygwin and use the rxvt terminal which
comes with a scrollbar or to use an editor such as jEdit (free) or UltraEdit
which can store the output into a window with a scroll bar.",133
395,16867,"Comment 4","dev10","2003-02-07 08:54:48","Can you also try to capture the standard error output if you do :
ant  2&gt; myerrors.txt
Another 
possibility would be that you install emacs or xemacs on your PC, then run ant from the shell buffer 
of emacs, which should be big enough and lets you scroll through the results.
Other editors 
might also have big shell buffers. For instance UltraEdit32 can run commands for you and display 
both stderr and stdout in the resulting buffer.","Can you also try to capture the standard error output if you do :
ant  2> myerrors.txt
Another 
possibility would be that you install emacs or xemacs on your PC, then run ant from the shell buffer 
of emacs, which should be big enough and lets you scroll through the results.
Other editors 
might also have big shell buffers. For instance UltraEdit32 can run commands for you and display 
both stderr and stdout in the resulting buffer.",133
396,16867,"Comment 5","dev48","2003-02-07 09:35:49","I don't know WindowsME, but in Windows 95/98/NT/2000 (all of which I've used), it requires you set the vertical buffer to something larger than the screen height and scroll bars will then appear.  I'm assuming WindowsME has the same feature.","I don't know WindowsME, but in Windows 95/98/NT/2000 (all of which I've used), it requires you set the vertical buffer to something larger than the screen height and scroll bars will then appear.  I'm assuming WindowsME has the same feature.",133
397,16867,"Comment 6","dev10","2003-02-07 09:46:27","Erik is right, you should be able to right click on the title bar of your DOS Command window, then a 
popup menu appears. If you choose from this menu &quot;Properties&quot;, you can adjust the size of the 
window and more importantly the size of the buffer up to 9999 lines.","Erik is right, you should be able to right click on the title bar of your DOS Command window, then a 
popup menu appears. If you choose from this menu ""Properties"", you can adjust the size of the 
window and more importantly the size of the buffer up to 9999 lines.",133
398,16867,"Comment 7","dev8","2003-02-07 10:55:34","No, unfortunately in Windows 98 (and I suspect 95 and ME) it is not possible to 
have a scroll bar on a command window. You can set the window to a maximum of 
50 lines.","No, unfortunately in Windows 98 (and I suspect 95 and ME) it is not possible to 
have a scroll bar on a command window. You can set the window to a maximum of 
50 lines.",133
399,16867,"Comment 8","Dustin D","2003-02-07 13:42:18","Yes, I tried multiple options under properties, to no avail.  I haven't tried 
redirecting stderr with 2&gt;, so maybe I should give that a try.  I thought that 
was a unix-only thing, although I did try &gt;&amp; (used in csh for stderr).

Using UltraEdit32 or whatever sounds like a good idea too, I'll try that.  I 
guess I've been working in unix for too long, so it's extremely painful to deal 
with Windows command-line after getting spoiled by all the features of unix.

Thanks for the help,
Dustin","Yes, I tried multiple options under properties, to no avail.  I haven't tried 
redirecting stderr with 2>, so maybe I should give that a try.  I thought that 
was a unix-only thing, although I did try >& (used in csh for stderr).

Using UltraEdit32 or whatever sounds like a good idea too, I'll try that.  I 
guess I've been working in unix for too long, so it's extremely painful to deal 
with Windows command-line after getting spoiled by all the features of unix.

Thanks for the help,
Dustin",133
400,16867,"Comment 9","dev11","2003-02-07 19:16:31","I love titles that blame us, but I guess you are just venting your
disatisfaction with WinME/

I agree the Windows command line sucks, and I agree we didnt take it into
account. But we did and still do jump through inordinate hoops in the batch file
to make sure that Ant runs under win9x, which is a lot harder than you think, as
the .BAT execution sucks badly too. 

The rest, we leave to you

Can I suggest.

1. ant | more  to get paged stuff
2. 4DOS command shell (very nice add on)
3. run ant inside an IDE 
4. antidote (feel free to help)

Also, what was it you expected? That we should recognise that win9x and suddenly
add a fancy gui with scroll bars just to make your life easier? But what about
everyone running ant as part of some batch mode?

-Steve","I love titles that blame us, but I guess you are just venting your
disatisfaction with WinME/

I agree the Windows command line sucks, and I agree we didnt take it into
account. But we did and still do jump through inordinate hoops in the batch file
to make sure that Ant runs under win9x, which is a lot harder than you think, as
the .BAT execution sucks badly too. 

The rest, we leave to you

Can I suggest.

1. ant | more  to get paged stuff
2. 4DOS command shell (very nice add on)
3. run ant inside an IDE 
4. antidote (feel free to help)

Also, what was it you expected? That we should recognise that win9x and suddenly
add a fancy gui with scroll bars just to make your life easier? But what about
everyone running ant as part of some batch mode?

-Steve",133
401,16867,"Comment 10","Dustin D","2003-02-07 21:02:58","Nope, I wouldn't expect you to improve Windows or include an Ant-specific
service pack for Windows with Ant, that's silly.  But when your program doesn't
work, or when a user cannot see output, I think you have a serious problem. 
Imagine if you wrote a Windows application that only ran at a resolution of
1280x1024 and announced to the world that anyone with Windows can run it!  But
when users downloaded it, some of them realized they couldn't run it because it
was made to run at only 1280x1024.  Well, I would say that's a serious flaw with
your software, and unless there was a really good reason for forcing 1280x1024
resolution for your software, it's probably a dumb idea.  

Excuse the crappy analogy, but nonetheless, I think it applies.  If you write an
app for Windows but don't take into account the limitations of Windows, you're
setting yourself and your users up for trouble.  Trust me, I'm not trying to
bash Ant, I know you guys wrote some code that I'm able to download for free and
play with, so obviously if I don't like it, you have no obligation to support
me.  It was simply a recommendation, that if you're going to design a program
for windows that's dependent on the evil MSDOS Command Prompt, then either
adjust the output of Ant so that it accomodates this limitation, or provide some
links or something to some software that will enable Ant to run a little more
gracefully under Windows.  In my case, I was running ant, but getting an error
message that I couldn't understand because it was beyond the border of my
command prompt.  That's a serious problem for Windows users running Ant.  In
most cases piping output or doing |more will work, but in this case, it didn't.
 For whatever reason, I guess stderr doesn't pipe to the more command.

So don't take it as me bashing your software, but instead read it as me making a
recommendation as a frustrated user.  I know Windows sucks for things like this,
and it must be a real headache, I sympathize.  But nothing would be better than
to have Ant performing as the most robust build system on all platforms.

Thanks again for all the recommendations, and continue the good work.

-Dustin","Nope, I wouldn't expect you to improve Windows or include an Ant-specific
service pack for Windows with Ant, that's silly.  But when your program doesn't
work, or when a user cannot see output, I think you have a serious problem. 
Imagine if you wrote a Windows application that only ran at a resolution of
1280x1024 and announced to the world that anyone with Windows can run it!  But
when users downloaded it, some of them realized they couldn't run it because it
was made to run at only 1280x1024.  Well, I would say that's a serious flaw with
your software, and unless there was a really good reason for forcing 1280x1024
resolution for your software, it's probably a dumb idea.  

Excuse the crappy analogy, but nonetheless, I think it applies.  If you write an
app for Windows but don't take into account the limitations of Windows, you're
setting yourself and your users up for trouble.  Trust me, I'm not trying to
bash Ant, I know you guys wrote some code that I'm able to download for free and
play with, so obviously if I don't like it, you have no obligation to support
me.  It was simply a recommendation, that if you're going to design a program
for windows that's dependent on the evil MSDOS Command Prompt, then either
adjust the output of Ant so that it accomodates this limitation, or provide some
links or something to some software that will enable Ant to run a little more
gracefully under Windows.  In my case, I was running ant, but getting an error
message that I couldn't understand because it was beyond the border of my
command prompt.  That's a serious problem for Windows users running Ant.  In
most cases piping output or doing |more will work, but in this case, it didn't.
 For whatever reason, I guess stderr doesn't pipe to the more command.

So don't take it as me bashing your software, but instead read it as me making a
recommendation as a frustrated user.  I know Windows sucks for things like this,
and it must be a real headache, I sympathize.  But nothing would be better than
to have Ant performing as the most robust build system on all platforms.

Thanks again for all the recommendations, and continue the good work.

-Dustin",133
402,23726,Description,"Pierre Nugues","2003-10-10 16:27:27","I use an ant makefile to compile a set of classes. Everything compiles but the
javah line breaks the code with Java 1.4.2. The Java 1.4.1 works fine.

This bug has been flagged as solved in 1.5.4 but I still have the error 
message as well as with the 1.6 beta version.

Here is the excerpt that breaks the ant compile:
&lt;target name=&quot;header&quot; depends=&quot;compile&quot;&gt;
&lt;javah classpath=&quot;${outputDir}&quot; destdir=&quot;${cSrcDir}&quot;
    force=&quot;yes&quot;&gt;
&lt;class name=&quot;se.lth.cs.carsim.LinkGrammarAPI&quot; /&gt;
&lt;/javah&gt;
&lt;/target&gt;


ClassArgument.name=se.lth.cs.carsim.LinkGrammarAPI
java.lang.NoSuchMethodError: com.sun.tools.javah.Main.&lt;init&gt;
([Ljava/lang/String;)V
        at org.apache.tools.ant.taskdefs.optional.Javah.doClassicCompile
(Javah.java:348)
        at org.apache.tools.ant.taskdefs.optional.Javah.execute(Javah.java:318)
        at org.apache.tools.ant.Task.perform(Task.java:319)
        at org.apache.tools.ant.Target.execute(Target.java:309)
        at org.apache.tools.ant.Target.performTasks(Target.java:336)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1250)
        at org.apache.tools.ant.module.run.TargetExecutor.run
(TargetExecutor.java:331)
        at org.netbeans.core.execution.RunClassThread.run
(RunClassThread.java:118)
BUILD FAILED","I use an ant makefile to compile a set of classes. Everything compiles but the
javah line breaks the code with Java 1.4.2. The Java 1.4.1 works fine.

This bug has been flagged as solved in 1.5.4 but I still have the error 
message as well as with the 1.6 beta version.

Here is the excerpt that breaks the ant compile:
<target name=""header"" depends=""compile"">
<javah classpath=""${outputDir}"" destdir=""${cSrcDir}""
    force=""yes"">
<class name=""se.lth.cs.carsim.LinkGrammarAPI"" />
</javah>
</target>


ClassArgument.name=se.lth.cs.carsim.LinkGrammarAPI
java.lang.NoSuchMethodError: com.sun.tools.javah.Main.<init>
([Ljava/lang/String;)V
        at org.apache.tools.ant.taskdefs.optional.Javah.doClassicCompile
(Javah.java:348)
        at org.apache.tools.ant.taskdefs.optional.Javah.execute(Javah.java:318)
        at org.apache.tools.ant.Task.perform(Task.java:319)
        at org.apache.tools.ant.Target.execute(Target.java:309)
        at org.apache.tools.ant.Target.performTasks(Target.java:336)
        at org.apache.tools.ant.Project.executeTarget(Project.java:1306)
        at org.apache.tools.ant.Project.executeTargets(Project.java:1250)
        at org.apache.tools.ant.module.run.TargetExecutor.run
(TargetExecutor.java:331)
        at org.netbeans.core.execution.RunClassThread.run
(RunClassThread.java:118)
BUILD FAILED",134
403,23726,"Comment 1","dev1","2003-10-10 16:34:00","There must be an older version of Ant in your classpath somewhere.

Line 348 of Ant 1.6beta is a try statement followed by the reflection code needed
to work with JDK 1.4.2.","There must be an older version of Ant in your classpath somewhere.

Line 348 of Ant 1.6beta is a try statement followed by the reflection code needed
to work with JDK 1.4.2.",134
404,23726,"Comment 2","Dominique Devienne","2003-10-10 16:41:14","Indeed I think, sine with the config below, I test a smarter &lt;javah&gt; I'm 
developping that uses internally &lt;javah&gt;, and everything works fine. --DD

P:\com_lgc\9.0.5\gocad\Landmark\JgOcad&gt;java -version
java version &quot;1.4.2&quot;
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2-b28)
Java HotSpot(TM) Client VM (build 1.4.2-b28, mixed mode)

P:\com_lgc\9.0.5\gocad\Landmark\JgOcad&gt;%BUILDTOOLS%\ant\bin\ant -version
Apache Ant version 1.6beta compiled on September 30 2003
P:\com_lgc\9.0.5\gocad\Landmark\JgOcad&gt;","Indeed I think, sine with the config below, I test a smarter <javah> I'm 
developping that uses internally <javah>, and everything works fine. --DD

P:\com_lgc\9.0.5\gocad\Landmark\JgOcad>java -version
java version ""1.4.2""
Java(TM) 2 Runtime Environment, Standard Edition (build 1.4.2-b28)
Java HotSpot(TM) Client VM (build 1.4.2-b28, mixed mode)

P:\com_lgc\9.0.5\gocad\Landmark\JgOcad>%BUILDTOOLS%\ant\bin\ant -version
Apache Ant version 1.6beta compiled on September 30 2003
P:\com_lgc\9.0.5\gocad\Landmark\JgOcad>",134
405,23726,"Comment 3","Pierre Nugues","2003-10-10 17:10:56","<span class=""quote"">&gt; There must be an older version of Ant in your classpath somewhere.
&gt; Line 348 of Ant 1.6beta is a try statement followed by the reflection 
&gt; code needed to work with JDK 1.4.2.</span>
I removed the other version of ant I had and it still does not work. It produces
the same error.
I paste the complete buildfile.

Pierre
--

&lt;project name=&quot;LinkGrammar&quot; default=&quot;all&quot; basedir=&quot;.&quot;&gt;	 



 &lt;target name=&quot;all&quot; depends=&quot;compile_core, compile_swedish, compile_oldenglish,

                             compile_french, compile_newenglish, 

			     compile_newswedish&quot;/&gt;



 &lt;target name=&quot;init&quot;&gt;

    &lt;property name=&quot;sourceDir&quot; value=&quot;src&quot; /&gt;

    &lt;property name=&quot;templateDir&quot; value=&quot;template&quot;/&gt;

    &lt;property name=&quot;autogenDir&quot; value=&quot;../autogenerator&quot;/&gt;

    &lt;property name=&quot;outputDir&quot; value=&quot;classes&quot; /&gt;

    &lt;property name=&quot;linkGrammarDir&quot; value=&quot;../link-4.1&quot; /&gt;

    &lt;property name=&quot;cSrcDir&quot; value=&quot;../link-4.1/src&quot; /&gt;

    &lt;property name=&quot;classes&quot; value=&quot;classes/se/lth/cs&quot; /&gt;

    &lt;property name=&quot;runDir&quot; value=&quot;../run&quot; /&gt;

  &lt;/target&gt;

  

  &lt;target name=&quot;template&quot; depends=&quot;init&quot;&gt;

    &lt;delete dir=&quot;${templateDir}&quot;/&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${templateDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;java jar=&quot;${autogenDir}/autogenerator.jar&quot; failonerror=&quot;true&quot; fork=&quot;true&quot;&gt;

      &lt;arg line=&quot;-file template.xml -dtddest ${runDir} -javadest ${templateDir}&quot;/&gt;

    &lt;/java&gt;

    &lt;javac srcdir=&quot;${templateDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

      &lt;classpath&gt;

        &lt;pathelement location=&quot;${autogenDir}/autogenerator.jar&quot;/&gt;

      &lt;/classpath&gt;

    &lt;/javac&gt;

    &lt;jar destfile=&quot;${runDir}/template.jar&quot; basedir=&quot;${outputDir}&quot;/&gt;

  &lt;/target&gt;



  &lt;target name=&quot;compile_core&quot; depends=&quot;init&quot;&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

          &lt;pathelement location=&quot;.&quot;/&gt;

	  &lt;pathelement location=&quot;../xerces/xercesImpl.jar&quot;/&gt;   	

          &lt;pathelement location=&quot;${autogenDir}/autogenerator.jar&quot;/&gt;

        &lt;/classpath&gt;

	&lt;include name=&quot;se/lth/cs/carsimgui/**&quot;/&gt;

    &lt;/javac&gt;

    &lt;jar destfile=&quot;${runDir}/carsim.jar&quot; basedir=&quot;${outputDir}&quot; &gt;

     &lt;manifest&gt;

      &lt;attribute name=&quot;Main-Class&quot; value=&quot;se/lth/cs/carsimgui/CarSim&quot;/&gt;

      &lt;attribute name=&quot;Class-Path&quot; value=&quot;. ../vrml/vrml97.jar
../wordnetjni/java/jar/wnjn.jar ../xerces/xercesImpl.jar
../xerces/xmlParserAPIs.jar ${autogenDir}/autogenerator.jar ./template.jar&quot;/&gt;

     &lt;/manifest&gt;

    &lt;/jar&gt;

  &lt;/target&gt;



  &lt;target name=&quot;compile_oldenglish&quot; depends=&quot;init&quot;&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

          &lt;pathelement location=&quot;.&quot;/&gt;

	  &lt;pathelement location=&quot;../wordnetjni/java/classes&quot;/&gt;

	  &lt;pathelement location=&quot;../xerces/xercesImpl.jar&quot;/&gt;

        &lt;/classpath&gt;

	&lt;include name=&quot;se/lth/cs/carsim/**&quot;/&gt;

	&lt;include name=&quot;se/lth/cs/carsim/collision/**&quot;/&gt;

    &lt;/javac&gt;

    &lt;javah classpath=&quot;${outputDir}&quot; destdir=&quot;${cSrcDir}&quot; force=&quot;yes&quot;&gt;

        &lt;class name=&quot;se.lth.cs.carsim.LinkGrammarAPI&quot; /&gt;

    &lt;/javah&gt;

    &lt;jar destfile=&quot;${runDir}/carsim_oldenglish.jar&quot; basedir=&quot;${outputDir}&quot;&gt;

     &lt;manifest&gt;

      &lt;attribute name=&quot;Module-Name&quot; value=&quot;English&quot;/&gt;

      &lt;attribute name=&quot;Extract-Class&quot; value=&quot;se.lth.cs.carsim.Dispatch&quot;/&gt;

      &lt;attribute name=&quot;Extract-Method&quot; value=&quot;extractInformationToXML&quot;/&gt;

     &lt;/manifest&gt;

    &lt;/jar&gt;

  &lt;/target&gt;



  &lt;target name=&quot;compile_swedish&quot; depends=&quot;init&quot;&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

	  &lt;pathelement location=&quot;.&quot;/&gt;

	  &lt;pathelement location=&quot;../xerces/xercesImpl.jar&quot;/&gt;

        &lt;/classpath&gt;

	&lt;include name=&quot;se/lth/cs/carsimnlpsv/**&quot;/&gt;

    &lt;/javac&gt;

    &lt;jar destfile=&quot;${runDir}/carsim_swedish.jar&quot; basedir=&quot;${outputDir}&quot;&gt;

     &lt;manifest&gt;

      &lt;attribute name=&quot;Module-Name&quot; value=&quot;Swedish&quot;/&gt;

      &lt;attribute name=&quot;Extract-Class&quot; value=&quot;se.lth.cs.carsimnlpsv.Dispatch&quot;/&gt;

      &lt;attribute name=&quot;Extract-Method&quot; value=&quot;extractInformationToXML&quot;/&gt;

     &lt;/manifest&gt;

    &lt;/jar&gt;

  &lt;/target&gt;



  &lt;target name=&quot;compile_newenglish&quot; depends=&quot;template&quot;&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

	  &lt;pathelement location=&quot;.&quot;/&gt;

	  &lt;pathelement location=&quot;${runDir}/template.jar&quot;/&gt;

	  &lt;pathelement location=&quot;../wordnetjni/java/classes&quot;/&gt;

        &lt;/classpath&gt;

	&lt;include name=&quot;se/lth/cs/carsimnlpen/**&quot;/&gt;

    &lt;/javac&gt;

    &lt;jar destfile=&quot;${runDir}/carsim_newenglish.jar&quot; basedir=&quot;${outputDir}&quot;&gt;

     &lt;manifest&gt;

      &lt;attribute name=&quot;Module-Name&quot; value=&quot;New English&quot;/&gt;

      &lt;attribute name=&quot;Extract-Class&quot;
value=&quot;se.lth.cs.carsimnlpen.EnglishExtracter&quot;/&gt;

      &lt;attribute name=&quot;Extract-Method&quot; value=&quot;extractInformationToXML&quot;/&gt;

     &lt;/manifest&gt;

    &lt;/jar&gt;

  &lt;/target&gt;



  &lt;target name=&quot;compile_newswedish&quot; depends=&quot;template&quot;&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

	  &lt;pathelement location=&quot;.&quot;/&gt;

	  &lt;pathelement location=&quot;${runDir}/template.jar&quot;/&gt;

        &lt;/classpath&gt;

	&lt;include name=&quot;se/lth/cs/carsimnlpsv2/**&quot;/&gt;

    &lt;/javac&gt;

    &lt;jar destfile=&quot;${runDir}/carsim_newswedish.jar&quot; basedir=&quot;${outputDir}&quot;&gt;

     &lt;manifest&gt;

      &lt;attribute name=&quot;Module-Name&quot; value=&quot;New Swedish&quot;/&gt;

      &lt;attribute name=&quot;Extract-Class&quot;
value=&quot;se.lth.cs.carsimnlpsv2.SwedishExtracter&quot;/&gt;

      &lt;attribute name=&quot;Extract-Method&quot; value=&quot;extractInformationToXML&quot;/&gt;

     &lt;/manifest&gt;

    &lt;/jar&gt;

  &lt;/target&gt;



  &lt;target name=&quot;compile_french&quot; depends=&quot;init&quot;&gt;

    &lt;delete dir=&quot;${outputDir}&quot;/&gt;

    &lt;mkdir dir=&quot;${outputDir}&quot;/&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

	  &lt;pathelement location=&quot;.&quot;/&gt;

        &lt;/classpath&gt;

	&lt;include name=&quot;se/lth/cs/carsimnlpfr/**&quot;/&gt;

    &lt;/javac&gt;

    &lt;jar destfile=&quot;${runDir}/carsim_french.jar&quot; basedir=&quot;${outputDir}&quot;&gt;

     &lt;manifest&gt;

      &lt;attribute name=&quot;Module-Name&quot; value=&quot;French&quot;/&gt;

      &lt;attribute name=&quot;Extract-Class&quot; value=&quot;se.lth.cs.carsimnlpfr.Dispatch&quot;/&gt;

      &lt;attribute name=&quot;Extract-Method&quot; value=&quot;extractInformationToXML&quot;/&gt;

     &lt;/manifest&gt;

    &lt;/jar&gt;

  &lt;/target&gt;

  

  &lt;!-- This section is to add a fast build feature --&gt;



  &lt;target name=&quot;fastCompile&quot; depends=&quot;init&quot;&gt;

    &lt;javac srcdir=&quot;${sourceDir}&quot; destdir=&quot;${outputDir}&quot;&gt;

	&lt;classpath&gt;

        	&lt;pathelement location=&quot;.&quot;/&gt;

		&lt;pathelement location=&quot;../log4j/jakarta-log4j-1.2.6/dist/lib/log4j-1.2.6.jar&quot;/&gt;

		&lt;pathelement location=&quot;../wordnetjni/java/classes&quot;/&gt;

	    	&lt;pathelement location=&quot;../xerces/xercesImpl.jar&quot;/&gt;   	

        &lt;/classpath&gt; 	



        &lt;include name=&quot;se/lth/cs/carsim/**&quot;/&gt;

	&lt;include name=&quot;se/lth/cs/carsim/collision/**&quot;/&gt;

        &lt;include name=&quot;se/lth/cs/carsimgui/**&quot;/&gt;

        &lt;include name=&quot;se/lth/cs/carsimnlpfr/**&quot;/&gt;



    &lt;/javac&gt;

  &lt;/target&gt;

  

  &lt;target name=&quot;fastBuild&quot; depends=&quot;fastCompile&quot;&gt;

  	&lt;copy todir=&quot;${runDir}&quot; overwrite=&quot;yes&quot;&gt;

      &lt;fileset dir=&quot;${outputDir}&quot; /&gt;

    &lt;/copy&gt;

  &lt;/target&gt;

    

&lt;/project&gt;","> There must be an older version of Ant in your classpath somewhere.
> Line 348 of Ant 1.6beta is a try statement followed by the reflection 
> code needed to work with JDK 1.4.2.
I removed the other version of ant I had and it still does not work. It produces
the same error.
I paste the complete buildfile.

Pierre
--

<project name=""LinkGrammar"" default=""all"" basedir=""."">	 



 <target name=""all"" depends=""compile_core, compile_swedish, compile_oldenglish,

                             compile_french, compile_newenglish, 

			     compile_newswedish""/>



 <target name=""init"">

    <property name=""sourceDir"" value=""src"" />

    <property name=""templateDir"" value=""template""/>

    <property name=""autogenDir"" value=""../autogenerator""/>

    <property name=""outputDir"" value=""classes"" />

    <property name=""linkGrammarDir"" value=""../link-4.1"" />

    <property name=""cSrcDir"" value=""../link-4.1/src"" />

    <property name=""classes"" value=""classes/se/lth/cs"" />

    <property name=""runDir"" value=""../run"" />

  </target>

  

  <target name=""template"" depends=""init"">

    <delete dir=""${templateDir}""/>

    <delete dir=""${outputDir}""/>

    <mkdir dir=""${templateDir}""/>

    <mkdir dir=""${outputDir}""/>

    <java jar=""${autogenDir}/autogenerator.jar"" failonerror=""true"" fork=""true"">

      <arg line=""-file template.xml -dtddest ${runDir} -javadest ${templateDir}""/>

    </java>

    <javac srcdir=""${templateDir}"" destdir=""${outputDir}"">

      <classpath>

        <pathelement location=""${autogenDir}/autogenerator.jar""/>

      </classpath>

    </javac>

    <jar destfile=""${runDir}/template.jar"" basedir=""${outputDir}""/>

  </target>



  <target name=""compile_core"" depends=""init"">

    <delete dir=""${outputDir}""/>

    <mkdir dir=""${outputDir}""/>

    <javac srcdir=""${sourceDir}"" destdir=""${outputDir}"">

	<classpath>

          <pathelement location="".""/>

	  <pathelement location=""../xerces/xercesImpl.jar""/>   	

          <pathelement location=""${autogenDir}/autogenerator.jar""/>

        </classpath>

	<include name=""se/lth/cs/carsimgui/**""/>

    </javac>

    <jar destfile=""${runDir}/carsim.jar"" basedir=""${outputDir}"" >

     <manifest>

      <attribute name=""Main-Class"" value=""se/lth/cs/carsimgui/CarSim""/>

      <attribute name=""Class-Path"" value="". ../vrml/vrml97.jar
../wordnetjni/java/jar/wnjn.jar ../xerces/xercesImpl.jar
../xerces/xmlParserAPIs.jar ${autogenDir}/autogenerator.jar ./template.jar""/>

     </manifest>

    </jar>

  </target>



  <target name=""compile_oldenglish"" depends=""init"">

    <delete dir=""${outputDir}""/>

    <mkdir dir=""${outputDir}""/>

    <javac srcdir=""${sourceDir}"" destdir=""${outputDir}"">

	<classpath>

          <pathelement location="".""/>

	  <pathelement location=""../wordnetjni/java/classes""/>

	  <pathelement location=""../xerces/xercesImpl.jar""/>

        </classpath>

	<include name=""se/lth/cs/carsim/**""/>

	<include name=""se/lth/cs/carsim/collision/**""/>

    </javac>

    <javah classpath=""${outputDir}"" destdir=""${cSrcDir}"" force=""yes"">

        <class name=""se.lth.cs.carsim.LinkGrammarAPI"" />

    </javah>

    <jar destfile=""${runDir}/carsim_oldenglish.jar"" basedir=""${outputDir}"">

     <manifest>

      <attribute name=""Module-Name"" value=""English""/>

      <attribute name=""Extract-Class"" value=""se.lth.cs.carsim.Dispatch""/>

      <attribute name=""Extract-Method"" value=""extractInformationToXML""/>

     </manifest>

    </jar>

  </target>



  <target name=""compile_swedish"" depends=""init"">

    <delete dir=""${outputDir}""/>

    <mkdir dir=""${outputDir}""/>

    <javac srcdir=""${sourceDir}"" destdir=""${outputDir}"">

	<classpath>

	  <pathelement location="".""/>

	  <pathelement location=""../xerces/xercesImpl.jar""/>

        </classpath>

	<include name=""se/lth/cs/carsimnlpsv/**""/>

    </javac>

    <jar destfile=""${runDir}/carsim_swedish.jar"" basedir=""${outputDir}"">

     <manifest>

      <attribute name=""Module-Name"" value=""Swedish""/>

      <attribute name=""Extract-Class"" value=""se.lth.cs.carsimnlpsv.Dispatch""/>

      <attribute name=""Extract-Method"" value=""extractInformationToXML""/>

     </manifest>

    </jar>

  </target>



  <target name=""compile_newenglish"" depends=""template"">

    <delete dir=""${outputDir}""/>

    <mkdir dir=""${outputDir}""/>

    <javac srcdir=""${sourceDir}"" destdir=""${outputDir}"">

	<classpath>

	  <pathelement location="".""/>

	  <pathelement location=""${runDir}/template.jar""/>

	  <pathelement location=""../wordnetjni/java/classes""/>

        </classpath>

	<include name=""se/lth/cs/carsimnlpen/**""/>

    </javac>

    <jar destfile=""${runDir}/carsim_newenglish.jar"" basedir=""${outputDir}"">

     <manifest>

      <attribute name=""Module-Name"" value=""New English""/>

      <attribute name=""Extract-Class""
value=""se.lth.cs.carsimnlpen.EnglishExtracter""/>

      <attribute name=""Extract-Method"" value=""extractInformationToXML""/>

     </manifest>

    </jar>

  </target>



  <target name=""compile_newswedish"" depends=""template"">

    <delete dir=""${outputDir}""/>

    <mkdir dir=""${outputDir}""/>

    <javac srcdir=""${sourceDir}"" destdir=""${outputDir}"">

	<classpath>

	  <pathelement location="".""/>

	  <pathelement location=""${runDir}/template.jar""/>

        </classpath>

	<include name=""se/lth/cs/carsimnlpsv2/**""/>

    </javac>

    <jar destfile=""${runDir}/carsim_newswedish.jar"" basedir=""${outputDir}"">

     <manifest>

      <attribute name=""Module-Name"" value=""New Swedish""/>

      <attribute name=""Extract-Class""
value=""se.lth.cs.carsimnlpsv2.SwedishExtracter""/>

      <attribute name=""Extract-Method"" value=""extractInformationToXML""/>

     </manifest>

